<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>形式化大数数学 (0.0 - 高德纳箭头, 康威链箭)</title>
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/skylighting-solarized-theme.css" />
  <script type="text/javascript" src="highlight-hover.js"></script>
  <script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" />
</head>
<body>

<header>
<h1 class="title">形式化大数数学 (0.0 - 高德纳箭头, 康威链箭)</h1>
<blockquote class="metadata">
</blockquote>
</header>

<nav id="TOC" role="doc-toc">
    <strong>Contents</strong><label for="contents">⊕</label>
  <input type="checkbox" id="contents">
  <ul>
  <li><a href="#形式化大数数学-0.0---高德纳箭头-康威链箭" id="toc-形式化大数数学-0.0---高德纳箭头-康威链箭">形式化大数数学 (0.0 - 高德纳箭头, 康威链箭)</a>
  <ul>
  <li><a href="#迭代" id="toc-迭代">迭代</a></li>
  <li><a href="#自然数算术" id="toc-自然数算术">自然数算术</a></li>
  <li><a href="#阿克曼函数" id="toc-阿克曼函数">阿克曼函数</a>
  <ul>
  <li><a href="#数值表" id="toc-数值表">数值表</a></li>
  </ul></li>
  <li><a href="#高德纳箭头" id="toc-高德纳箭头">高德纳箭头</a></li>
  <li><a href="#葛立恒数" id="toc-葛立恒数">葛立恒数</a></li>
  <li><a href="#康威链箭" id="toc-康威链箭">康威链箭</a></li>
  </ul></li>
  </ul>
</nav>

<main>
<h1 id="形式化大数数学-0.0---高德纳箭头-康威链箭">形式化大数数学 (0.0 - 高德纳箭头, 康威链箭)</h1>
<blockquote>
<p>交流Q群: 893531731<br />
本文源码: <a href="https://github.com/choukh/agda-googology/blob/main/src/Lower.lagda.md">Lower.lagda.md</a><br />
高亮渲染: <a href="https://choukh.github.io/agda-googology/Lower.html">Lower.html</a></p>
</blockquote>
<pre class="Agda"><a id="351" class="Symbol">{-#</a> <a id="355" class="Keyword">OPTIONS</a> <a id="363" class="Pragma">--safe</a> <a id="370" class="Symbol">#-}</a>
<a id="374" class="Keyword">module</a> <a id="381" href="Lower.html" class="Module">Lower</a> <a id="387" class="Keyword">where</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="443" class="Keyword">using</a> <a id="449" class="Symbol">(</a><a id="450" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="453" class="Symbol">;</a> <a id="455" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="459" class="Symbol">)</a>
</pre>
<p>本篇是<a href="https://zhuanlan.zhihu.com/p/705306447">形式化大数数学 (1.0 - 序数, 增长层级, 不动点)</a>的前传, 我们快速介绍一些比较弱的著名大数记号, 这部分是入门的入门. 首先要理解的是各种大数记号的核心思想——迭代.</p>
<h2 id="迭代">迭代</h2>
<p>我们知道自然数类型 <span class="math inline">ℕ</span> 由如下两条规则定义.</p>
<p><span class="math display">
\frac{}{\kern{0.17em}\text{zero} : ℕ\kern{0.17em}}
\qquad
\frac{\alpha:ℕ}{\kern{0.17em}\text{suc}\kern{0.17em}\alpha:ℕ\kern{0.17em}}
</span></p>
<pre class="Agda"><a id="782" class="Keyword">open</a> <a id="787" class="Keyword">import</a> <a id="794" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="803" class="Keyword">using</a> <a id="809" class="Symbol">(</a><a id="810" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="811" class="Symbol">;</a> <a id="813" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="817" class="Symbol">;</a> <a id="819" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="822" class="Symbol">)</a>
</pre>
<p><strong>约定</strong> 我们用 <span class="math inline">A</span> 表示任意类型.</p>
<pre class="Agda"><a id="861" class="Keyword">variable</a> <a id="870" href="Lower.html#870" class="Generalizable">A</a> <a id="872" class="Symbol">:</a> <a id="874" href="Agda.Primitive.html#388" class="Primitive">Set</a>
</pre>
<p><strong>定义</strong> 函数 <span class="math inline">F : A → A</span> 的 <span class="math inline">n</span> 次复合叫做 <span class="math inline">F</span> 的 <span class="math inline">n</span> 次迭代, 记作 <span class="math inline">F^n</span></p>
<p><span class="math display">
\begin{aligned}
F^0 &amp;= \text{id} \\
F^{n^+} &amp;= F \circ F^n
\end{aligned}
</span></p>
<p>其中 <span class="math inline">\text{id}</span> 是恒等函数, 就是输入什么返回什么.</p>
<pre class="Agda"><a id="1065" class="Keyword">open</a> <a id="1070" class="Keyword">import</a> <a id="1077" href="Function.html" class="Module">Function</a> <a id="1086" class="Keyword">public</a> <a id="1093" class="Keyword">using</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Function.Base.html#704" class="Function">id</a><a id="1102" class="Symbol">;</a> <a id="1104" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="1107" class="Symbol">)</a>

<a id="_∘ⁿ_"></a><a id="1110" href="Lower.html#1110" class="Function Operator">_∘ⁿ_</a> <a id="1115" class="Symbol">:</a> <a id="1117" class="Symbol">(</a><a id="1118" href="Lower.html#870" class="Generalizable">A</a> <a id="1120" class="Symbol">→</a> <a id="1122" href="Lower.html#870" class="Generalizable">A</a><a id="1123" class="Symbol">)</a> <a id="1125" class="Symbol">→</a> <a id="1127" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1129" class="Symbol">→</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Lower.html#870" class="Generalizable">A</a> <a id="1134" class="Symbol">→</a> <a id="1136" href="Lower.html#870" class="Generalizable">A</a><a id="1137" class="Symbol">)</a>
<a id="1139" href="Lower.html#1139" class="Bound">F</a> <a id="1141" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="1144" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>  <a id="1150" class="Symbol">=</a> <a id="1152" href="Function.Base.html#704" class="Function">id</a>
<a id="1155" href="Lower.html#1155" class="Bound">F</a> <a id="1157" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="1160" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1164" href="Lower.html#1164" class="Bound">n</a> <a id="1166" class="Symbol">=</a> <a id="1168" href="Lower.html#1155" class="Bound">F</a> <a id="1170" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1172" class="Symbol">(</a><a id="1173" href="Lower.html#1155" class="Bound">F</a> <a id="1175" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="1178" href="Lower.html#1164" class="Bound">n</a><a id="1179" class="Symbol">)</a>
</pre>
<h2 id="自然数算术">自然数算术</h2>
<p><strong>约定</strong> 我们遵循类型论的习惯, 今后都会在无歧义的情况下省略函数应用的括号.</p>
<p><strong>定义</strong> 从 <span class="math inline">m</span> 开始做 <span class="math inline">n</span> 次后继叫做自然数加法, 记作 <span class="math inline">m+n</span></p>
<p><span class="math display">
m + n := \text{suc}^n\kern{0.17em}m
</span></p>
<pre class="Agda"><a id="1333" class="Keyword">infixl</a> <a id="1340" class="Number">6</a> <a id="1342" href="Lower.html#1346" class="Function Operator">_+_</a>
<a id="_+_"></a><a id="1346" href="Lower.html#1346" class="Function Operator">_+_</a> <a id="1350" class="Symbol">:</a> <a id="1352" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1354" class="Symbol">→</a> <a id="1356" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1358" class="Symbol">→</a> <a id="1360" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="1362" href="Lower.html#1362" class="Bound">m</a> <a id="1364" href="Lower.html#1346" class="Function Operator">+</a> <a id="1366" href="Lower.html#1366" class="Bound">n</a> <a id="1368" class="Symbol">=</a> <a id="1370" class="Symbol">(</a><a id="1371" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1375" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="1378" href="Lower.html#1366" class="Bound">n</a><a id="1379" class="Symbol">)</a> <a id="1381" href="Lower.html#1362" class="Bound">m</a>
</pre>
<p><strong>定义</strong> 从 <span class="math inline">0</span> 开始做 <span class="math inline">n</span> 次 <span class="math inline">+ m</span> 叫做自然数乘法, 记作 <span class="math inline">m×n</span>, 简记作 <span class="math inline">mn</span></p>
<p><span class="math display">
m × n := (+m)^n\kern{0.17em}0
</span></p>
<pre class="Agda"><a id="1491" class="Keyword">infixl</a> <a id="1498" class="Number">7</a> <a id="1500" href="Lower.html#1504" class="Function Operator">_*_</a>
<a id="_*_"></a><a id="1504" href="Lower.html#1504" class="Function Operator">_*_</a> <a id="1508" class="Symbol">:</a> <a id="1510" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1512" class="Symbol">→</a> <a id="1514" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1516" class="Symbol">→</a> <a id="1518" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="1520" href="Lower.html#1520" class="Bound">m</a> <a id="1522" href="Lower.html#1504" class="Function Operator">*</a> <a id="1524" href="Lower.html#1524" class="Bound">n</a> <a id="1526" class="Symbol">=</a> <a id="1528" class="Symbol">((</a><a id="1530" href="Lower.html#1346" class="Function Operator">_+</a> <a id="1533" href="Lower.html#1520" class="Bound">m</a><a id="1534" class="Symbol">)</a> <a id="1536" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="1539" href="Lower.html#1524" class="Bound">n</a><a id="1540" class="Symbol">)</a> <a id="1542" class="Number">0</a>
</pre>
<p><strong>定义</strong> 从 <span class="math inline">1</span> 开始做 <span class="math inline">n</span> 次 <span class="math inline">× m</span> 叫做自然数幂运算, 也叫乘方, 记作 <span class="math inline">m^n</span></p>
<p><span class="math display">
m^n := (×m)^n\kern{0.17em}1
</span></p>
<pre class="Agda"><a id="1647" class="Keyword">infixr</a> <a id="1654" class="Number">8</a> <a id="1656" href="Lower.html#1660" class="Function Operator">_^_</a>
<a id="_^_"></a><a id="1660" href="Lower.html#1660" class="Function Operator">_^_</a> <a id="1664" class="Symbol">:</a> <a id="1666" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1668" class="Symbol">→</a> <a id="1670" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1672" class="Symbol">→</a> <a id="1674" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="1676" href="Lower.html#1676" class="Bound">m</a> <a id="1678" href="Lower.html#1660" class="Function Operator">^</a> <a id="1680" href="Lower.html#1680" class="Bound">n</a> <a id="1682" class="Symbol">=</a> <a id="1684" class="Symbol">((</a><a id="1686" href="Lower.html#1504" class="Function Operator">_*</a> <a id="1689" href="Lower.html#1676" class="Bound">m</a><a id="1690" class="Symbol">)</a> <a id="1692" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="1695" href="Lower.html#1680" class="Bound">n</a><a id="1696" class="Symbol">)</a> <a id="1698" class="Number">1</a>
</pre>
<p><strong>例</strong></p>
<p><span class="math display">
2^5 = 32 \\
3^5 = 243
</span></p>
<pre class="Agda"><a id="1749" href="Lower.html#1749" class="Function">_</a> <a id="1751" class="Symbol">:</a> <a id="1753" class="Number">2</a> <a id="1755" href="Lower.html#1660" class="Function Operator">^</a> <a id="1757" class="Number">5</a> <a id="1759" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1761" class="Number">32</a>
<a id="1764" class="Symbol">_</a> <a id="1766" class="Symbol">=</a> <a id="1768" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="1774" href="Lower.html#1774" class="Function">_</a> <a id="1776" class="Symbol">:</a> <a id="1778" class="Number">3</a> <a id="1780" href="Lower.html#1660" class="Function Operator">^</a> <a id="1782" class="Number">5</a> <a id="1784" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1786" class="Number">243</a>
<a id="1790" class="Symbol">_</a> <a id="1792" class="Symbol">=</a> <a id="1794" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre>
<h2 id="阿克曼函数">阿克曼函数</h2>
<p><a href="https://googology.fandom.com/wiki/Ackermann_function">阿克曼函数 (Ackermann function)</a> 是最简单和最早发现的非原始递归的可计算全函数. 它有很多版本, 常见的双参数版本定义如下.</p>
<p><strong>定义</strong> 双参数阿克曼函数 <span class="math inline">\text{Ack}\kern{0.17em}m\kern{0.17em}n</span></p>
<p><span class="math display">
\begin{aligned}
\text{Ack}\kern{0.17em}0 &amp;:= \text{suc} \\
\text{Ack}\kern{0.17em}m^+\kern{0.17em}n&amp;:= (\text{Ack}\kern{0.17em}m)^n\kern{0.17em}(\text{Ack}\kern{0.17em}m\kern{0.17em}1)
\end{aligned}
</span></p>
<pre class="Agda"><a id="Ack"></a><a id="2216" href="Lower.html#2216" class="Function">Ack</a> <a id="2220" class="Symbol">:</a> <a id="2222" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2224" class="Symbol">→</a> <a id="2226" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2228" class="Symbol">→</a> <a id="2230" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="2232" href="Lower.html#2216" class="Function">Ack</a> <a id="2236" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2241" class="Symbol">=</a> <a id="2243" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a>
<a id="2247" href="Lower.html#2216" class="Function">Ack</a> <a id="2251" class="Symbol">(</a><a id="2252" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2256" href="Lower.html#2256" class="Bound">m</a><a id="2257" class="Symbol">)</a> <a id="2259" href="Lower.html#2259" class="Bound">n</a> <a id="2261" class="Symbol">=</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Lower.html#2216" class="Function">Ack</a> <a id="2268" href="Lower.html#2256" class="Bound">m</a> <a id="2270" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="2273" href="Lower.html#2259" class="Bound">n</a><a id="2274" class="Symbol">)</a> <a id="2276" class="Symbol">(</a><a id="2277" href="Lower.html#2216" class="Function">Ack</a> <a id="2281" href="Lower.html#2256" class="Bound">m</a> <a id="2283" class="Number">1</a><a id="2284" class="Symbol">)</a>
</pre>
<h3 id="数值表">数值表</h3>
<figure>
<img src="https://pic4.zhimg.com/80/v2-e37f9128a7d99a3e31001d403fa26001.png" alt="阿克曼函数数值表" />
<figcaption aria-hidden="true">阿克曼函数数值表</figcaption>
</figure>
<pre class="Agda"><a id="2388" href="Lower.html#2388" class="Function">_</a> <a id="2390" class="Symbol">:</a> <a id="2392" href="Lower.html#2216" class="Function">Ack</a> <a id="2396" class="Number">0</a> <a id="2398" class="Number">4</a> <a id="2400" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2402" class="Number">5</a>
<a id="2404" class="Symbol">_</a> <a id="2406" class="Symbol">=</a> <a id="2408" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2414" href="Lower.html#2414" class="Function">_</a> <a id="2416" class="Symbol">:</a> <a id="2418" href="Lower.html#2216" class="Function">Ack</a> <a id="2422" class="Number">1</a> <a id="2424" class="Number">4</a> <a id="2426" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2428" class="Number">6</a>
<a id="2430" class="Symbol">_</a> <a id="2432" class="Symbol">=</a> <a id="2434" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2440" href="Lower.html#2440" class="Function">_</a> <a id="2442" class="Symbol">:</a> <a id="2444" href="Lower.html#2216" class="Function">Ack</a> <a id="2448" class="Number">2</a> <a id="2450" class="Number">4</a> <a id="2452" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2454" class="Number">11</a>
<a id="2457" class="Symbol">_</a> <a id="2459" class="Symbol">=</a> <a id="2461" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2467" href="Lower.html#2467" class="Function">_</a> <a id="2469" class="Symbol">:</a> <a id="2471" href="Lower.html#2216" class="Function">Ack</a> <a id="2475" class="Number">3</a> <a id="2477" class="Number">4</a> <a id="2479" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2481" class="Number">125</a>
<a id="2485" class="Symbol">_</a> <a id="2487" class="Symbol">=</a> <a id="2489" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre>
<p>从表中第 <span class="math inline">n</span> 列的形式可以看到 <span class="math inline">\text{Ack}\kern{0.17em}m</span> 大致具有第 <span class="math inline">m</span> 级运算的增长率. 其中的高德纳箭头 <span class="math inline">↑</span> 和康威链箭 <span class="math inline">→</span> 介绍如下.</p>
<h2 id="高德纳箭头">高德纳箭头</h2>
<p><a href="https://googology.fandom.com/wiki/Arrow_notation">高德纳箭头 (Knuth’s up-arrow notation)</a> 是「将乘方看作乘法的迭代」这一思想的推广. 零个箭头是加法的迭代 (乘法), 一个箭头是乘法的迭代 (乘方), 两个箭头是一个箭头的迭代, 以此类推.</p>
<p><strong>定义</strong> 高德纳箭头有三个参数, 左右两边是底数和指数, 中间是箭头的数量.</p>
<p><span class="math display">
\begin{aligned}
m ↑^0 n &amp;:= mn \\
m ↑^{k^+} 0 &amp;:= 1 \\
m ↑^{k^+} n^+ &amp;:= (m ↑^k)^n\kern{0.17em}m
\end{aligned}
</span></p>
<pre class="Agda"><a id="2934" class="Keyword">infixr</a> <a id="2941" class="Number">9</a> <a id="2943" href="Lower.html#2950" class="Function Operator">_↑⟨_⟩_</a>
<a id="_↑⟨_⟩_"></a><a id="2950" href="Lower.html#2950" class="Function Operator">_↑⟨_⟩_</a> <a id="2957" class="Symbol">:</a> <a id="2959" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2961" class="Symbol">→</a> <a id="2963" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2965" class="Symbol">→</a> <a id="2967" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2969" class="Symbol">→</a> <a id="2971" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="2973" href="Lower.html#2973" class="Bound">m</a> <a id="2975" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="2978" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2983" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="2985" href="Lower.html#2985" class="Bound">n</a> <a id="2987" class="Symbol">=</a> <a id="2989" href="Lower.html#2973" class="Bound">m</a> <a id="2991" href="Lower.html#1504" class="Function Operator">*</a> <a id="2993" href="Lower.html#2985" class="Bound">n</a>
<a id="2995" href="Lower.html#2995" class="Bound">m</a> <a id="2997" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3000" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3004" href="Lower.html#3004" class="Bound">k</a> <a id="3006" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3008" class="Number">0</a> <a id="3010" class="Symbol">=</a> <a id="3012" class="Number">1</a>
<a id="3014" href="Lower.html#3014" class="Bound">m</a> <a id="3016" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3019" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3023" href="Lower.html#3023" class="Bound">k</a> <a id="3025" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3027" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3031" href="Lower.html#3031" class="Bound">n</a> <a id="3033" class="Symbol">=</a> <a id="3035" class="Symbol">((</a><a id="3037" href="Lower.html#3014" class="Bound">m</a> <a id="3039" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3042" href="Lower.html#3023" class="Bound">k</a> <a id="3044" href="Lower.html#2950" class="Function Operator">⟩_</a><a id="3046" class="Symbol">)</a> <a id="3048" href="Lower.html#1110" class="Function Operator">∘ⁿ</a> <a id="3051" href="Lower.html#3031" class="Bound">n</a><a id="3052" class="Symbol">)</a> <a id="3054" href="Lower.html#3014" class="Bound">m</a>
</pre>
<p><strong>例</strong></p>
<p><span class="math display">
\begin{aligned}
2 ↑^0 3 &amp;= 2×3 &amp;=&amp; 2 + 2 + 2 \\
2 ↑^1 3 &amp;= 2^3 &amp;=&amp; 2 × 2 × 2 \\
2 ↑^2 3 &amp;= {^3}2 &amp;=&amp; 2 ^ {2 ^ 2} \\
2 ↑^3 3 &amp;&amp;=&amp; 2 ↑^2 2 ↑^2 2
\end{aligned}
</span></p>
<pre class="Agda"><a id="3240" href="Lower.html#3240" class="Function">_</a> <a id="3242" class="Symbol">:</a> <a id="3244" class="Number">2</a> <a id="3246" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3249" class="Number">0</a> <a id="3251" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3253" class="Number">3</a> <a id="3255" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3257" class="Number">2</a> <a id="3259" href="Lower.html#1346" class="Function Operator">+</a> <a id="3261" class="Number">2</a> <a id="3263" href="Lower.html#1346" class="Function Operator">+</a> <a id="3265" class="Number">2</a>
<a id="3267" class="Symbol">_</a> <a id="3269" class="Symbol">=</a> <a id="3271" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="3277" href="Lower.html#3277" class="Function">_</a> <a id="3279" class="Symbol">:</a> <a id="3281" class="Number">2</a> <a id="3283" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3286" class="Number">1</a> <a id="3288" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3290" class="Number">3</a> <a id="3292" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3294" class="Number">2</a> <a id="3296" href="Lower.html#1504" class="Function Operator">*</a> <a id="3298" class="Number">2</a> <a id="3300" href="Lower.html#1504" class="Function Operator">*</a> <a id="3302" class="Number">2</a>
<a id="3304" class="Symbol">_</a> <a id="3306" class="Symbol">=</a> <a id="3308" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="3314" href="Lower.html#3314" class="Function">_</a> <a id="3316" class="Symbol">:</a> <a id="3318" class="Number">2</a> <a id="3320" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3323" class="Number">2</a> <a id="3325" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3327" class="Number">3</a> <a id="3329" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3331" class="Number">2</a> <a id="3333" href="Lower.html#1660" class="Function Operator">^</a> <a id="3335" class="Number">2</a> <a id="3337" href="Lower.html#1660" class="Function Operator">^</a> <a id="3339" class="Number">2</a>
<a id="3341" class="Symbol">_</a> <a id="3343" class="Symbol">=</a> <a id="3345" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="3351" href="Lower.html#3351" class="Function">_</a> <a id="3353" class="Symbol">:</a> <a id="3355" class="Number">2</a> <a id="3357" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3360" class="Number">3</a> <a id="3362" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3364" class="Number">3</a> <a id="3366" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3368" class="Number">2</a> <a id="3370" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3373" class="Number">2</a> <a id="3375" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3377" class="Number">2</a> <a id="3379" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3382" class="Number">2</a> <a id="3384" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3386" class="Number">2</a>
<a id="3388" class="Symbol">_</a> <a id="3390" class="Symbol">=</a> <a id="3392" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre>
<h2 id="葛立恒数">葛立恒数</h2>
<p><a href="https://googology.fandom.com/wiki/Graham%27s_number">葛立恒数 (Graham’s number)</a> 是一个入门级别的著名大数, 直观上是一个64层的箭头塔.</p>
<p><strong>定义</strong> 定义辅助函数 <span class="math inline">G : ℕ → ℕ</span>, 从4个箭头开始, 迭代 <span class="math inline">3 ↑^n 3</span> 作为箭头数量, 即</p>
<p><span class="math display">
\begin{aligned}
G\kern{0.17em}0 &amp;:= 4 \\
G\kern{0.17em}n^+ &amp;:= 3 ↑^n 3
\end{aligned}
</span></p>
<p>非形式地</p>
<p><span class="math display">
G\kern{0.17em}n := 3 ↑^{3 ↑^{... ↑^{3 ↑↑↑↑ 3} ...} 3} 3
</span></p>
<p>则葛立恒数为 <span class="math inline">G\kern{0.17em}64</span>.</p>
<pre class="Agda"><a id="3776" class="Keyword">module</a> <a id="Graham"></a><a id="3783" href="Lower.html#3783" class="Module">Graham</a> <a id="3790" class="Keyword">where</a>
  <a id="Graham.G"></a><a id="3798" href="Lower.html#3798" class="Function">G</a> <a id="3800" class="Symbol">:</a> <a id="3802" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3804" class="Symbol">→</a> <a id="3806" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="3810" href="Lower.html#3798" class="Function">G</a> <a id="3812" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="3817" class="Symbol">=</a> <a id="3819" class="Number">4</a>
  <a id="3823" href="Lower.html#3798" class="Function">G</a> <a id="3825" class="Symbol">(</a><a id="3826" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3830" href="Lower.html#3830" class="Bound">n</a><a id="3831" class="Symbol">)</a> <a id="3833" class="Symbol">=</a> <a id="3835" class="Number">3</a> <a id="3837" href="Lower.html#2950" class="Function Operator">↑⟨</a> <a id="3840" href="Lower.html#3830" class="Bound">n</a> <a id="3842" href="Lower.html#2950" class="Function Operator">⟩</a> <a id="3844" class="Number">3</a>

  <a id="Graham.G64"></a><a id="3849" href="Lower.html#3849" class="Function">G64</a> <a id="3853" class="Symbol">:</a> <a id="3855" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="3859" href="Lower.html#3849" class="Function">G64</a> <a id="3863" class="Symbol">=</a> <a id="3865" href="Lower.html#3798" class="Function">G</a> <a id="3867" class="Number">64</a>
</pre>
<h2 id="康威链箭">康威链箭</h2>
<p><strong>约定</strong> 我们用 <span class="math inline">n,a_1,a_2,a_3,a_4,b,c</span> 表示任意给定的自然数. <span class="math inline">n^{++}</span> 表示 <span class="math inline">n</span> 的两次后继, <span class="math inline">n^{+++}</span> 表示 <span class="math inline">n</span> 的三次后继.</p>
<pre class="Agda"><a id="3987" class="Keyword">private</a> <a id="3995" class="Keyword">variable</a> <a id="4004" href="Lower.html#4004" class="Generalizable">n</a> <a id="4006" href="Lower.html#4006" class="Generalizable">a₁</a> <a id="4009" href="Lower.html#4009" class="Generalizable">a₂</a> <a id="4012" href="Lower.html#4012" class="Generalizable">a₃</a> <a id="4015" href="Lower.html#4015" class="Generalizable">a₄</a> <a id="4018" href="Lower.html#4018" class="Generalizable">b</a> <a id="4020" href="Lower.html#4020" class="Generalizable">c</a> <a id="4022" class="Symbol">:</a> <a id="4024" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="4026" class="Keyword">private</a> <a id="4034" class="Keyword">pattern</a> <a id="2+"></a><a id="4042" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="4045" href="Lower.html#4058" class="Bound">n</a> <a id="4047" class="Symbol">=</a> <a id="4049" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4053" class="Symbol">(</a><a id="4054" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4058" href="Lower.html#4058" class="Bound">n</a><a id="4059" class="Symbol">)</a>
<a id="4061" class="Keyword">private</a> <a id="4069" class="Keyword">pattern</a> <a id="3+"></a><a id="4077" href="Lower.html#4077" class="InductiveConstructor">3+</a> <a id="4080" href="Lower.html#4098" class="Bound">n</a> <a id="4082" class="Symbol">=</a> <a id="4084" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4088" class="Symbol">(</a><a id="4089" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4093" class="Symbol">(</a><a id="4094" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4098" href="Lower.html#4098" class="Bound">n</a><a id="4099" class="Symbol">))</a>
</pre>
<p><a href="https://googology.fandom.com/wiki/Chained_arrow_notation">康威链箭 (Conway chained arrow notation)</a> 是自然数的长度大于等于 <span class="math inline">2</span> 的有限序列. 由右箭头连接, 如</p>
<p><span class="math display">
a → b → ... → c → d
</span></p>
<p>但这里的右箭头无关紧要, 简洁起见我们形式化为参数个数大于等于 <span class="math inline">2</span> 的多元函数 <span class="math inline">C_{n^{++}}</span>, 其中 <span class="math inline">n</span> 表示参数个数.</p>
<p><span class="math display">
C_{n^{++}}\kern{0.17em}a\kern{0.17em}b\kern{0.17em}...\kern{0.17em}c\kern{0.17em}d
</span></p>
<ul>
<li><span class="math inline">C_2</span> 就定义为乘方</li>
<li><span class="math inline">C_3</span> 等价于 <span class="math inline">n</span> 个高德纳箭头</li>
<li><span class="math inline">C_4</span> 大致相等于高德纳箭头塔</li>
<li>…</li>
</ul>
<p>形式地</p>
<p><strong>定义</strong></p>
<p><span class="math display">
\begin{aligned}
C_2\kern{0.17em}m\kern{0.17em}n &amp;:= m^n \\
\end{aligned}
</span></p>
<pre class="Agda"><a id="C₂"></a><a id="4593" href="Lower.html#4593" class="Function">C₂</a> <a id="4596" class="Symbol">:</a> <a id="4598" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4600" class="Symbol">→</a> <a id="4602" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4604" class="Symbol">→</a> <a id="4606" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="4608" href="Lower.html#4593" class="Function">C₂</a> <a id="4611" class="Symbol">=</a> <a id="4613" href="Lower.html#1660" class="Function Operator">_^_</a>
</pre>
<p><span class="math display">
\begin{aligned}
C_3\kern{0.17em}a\kern{0.17em}b^{++}\kern{0.17em}c^{++} &amp;:= C_3\kern{0.17em}a\kern{0.17em}(C_3\kern{0.17em}a\kern{0.17em}b^{+}\kern{0.17em}c^{++})\kern{0.17em}c^{+} \\
C_3\kern{0.17em}a\kern{0.17em}b\kern{0.17em}1 &amp;:= C_2\kern{0.17em}a\kern{0.17em}b
\end{aligned}
</span></p>
<p>其中第二行的 <span class="math inline">c = 0</span> 的情况不存在, 因为 <span class="math inline">c = 1</span> 时已退化为 <span class="math inline">C_2</span>.</p>
<pre class="Agda"><a id="C₃"></a><a id="4965" href="Lower.html#4965" class="Function">C₃</a> <a id="4968" class="Symbol">:</a> <a id="4970" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4972" class="Symbol">→</a> <a id="4974" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4976" class="Symbol">→</a> <a id="4978" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4980" class="Symbol">→</a> <a id="4982" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="4984" href="Lower.html#4965" class="Function">C₃</a> <a id="4987" href="Lower.html#4987" class="Bound">a</a> <a id="4989" class="Symbol">(</a><a id="4990" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="4993" href="Lower.html#4993" class="Bound">b</a><a id="4994" class="Symbol">)</a> <a id="4996" class="Symbol">(</a><a id="4997" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="5000" href="Lower.html#5000" class="Bound">c</a><a id="5001" class="Symbol">)</a> <a id="5003" class="Symbol">=</a> <a id="5005" href="Lower.html#4965" class="Function">C₃</a> <a id="5008" href="Lower.html#4987" class="Bound">a</a> <a id="5010" class="Symbol">(</a><a id="5011" href="Lower.html#4965" class="Function">C₃</a> <a id="5014" href="Lower.html#4987" class="Bound">a</a> <a id="5016" class="Symbol">(</a><a id="5017" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5021" href="Lower.html#4993" class="Bound">b</a><a id="5022" class="Symbol">)</a> <a id="5024" class="Symbol">(</a><a id="5025" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="5028" href="Lower.html#5000" class="Bound">c</a><a id="5029" class="Symbol">))</a> <a id="5032" class="Symbol">(</a><a id="5033" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5037" href="Lower.html#5000" class="Bound">c</a><a id="5038" class="Symbol">)</a>
<a id="5040" href="Lower.html#4965" class="CatchallClause Function">C₃</a><a id="5042" class="CatchallClause"> </a><a id="5043" href="Lower.html#5043" class="CatchallClause Bound">a</a><a id="5044" class="CatchallClause"> </a><a id="5045" href="Lower.html#5045" class="CatchallClause Bound">b</a><a id="5046" class="CatchallClause"> </a><a id="5047" class="CatchallClause Symbol">_</a> <a id="5049" class="Symbol">=</a> <a id="5051" href="Lower.html#4593" class="Function">C₂</a> <a id="5054" href="Lower.html#5043" class="Bound">a</a> <a id="5056" href="Lower.html#5045" class="Bound">b</a>
</pre>
<p><span class="math display">
\begin{aligned}
C_4\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}b^{++}\kern{0.17em}c^{++} &amp;:= C_4\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}(C_4\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}b^{+}\kern{0.17em}c^{++})\kern{0.17em}c^{+} \\
C_4\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}b\kern{0.17em}1 &amp;:= C_3\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}b
\end{aligned}
</span></p>
<pre class="Agda"><a id="C₄"></a><a id="5448" href="Lower.html#5448" class="Function">C₄</a> <a id="5451" class="Symbol">:</a> <a id="5453" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5455" class="Symbol">→</a> <a id="5457" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5459" class="Symbol">→</a> <a id="5461" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5463" class="Symbol">→</a> <a id="5465" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5467" class="Symbol">→</a> <a id="5469" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="5471" href="Lower.html#5448" class="Function">C₄</a> <a id="5474" href="Lower.html#5474" class="Bound">a₁</a> <a id="5477" href="Lower.html#5477" class="Bound">a₂</a> <a id="5480" class="Symbol">(</a><a id="5481" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="5484" href="Lower.html#5484" class="Bound">b</a><a id="5485" class="Symbol">)</a> <a id="5487" class="Symbol">(</a><a id="5488" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="5491" href="Lower.html#5491" class="Bound">c</a><a id="5492" class="Symbol">)</a> <a id="5494" class="Symbol">=</a> <a id="5496" href="Lower.html#5448" class="Function">C₄</a> <a id="5499" href="Lower.html#5474" class="Bound">a₁</a> <a id="5502" href="Lower.html#5477" class="Bound">a₂</a> <a id="5505" class="Symbol">(</a><a id="5506" href="Lower.html#5448" class="Function">C₄</a> <a id="5509" href="Lower.html#5474" class="Bound">a₁</a> <a id="5512" href="Lower.html#5477" class="Bound">a₂</a> <a id="5515" class="Symbol">(</a><a id="5516" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5520" href="Lower.html#5484" class="Bound">b</a><a id="5521" class="Symbol">)</a> <a id="5523" class="Symbol">(</a><a id="5524" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="5527" href="Lower.html#5491" class="Bound">c</a><a id="5528" class="Symbol">))</a> <a id="5531" class="Symbol">(</a><a id="5532" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5536" href="Lower.html#5491" class="Bound">c</a><a id="5537" class="Symbol">)</a>
<a id="5539" href="Lower.html#5448" class="CatchallClause Function">C₄</a><a id="5541" class="CatchallClause"> </a><a id="5542" href="Lower.html#5542" class="CatchallClause Bound">a₁</a><a id="5544" class="CatchallClause"> </a><a id="5545" href="Lower.html#5545" class="CatchallClause Bound">a₂</a><a id="5547" class="CatchallClause"> </a><a id="5548" href="Lower.html#5548" class="CatchallClause Bound">b</a><a id="5549" class="CatchallClause"> </a><a id="5550" class="CatchallClause Symbol">_</a> <a id="5552" class="Symbol">=</a> <a id="5554" href="Lower.html#4965" class="Function">C₃</a> <a id="5557" href="Lower.html#5542" class="Bound">a₁</a> <a id="5560" href="Lower.html#5545" class="Bound">a₂</a> <a id="5563" href="Lower.html#5548" class="Bound">b</a>
</pre>
<p><span class="math display">
\begin{aligned}
C_5\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}b^{++}\kern{0.17em}c^{++} &amp;:= C_5\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}(C_5\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}b^{+}\kern{0.17em}c^{++})\kern{0.17em}c^{+} \\
C_5\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}b\kern{0.17em}1 &amp;:= C_4\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}b
\end{aligned}
</span></p>
<pre class="Agda"><a id="C₅"></a><a id="6035" href="Lower.html#6035" class="Function">C₅</a> <a id="6038" class="Symbol">:</a> <a id="6040" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6042" class="Symbol">→</a> <a id="6044" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6046" class="Symbol">→</a> <a id="6048" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6050" class="Symbol">→</a> <a id="6052" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6054" class="Symbol">→</a> <a id="6056" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6058" class="Symbol">→</a> <a id="6060" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="6062" href="Lower.html#6035" class="Function">C₅</a> <a id="6065" href="Lower.html#6065" class="Bound">a₁</a> <a id="6068" href="Lower.html#6068" class="Bound">a₂</a> <a id="6071" href="Lower.html#6071" class="Bound">a₃</a> <a id="6074" class="Symbol">(</a><a id="6075" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="6078" href="Lower.html#6078" class="Bound">b</a><a id="6079" class="Symbol">)</a> <a id="6081" class="Symbol">(</a><a id="6082" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="6085" href="Lower.html#6085" class="Bound">c</a><a id="6086" class="Symbol">)</a> <a id="6088" class="Symbol">=</a> <a id="6090" href="Lower.html#6035" class="Function">C₅</a> <a id="6093" href="Lower.html#6065" class="Bound">a₁</a> <a id="6096" href="Lower.html#6068" class="Bound">a₂</a> <a id="6099" href="Lower.html#6071" class="Bound">a₃</a> <a id="6102" class="Symbol">(</a><a id="6103" href="Lower.html#6035" class="Function">C₅</a> <a id="6106" href="Lower.html#6065" class="Bound">a₁</a> <a id="6109" href="Lower.html#6068" class="Bound">a₂</a> <a id="6112" href="Lower.html#6071" class="Bound">a₃</a> <a id="6115" class="Symbol">(</a><a id="6116" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6120" href="Lower.html#6078" class="Bound">b</a><a id="6121" class="Symbol">)</a> <a id="6123" class="Symbol">(</a><a id="6124" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="6127" href="Lower.html#6085" class="Bound">c</a><a id="6128" class="Symbol">))</a> <a id="6131" class="Symbol">(</a><a id="6132" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6136" href="Lower.html#6085" class="Bound">c</a><a id="6137" class="Symbol">)</a>
<a id="6139" href="Lower.html#6035" class="CatchallClause Function">C₅</a><a id="6141" class="CatchallClause"> </a><a id="6142" href="Lower.html#6142" class="CatchallClause Bound">a₁</a><a id="6144" class="CatchallClause"> </a><a id="6145" href="Lower.html#6145" class="CatchallClause Bound">a₂</a><a id="6147" class="CatchallClause"> </a><a id="6148" href="Lower.html#6148" class="CatchallClause Bound">a₃</a><a id="6150" class="CatchallClause"> </a><a id="6151" href="Lower.html#6151" class="CatchallClause Bound">b</a><a id="6152" class="CatchallClause"> </a><a id="6153" class="CatchallClause Symbol">_</a> <a id="6155" class="Symbol">=</a> <a id="6157" href="Lower.html#5448" class="Function">C₄</a> <a id="6160" href="Lower.html#6142" class="Bound">a₁</a> <a id="6163" href="Lower.html#6145" class="Bound">a₂</a> <a id="6166" href="Lower.html#6148" class="Bound">a₃</a> <a id="6169" href="Lower.html#6151" class="Bound">b</a>
</pre>
<p>现在我们要推广到任意 <span class="math inline">n \ge 2</span> 元. 观察 <span class="math inline">C_2</span> 到 <span class="math inline">C_5</span> 的形式, 不难发现 <span class="math inline">C_2</span>, <span class="math inline">C_3\kern{0.17em}a</span>, <span class="math inline">C_4\kern{0.17em}a_1\kern{0.17em}a_2</span>, <span class="math inline">C_5\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3</span> 的类型都是 <span class="math inline">ℕ → ℕ → ℕ</span>, 于是可以抽象出以下共通形式</p>
<p><span class="math display">
\begin{aligned}
C_+ &amp;: (ℕ → ℕ → ℕ) → ℕ → ℕ → ℕ → ℕ \\
C_+\kern{0.17em}C\kern{0.17em}a\kern{0.17em}b^{++}\kern{0.17em}c^{++} &amp;:= C_+\kern{0.17em}C\kern{0.17em}a\kern{0.17em}(C_+\kern{0.17em}C\kern{0.17em}a\kern{0.17em}b^{+}\kern{0.17em}c^{++})\kern{0.17em}c^{+} \\
C_+\kern{0.17em}C\kern{0.17em}a\kern{0.17em}b\kern{0.17em}1 &amp;:= C\kern{0.17em}a\kern{0.17em}b
\end{aligned}
</span></p>
<pre class="Agda"><a id="C₊"></a><a id="6769" href="Lower.html#6769" class="Function">C₊</a> <a id="6772" class="Symbol">:</a> <a id="6774" class="Symbol">(</a><a id="6775" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6777" class="Symbol">→</a> <a id="6779" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6781" class="Symbol">→</a> <a id="6783" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6784" class="Symbol">)</a> <a id="6786" class="Symbol">→</a> <a id="6788" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6790" class="Symbol">→</a> <a id="6792" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6794" class="Symbol">→</a> <a id="6796" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6798" class="Symbol">→</a> <a id="6800" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="6802" href="Lower.html#6769" class="Function">C₊</a> <a id="6805" href="Lower.html#6805" class="Bound">C</a> <a id="6807" href="Lower.html#6807" class="Bound">a</a> <a id="6809" class="Symbol">(</a><a id="6810" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="6813" href="Lower.html#6813" class="Bound">b</a><a id="6814" class="Symbol">)</a> <a id="6816" class="Symbol">(</a><a id="6817" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="6820" href="Lower.html#6820" class="Bound">c</a><a id="6821" class="Symbol">)</a> <a id="6823" class="Symbol">=</a> <a id="6825" href="Lower.html#6769" class="Function">C₊</a> <a id="6828" href="Lower.html#6805" class="Bound">C</a> <a id="6830" href="Lower.html#6807" class="Bound">a</a> <a id="6832" class="Symbol">(</a><a id="6833" href="Lower.html#6769" class="Function">C₊</a> <a id="6836" href="Lower.html#6805" class="Bound">C</a> <a id="6838" href="Lower.html#6807" class="Bound">a</a> <a id="6840" class="Symbol">(</a><a id="6841" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6845" href="Lower.html#6813" class="Bound">b</a><a id="6846" class="Symbol">)</a> <a id="6848" class="Symbol">(</a><a id="6849" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="6852" href="Lower.html#6820" class="Bound">c</a><a id="6853" class="Symbol">))</a> <a id="6856" class="Symbol">(</a><a id="6857" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6861" href="Lower.html#6820" class="Bound">c</a><a id="6862" class="Symbol">)</a>
<a id="6864" href="Lower.html#6769" class="CatchallClause Function">C₊</a><a id="6866" class="CatchallClause"> </a><a id="6867" href="Lower.html#6867" class="CatchallClause Bound">C</a><a id="6868" class="CatchallClause"> </a><a id="6869" href="Lower.html#6869" class="CatchallClause Bound">a</a><a id="6870" class="CatchallClause"> </a><a id="6871" href="Lower.html#6871" class="CatchallClause Bound">b</a><a id="6872" class="CatchallClause"> </a><a id="6873" class="CatchallClause Symbol">_</a> <a id="6875" class="Symbol">=</a> <a id="6877" href="Lower.html#6867" class="Bound">C</a> <a id="6879" href="Lower.html#6869" class="Bound">a</a> <a id="6881" href="Lower.html#6871" class="Bound">b</a>
</pre>
<p>于是我们可以将 <span class="math inline">C_3</span> 到 <span class="math inline">C_5</span> 的定义换成</p>
<p><span class="math display">
\begin{aligned}
C_3 &amp;:= C_+\kern{0.17em}C_2 \\
C_4\kern{0.17em}a &amp;:= C_+\kern{0.17em}(C_3\kern{0.17em}a) \\
C_5\kern{0.17em}a_1\kern{0.17em}a_2 &amp;:= C_+\kern{0.17em}(C_4\kern{0.17em}a_1\kern{0.17em}a_2)
\end{aligned}
</span></p>
<pre class="Agda"><a id="C₃′"></a><a id="7148" href="Lower.html#7148" class="Function">C₃′</a> <a id="7152" class="Symbol">:</a> <a id="7154" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7156" class="Symbol">→</a> <a id="7158" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7160" class="Symbol">→</a> <a id="7162" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7164" class="Symbol">→</a> <a id="7166" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="7168" href="Lower.html#7148" class="Function">C₃′</a> <a id="7172" class="Symbol">=</a> <a id="7174" href="Lower.html#6769" class="Function">C₊</a> <a id="7177" href="Lower.html#4593" class="Function">C₂</a>

<a id="C₄′"></a><a id="7181" href="Lower.html#7181" class="Function">C₄′</a> <a id="7185" class="Symbol">:</a> <a id="7187" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7189" class="Symbol">→</a> <a id="7191" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7193" class="Symbol">→</a> <a id="7195" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7197" class="Symbol">→</a> <a id="7199" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7201" class="Symbol">→</a> <a id="7203" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="7205" href="Lower.html#7181" class="Function">C₄′</a> <a id="7209" href="Lower.html#7209" class="Bound">a</a> <a id="7211" class="Symbol">=</a> <a id="7213" href="Lower.html#6769" class="Function">C₊</a> <a id="7216" class="Symbol">(</a><a id="7217" href="Lower.html#7148" class="Function">C₃′</a> <a id="7221" href="Lower.html#7209" class="Bound">a</a><a id="7222" class="Symbol">)</a>

<a id="C₅′"></a><a id="7225" href="Lower.html#7225" class="Function">C₅′</a> <a id="7229" class="Symbol">:</a> <a id="7231" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7233" class="Symbol">→</a> <a id="7235" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7237" class="Symbol">→</a> <a id="7239" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7241" class="Symbol">→</a> <a id="7243" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7245" class="Symbol">→</a> <a id="7247" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7249" class="Symbol">→</a> <a id="7251" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="7253" href="Lower.html#7225" class="Function">C₅′</a> <a id="7257" href="Lower.html#7257" class="Bound">a₁</a> <a id="7260" href="Lower.html#7260" class="Bound">a₂</a> <a id="7263" class="Symbol">=</a> <a id="7265" href="Lower.html#6769" class="Function">C₊</a> <a id="7268" class="Symbol">(</a><a id="7269" href="Lower.html#7181" class="Function">C₄′</a> <a id="7273" href="Lower.html#7257" class="Bound">a₁</a> <a id="7276" href="Lower.html#7260" class="Bound">a₂</a><a id="7278" class="Symbol">)</a>
</pre>
<p>但现在我们还写不出任意 <span class="math inline">C_n</span>, 因为首先要写出它的类型.</p>
<p><strong>定义</strong> 陪域为 <span class="math inline">A</span> 的有限元自然数函数 <span class="math inline">\overbrace{ℕ→...→ℕ}^n →A</span>, 记作 <span class="math inline">A^{→n}</span>, 递归定义为</p>
<p><span class="math display">
\begin{aligned}
A^{→0} &amp;:= A \\
A^{→n^+} &amp;:= ℕ → A^{→n}
\end{aligned}
</span></p>
<pre class="Agda"><a id="_→ⁿ_"></a><a id="7476" href="Lower.html#7476" class="Function Operator">_→ⁿ_</a> <a id="7481" class="Symbol">:</a> <a id="7483" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="7487" class="Symbol">→</a> <a id="7489" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7491" class="Symbol">→</a> <a id="7493" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="7497" href="Lower.html#7497" class="Bound">A</a> <a id="7499" href="Lower.html#7476" class="Function Operator">→ⁿ</a> <a id="7502" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="7507" class="Symbol">=</a> <a id="7509" href="Lower.html#7497" class="Bound">A</a>
<a id="7511" href="Lower.html#7511" class="Bound">A</a> <a id="7513" href="Lower.html#7476" class="Function Operator">→ⁿ</a> <a id="7516" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7520" href="Lower.html#7520" class="Bound">n</a> <a id="7522" class="Symbol">=</a> <a id="7524" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7526" class="Symbol">→</a> <a id="7528" href="Lower.html#7511" class="Bound">A</a> <a id="7530" href="Lower.html#7476" class="Function Operator">→ⁿ</a> <a id="7533" href="Lower.html#7520" class="Bound">n</a>
</pre>
<p>观察 <span class="math inline">C_+</span> 的类型, 为了适用它, 还需要柯里化和反柯里化前 <span class="math inline">n</span> 个参数. 我们使用自然数的 <span class="math inline">n</span> 维向量 <span class="math inline">\vec{a}^n : \text{Vec}\kern{0.17em}ℕ\kern{0.17em}n</span> 来容纳反柯里化出来的 <span class="math inline">n</span> 个参数. 我们用 <span class="math inline">[\kern{0.17em}]</span> 表示空向量, 用 <span class="math inline">a :: \vec{a}^n</span> 表示向量的头尾.</p>
<pre class="Agda"><a id="7739" class="Keyword">open</a> <a id="7744" class="Keyword">import</a> <a id="7751" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="7760" class="Keyword">using</a> <a id="7766" class="Symbol">(</a><a id="7767" href="Data.Vec.Base.html#1111" class="Datatype">Vec</a><a id="7770" class="Symbol">;</a> <a id="7772" href="Data.Vec.Base.html#1166" class="InductiveConstructor Operator">_∷_</a><a id="7775" class="Symbol">;</a> <a id="7777" href="Data.Vec.Base.html#1147" class="InductiveConstructor">[]</a><a id="7779" class="Symbol">)</a>
</pre>
<p><strong>定义</strong> 递归定义函数 <span class="math inline">\text{uncurry}_2</span> 将 <span class="math inline">ℕ^{→n^{++}}</span> 反柯里化为 <span class="math inline">\text{Vec}\kern{0.17em}ℕ\kern{0.17em}n → ℕ → ℕ → ℕ</span></p>
<p><span class="math display">
\begin{aligned}
\text{uncurry}_2\kern{0.17em}F\kern{0.17em}[\kern{0.17em}] &amp;:= F \\
\text{uncurry}_2\kern{0.17em}F\kern{0.17em}(a :: \vec{a}^n) &amp;:= \text{uncurry}_2\kern{0.17em}(F\kern{0.17em}a)\kern{0.17em}\vec{a}^n
\end{aligned}
</span></p>
<pre class="Agda"><a id="uncurry₂"></a><a id="8141" href="Lower.html#8141" class="Function">uncurry₂</a> <a id="8150" class="Symbol">:</a> <a id="8152" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8154" href="Lower.html#7476" class="Function Operator">→ⁿ</a> <a id="8157" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="8160" href="Lower.html#4004" class="Generalizable">n</a> <a id="8162" class="Symbol">→</a> <a id="8164" class="Symbol">(</a><a id="8165" href="Data.Vec.Base.html#1111" class="Datatype">Vec</a> <a id="8169" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8171" href="Lower.html#4004" class="Generalizable">n</a> <a id="8173" class="Symbol">→</a> <a id="8175" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8177" class="Symbol">→</a> <a id="8179" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8181" class="Symbol">→</a> <a id="8183" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8184" class="Symbol">)</a>
<a id="8186" href="Lower.html#8141" class="Function">uncurry₂</a> <a id="8195" class="Symbol">{</a><a id="8196" class="Argument">n</a> <a id="8198" class="Symbol">=</a> <a id="8200" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="8204" class="Symbol">}</a> <a id="8206" href="Lower.html#8206" class="Bound">F</a> <a id="8208" href="Data.Vec.Base.html#1147" class="InductiveConstructor">[]</a> <a id="8211" class="Symbol">=</a> <a id="8213" href="Lower.html#8206" class="Bound">F</a>
<a id="8215" href="Lower.html#8141" class="Function">uncurry₂</a> <a id="8224" class="Symbol">{</a><a id="8225" class="Argument">n</a> <a id="8227" class="Symbol">=</a> <a id="8229" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8233" href="Lower.html#8233" class="Bound">n</a><a id="8234" class="Symbol">}</a> <a id="8236" href="Lower.html#8236" class="Bound">F</a> <a id="8238" class="Symbol">(</a><a id="8239" href="Lower.html#8239" class="Bound">a</a> <a id="8241" href="Data.Vec.Base.html#1166" class="InductiveConstructor Operator">∷</a> <a id="8243" href="Lower.html#8243" class="Bound">a⃗</a><a id="8245" class="Symbol">)</a> <a id="8247" class="Symbol">=</a> <a id="8249" href="Lower.html#8141" class="Function">uncurry₂</a> <a id="8258" class="Symbol">(</a><a id="8259" href="Lower.html#8236" class="Bound">F</a> <a id="8261" href="Lower.html#8239" class="Bound">a</a><a id="8262" class="Symbol">)</a> <a id="8264" href="Lower.html#8243" class="Bound">a⃗</a>
</pre>
<p><strong>定义</strong> 递归定义函数 <span class="math inline">\text{curry}_3</span> 将 <span class="math inline">\text{Vec}\kern{0.17em}ℕ\kern{0.17em}n → ℕ → ℕ → ℕ → ℕ</span> 柯里化为 <span class="math inline">ℕ^{→n^{+++}}</span></p>
<p><span class="math display">
\begin{aligned}
\text{curry}_3\kern{0.17em}F &amp;:= F\kern{0.17em}[\kern{0.17em}] \\
\text{curry}_3\kern{0.17em}F\kern{0.17em}a &amp;:= \text{curry}_3\kern{0.17em}λ \vec{a}^n , F\kern{0.17em}(a :: \vec{a}^n)
\end{aligned}
</span></p>
<pre class="Agda"><a id="curry₃"></a><a id="8613" href="Lower.html#8613" class="Function">curry₃</a> <a id="8620" class="Symbol">:</a> <a id="8622" class="Symbol">(</a><a id="8623" href="Data.Vec.Base.html#1111" class="Datatype">Vec</a> <a id="8627" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8629" href="Lower.html#4004" class="Generalizable">n</a> <a id="8631" class="Symbol">→</a> <a id="8633" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8635" class="Symbol">→</a> <a id="8637" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8639" class="Symbol">→</a> <a id="8641" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8643" class="Symbol">→</a> <a id="8645" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8646" class="Symbol">)</a> <a id="8648" class="Symbol">→</a> <a id="8650" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8652" href="Lower.html#7476" class="Function Operator">→ⁿ</a> <a id="8655" href="Lower.html#4077" class="InductiveConstructor">3+</a> <a id="8658" href="Lower.html#4004" class="Generalizable">n</a>
<a id="8660" href="Lower.html#8613" class="Function">curry₃</a> <a id="8667" class="Symbol">{</a><a id="8668" class="Argument">n</a> <a id="8670" class="Symbol">=</a> <a id="8672" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="8676" class="Symbol">}</a> <a id="8678" href="Lower.html#8678" class="Bound">F</a> <a id="8680" class="Symbol">=</a> <a id="8682" href="Lower.html#8678" class="Bound">F</a> <a id="8684" href="Data.Vec.Base.html#1147" class="InductiveConstructor">[]</a>
<a id="8687" href="Lower.html#8613" class="Function">curry₃</a> <a id="8694" class="Symbol">{</a><a id="8695" class="Argument">n</a> <a id="8697" class="Symbol">=</a> <a id="8699" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8703" href="Lower.html#8703" class="Bound">n</a><a id="8704" class="Symbol">}</a> <a id="8706" href="Lower.html#8706" class="Bound">F</a> <a id="8708" href="Lower.html#8708" class="Bound">a</a> <a id="8710" class="Symbol">=</a> <a id="8712" href="Lower.html#8613" class="Function">curry₃</a> <a id="8719" class="Symbol">λ</a> <a id="8721" href="Lower.html#8721" class="Bound">a⃗</a> <a id="8724" class="Symbol">→</a> <a id="8726" href="Lower.html#8706" class="Bound">F</a> <a id="8728" class="Symbol">(</a><a id="8729" href="Lower.html#8708" class="Bound">a</a> <a id="8731" href="Data.Vec.Base.html#1166" class="InductiveConstructor Operator">∷</a> <a id="8733" href="Lower.html#8721" class="Bound">a⃗</a><a id="8735" class="Symbol">)</a>
</pre>
<p>终于</p>
<p><strong>定义</strong> 递归定义任意 <span class="math inline">n \ge 2</span> 元康威链箭 <span class="math inline">C_{n^{++}} : \prod_n ℕ^{→n^{++}}</span></p>
<p><span class="math display">
\begin{aligned}
C_2\kern{0.17em}m\kern{0.17em}n &amp;:= m^n \\
C_{n^{+++}} &amp;:= \text{curry}_3\kern{0.17em}λ \vec{a}^n , C_+\kern{0.17em}(\text{uncurry}_2\kern{0.17em}C_{n^{++}}\kern{0.17em}\vec{a}^n)
\end{aligned}
</span></p>
<pre class="Agda"><a id="C₂₊ₙ"></a><a id="9037" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="9042" class="Symbol">:</a> <a id="9044" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9046" href="Lower.html#7476" class="Function Operator">→ⁿ</a> <a id="9049" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="9052" href="Lower.html#4004" class="Generalizable">n</a>
<a id="9054" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="9059" class="Symbol">{</a><a id="9060" class="Argument">n</a> <a id="9062" class="Symbol">=</a> <a id="9064" class="Number">0</a><a id="9065" class="Symbol">}</a> <a id="9067" class="Symbol">=</a> <a id="9069" href="Lower.html#1660" class="Function Operator">_^_</a>
<a id="9073" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="9078" class="Symbol">{</a><a id="9079" class="Argument">n</a> <a id="9081" class="Symbol">=</a> <a id="9083" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="9087" href="Lower.html#9087" class="Bound">n</a><a id="9088" class="Symbol">}</a> <a id="9090" class="Symbol">=</a> <a id="9092" href="Lower.html#8613" class="Function">curry₃</a> <a id="9099" class="Symbol">λ</a> <a id="9101" href="Lower.html#9101" class="Bound">a⃗</a> <a id="9104" class="Symbol">→</a> <a id="9106" href="Lower.html#6769" class="Function">C₊</a> <a id="9109" class="Symbol">(</a><a id="9110" href="Lower.html#8141" class="Function">uncurry₂</a> <a id="9119" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="9124" href="Lower.html#9101" class="Bound">a⃗</a><a id="9126" class="Symbol">)</a>
</pre>
<p><strong>注意</strong> 我们的这个定义并非最简, 而是综合考虑了</p>
<ul>
<li>能循序渐进地理解定义</li>
<li>能通过 Agda 的自动停机检查</li>
</ul>
<p><strong>事实</strong> 不难验证</p>
<p><span class="math display">
\begin{aligned}
C_2\kern{0.17em}b\kern{0.17em}c &amp;= b ^ c \\
C_3\kern{0.17em}2\kern{0.17em}2\kern{0.17em}1 &amp;= C_2\kern{0.17em}2\kern{0.17em}2 \\
C_4\kern{0.17em}2\kern{0.17em}2\kern{0.17em}1\kern{0.17em}9 &amp;= C_2\kern{0.17em}2\kern{0.17em}2 \\
C_5\kern{0.17em}2\kern{0.17em}2\kern{0.17em}2\kern{0.17em}1\kern{0.17em}9 &amp;= C_3\kern{0.17em}2\kern{0.17em}2\kern{0.17em}2 \\
C_6\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}a_4\kern{0.17em}b^{++}\kern{0.17em}c^{++} &amp;= C_6\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}a_4\kern{0.17em}(C_6\kern{0.17em}a_1\kern{0.17em}a_2\kern{0.17em}a_3\kern{0.17em}a_4\kern{0.17em}b^{+}\kern{0.17em}c^{++})\kern{0.17em}c^{+}
\end{aligned}
</span></p>
<pre class="Agda"><a id="9919" href="Lower.html#9919" class="Function">_</a> <a id="9921" class="Symbol">:</a> <a id="9923" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="9928" class="Symbol">{</a><a id="9929" class="Number">0</a><a id="9930" class="Symbol">}</a> <a id="9932" href="Lower.html#4018" class="Generalizable">b</a> <a id="9934" href="Lower.html#4020" class="Generalizable">c</a> <a id="9936" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9938" href="Lower.html#4018" class="Generalizable">b</a> <a id="9940" href="Lower.html#1660" class="Function Operator">^</a> <a id="9942" href="Lower.html#4020" class="Generalizable">c</a>
<a id="9944" class="Symbol">_</a> <a id="9946" class="Symbol">=</a> <a id="9948" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="9954" href="Lower.html#9954" class="Function">_</a> <a id="9956" class="Symbol">:</a> <a id="9958" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="9963" class="Symbol">{</a><a id="9964" class="Number">1</a><a id="9965" class="Symbol">}</a> <a id="9967" class="Number">2</a> <a id="9969" class="Number">2</a> <a id="9971" class="Number">1</a> <a id="9973" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9975" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="9980" class="Symbol">{</a><a id="9981" class="Number">0</a><a id="9982" class="Symbol">}</a> <a id="9984" class="Number">2</a> <a id="9986" class="Number">2</a>
<a id="9988" class="Symbol">_</a> <a id="9990" class="Symbol">=</a> <a id="9992" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="9998" href="Lower.html#9998" class="Function">_</a> <a id="10000" class="Symbol">:</a> <a id="10002" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="10007" class="Symbol">{</a><a id="10008" class="Number">2</a><a id="10009" class="Symbol">}</a> <a id="10011" class="Number">2</a> <a id="10013" class="Number">2</a> <a id="10015" class="Number">1</a> <a id="10017" class="Number">9</a> <a id="10019" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10021" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="10026" class="Symbol">{</a><a id="10027" class="Number">0</a><a id="10028" class="Symbol">}</a> <a id="10030" class="Number">2</a> <a id="10032" class="Number">2</a>
<a id="10034" class="Symbol">_</a> <a id="10036" class="Symbol">=</a> <a id="10038" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="10044" href="Lower.html#10044" class="Function">_</a> <a id="10046" class="Symbol">:</a> <a id="10048" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="10053" class="Symbol">{</a><a id="10054" class="Number">3</a><a id="10055" class="Symbol">}</a> <a id="10057" class="Number">2</a> <a id="10059" class="Number">2</a> <a id="10061" class="Number">2</a> <a id="10063" class="Number">1</a> <a id="10065" class="Number">9</a> <a id="10067" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10069" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="10074" class="Symbol">{</a><a id="10075" class="Number">1</a><a id="10076" class="Symbol">}</a> <a id="10078" class="Number">2</a> <a id="10080" class="Number">2</a> <a id="10082" class="Number">2</a>
<a id="10084" class="Symbol">_</a> <a id="10086" class="Symbol">=</a> <a id="10088" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="10094" href="Lower.html#10094" class="Function">_</a> <a id="10096" class="Symbol">:</a> <a id="10098" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="10103" class="Symbol">{</a><a id="10104" class="Number">4</a><a id="10105" class="Symbol">}</a> <a id="10107" href="Lower.html#4006" class="Generalizable">a₁</a> <a id="10110" href="Lower.html#4009" class="Generalizable">a₂</a> <a id="10113" href="Lower.html#4012" class="Generalizable">a₃</a> <a id="10116" href="Lower.html#4015" class="Generalizable">a₄</a> <a id="10119" class="Symbol">(</a><a id="10120" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="10123" href="Lower.html#4018" class="Generalizable">b</a><a id="10124" class="Symbol">)</a> <a id="10126" class="Symbol">(</a><a id="10127" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="10130" href="Lower.html#4020" class="Generalizable">c</a><a id="10131" class="Symbol">)</a> <a id="10133" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10135" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="10140" class="Symbol">{</a><a id="10141" class="Number">4</a><a id="10142" class="Symbol">}</a> <a id="10144" href="Lower.html#4006" class="Generalizable">a₁</a> <a id="10147" href="Lower.html#4009" class="Generalizable">a₂</a> <a id="10150" href="Lower.html#4012" class="Generalizable">a₃</a> <a id="10153" href="Lower.html#4015" class="Generalizable">a₄</a> <a id="10156" class="Symbol">(</a><a id="10157" href="Lower.html#9037" class="Function">C₂₊ₙ</a> <a id="10162" class="Symbol">{</a><a id="10163" class="Number">4</a><a id="10164" class="Symbol">}</a> <a id="10166" href="Lower.html#4006" class="Generalizable">a₁</a> <a id="10169" href="Lower.html#4009" class="Generalizable">a₂</a> <a id="10172" href="Lower.html#4012" class="Generalizable">a₃</a> <a id="10175" href="Lower.html#4015" class="Generalizable">a₄</a> <a id="10178" class="Symbol">(</a><a id="10179" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10183" href="Lower.html#4018" class="Generalizable">b</a><a id="10184" class="Symbol">)</a> <a id="10186" class="Symbol">(</a><a id="10187" href="Lower.html#4042" class="InductiveConstructor">2+</a> <a id="10190" href="Lower.html#4020" class="Generalizable">c</a><a id="10191" class="Symbol">))</a> <a id="10194" class="Symbol">(</a><a id="10195" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10199" href="Lower.html#4020" class="Generalizable">c</a><a id="10200" class="Symbol">)</a>
<a id="10202" class="Symbol">_</a> <a id="10204" class="Symbol">=</a> <a id="10206" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre>
<p>更高增长率的函数请看正篇 <a href="https://zhuanlan.zhihu.com/p/705306447">形式化大数数学 (1.0 - 序数, 增长层级, 不动点)</a>, 那里的起点就远大于以上定义的所有函数.</p>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
