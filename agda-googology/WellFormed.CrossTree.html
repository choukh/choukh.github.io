<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>形式化大数数学 (2.3 - 跨树关系)</title>
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/skylighting-solarized-theme.css" />
  <script type="text/javascript" src="highlight-hover.js"></script>
  <script defer="" src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
</head>
<body>

<header>
<h1 class="title">形式化大数数学 (2.3 - 跨树关系)</h1>
<blockquote class="metadata">
</blockquote>
</header>

<nav id="TOC" role="doc-toc">
    <strong>Contents</strong><label for="contents">⊕</label>
  <input type="checkbox" id="contents">
  <ul>
  <li><a href="#形式化大数数学-2.3---跨树关系" id="toc-形式化大数数学-2.3---跨树关系">形式化大数数学 (2.3 - 跨树关系)</a>
  <ul>
  <li><a href="#非严格序" id="toc-非严格序">非严格序</a></li>
  <li><a href="#外延相等" id="toc-外延相等">外延相等</a></li>
  <li><a href="#严格序" id="toc-严格序">严格序</a></li>
  <li><a href="#结构实例化" id="toc-结构实例化">结构实例化</a></li>
  <li><a href="#跨树算术定理" id="toc-跨树算术定理">跨树算术定理</a>
  <ul>
  <li><a href="#加法" id="toc-加法">加法</a></li>
  <li><a href="#乘法" id="toc-乘法">乘法</a></li>
  <li><a href="#幂运算" id="toc-幂运算">幂运算</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>

<main>
<h1 id="形式化大数数学-2.3---跨树关系">形式化大数数学 (2.3 - 跨树关系)</h1>
<blockquote>
<p>交流Q群: 893531731<br />
本文源码: <a href="https://github.com/choukh/agda-googology/blob/main/src/WellFormed/CrossTree.lagda.md">CrossTree.lagda.md</a><br />
高亮渲染: <a href="https://choukh.github.io/agda-googology/WellFormed.CrossTree.html">CrossTree.html</a></p>
</blockquote>
<p><a href="https://zhuanlan.zhihu.com/p/715504174">上一篇</a>我们定义了序数的加法, 乘法和幂运算. 为了进一步研究序数运算的性质, 我们追加定义一种更宽泛的序关系, 它允许非同株树序数间建立关系, 我们称之为跨树关系. 本文将讨论跨树关系的性质, 并证明序数运算在跨树关系下的性质.</p>
<pre class="Agda"><a id="537" class="Symbol">{-#</a> <a id="541" class="Keyword">OPTIONS</a> <a id="549" class="Pragma">--safe</a> <a id="556" class="Pragma">--cubical</a> <a id="566" class="Pragma">--lossy-unification</a> <a id="586" class="Symbol">#-}</a>
<a id="590" class="Keyword">module</a> <a id="597" href="WellFormed.CrossTree.html" class="Module">WellFormed.CrossTree</a> <a id="618" class="Keyword">where</a>

<a id="625" class="Keyword">open</a> <a id="630" class="Keyword">import</a> <a id="637" href="WellFormed.Base.html" class="Module">WellFormed.Base</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="WellFormed.Properties.html" class="Module">WellFormed.Properties</a>
<a id="687" class="Keyword">open</a> <a id="692" class="Keyword">import</a> <a id="699" href="WellFormed.Arithmetic.html" class="Module">WellFormed.Arithmetic</a>

<a id="722" class="Keyword">open</a> <a id="727" class="Keyword">import</a> <a id="734" href="Relation.Binary.Definitions.html" class="Module">Relation.Binary.Definitions</a>
<a id="762" class="Keyword">open</a> <a id="767" class="Keyword">import</a> <a id="774" href="Induction.WellFounded.html" class="Module">Induction.WellFounded</a>
</pre>
<h2 id="非严格序">非严格序</h2>
<p><strong>定义 2-3-0</strong> 归纳定义非严格跨树关系 <span class="math inline">a ≼ b</span>.</p>
<p><span class="math display">
\frac{}
{\quad\text{z≼} : 0 ≼ a \quad}
\qquad
\frac{a ≼ b}
{\quad\text{s≼s} : a^{+} ≼ b^{+} \quad}
</span></p>
<p><span class="math display">
\frac{a ≼ f(n)}
{\quad\text{≼l} : a ≼ \lim(f) \quad}
\qquad
\frac{∀n, f(n) ≼ a}
{\quad\text{l≼} : \lim(f) ≼ a \quad}
</span></p>
<p>其中 <span class="math inline">\text{s≼s}</span> 说后继运算保持 <span class="math inline">≼</span>, <span class="math inline">\text{≼l}</span> 说极限是基本列的上界, <span class="math inline">\text{l≼}</span> 说极限是基本列的上确界.</p>
<pre class="Agda"><a id="1162" class="Keyword">infix</a> <a id="1168" class="Number">6</a> <a id="1170" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="1174" class="Keyword">data</a> <a id="_≼_"></a><a id="1179" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a> <a id="1183" class="Symbol">:</a> <a id="1185" href="WellFormed.Base.html#3160" class="Datatype">Ord</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="WellFormed.Base.html#3160" class="Datatype">Ord</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1202" class="Keyword">where</a>
  <a id="_≼_.z≼"></a><a id="1210" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>  <a id="1214" class="Symbol">:</a> <a id="1216" class="Number">0</a> <a id="1218" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1220" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
  <a id="_≼_.s≼s"></a><a id="1224" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="1228" class="Symbol">:</a> <a id="1230" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1232" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1234" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="1236" class="Symbol">→</a> <a id="1238" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="1242" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1244" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1246" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="1250" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
  <a id="_≼_.≼l"></a><a id="1254" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a>  <a id="1258" class="Symbol">:</a> <a id="1260" class="Symbol">{</a><a id="1261" href="WellFormed.CrossTree.html#1261" class="Bound">w</a> <a id="1263" class="Symbol">:</a> <a id="1265" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="1268" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="1269" class="Symbol">}</a> <a id="1271" class="Symbol">→</a> <a id="1273" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1275" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1277" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="1279" href="WellFormed.Base.html#3959" class="Generalizable">n</a> <a id="1281" class="Symbol">→</a> <a id="1283" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1285" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1287" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="1291" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="1293" class="Symbol">⦃</a> <a id="1295" href="WellFormed.CrossTree.html#1261" class="Bound">w</a> <a id="1297" class="Symbol">⦄</a>
  <a id="_≼_.l≼"></a><a id="1301" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a>  <a id="1305" class="Symbol">:</a> <a id="1307" class="Symbol">{</a><a id="1308" href="WellFormed.CrossTree.html#1308" class="Bound">w</a> <a id="1310" class="Symbol">:</a> <a id="1312" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="1315" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="1316" class="Symbol">}</a> <a id="1318" class="Symbol">→</a> <a id="1320" class="Symbol">(∀</a> <a id="1323" class="Symbol">{</a><a id="1324" href="WellFormed.CrossTree.html#1324" class="Bound">n</a><a id="1325" class="Symbol">}</a> <a id="1327" class="Symbol">→</a> <a id="1329" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="1331" href="WellFormed.CrossTree.html#1324" class="Bound">n</a> <a id="1333" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1335" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="1336" class="Symbol">)</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="1344" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="1346" class="Symbol">⦃</a> <a id="1348" href="WellFormed.CrossTree.html#1308" class="Bound">w</a> <a id="1350" class="Symbol">⦄</a> <a id="1352" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1354" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
</pre>
<p>如果我们有 <span class="math inline">a ≼ f(n)</span> 的证明 <span class="math inline">r</span>, 我们把 <span class="math inline">a ≼ \lim f</span> 的证明记作 <span class="math inline">\text{≼}[n](r)</span>.</p>
<pre class="Agda"><a id="≼[_]"></a><a id="1437" href="WellFormed.CrossTree.html#1437" class="Function Operator">≼[_]</a> <a id="1442" class="Symbol">:</a> <a id="1444" class="Symbol">(</a><a id="1445" href="WellFormed.CrossTree.html#1445" class="Bound">n</a> <a id="1447" class="Symbol">:</a> <a id="1449" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1450" class="Symbol">)</a> <a id="1452" class="Symbol">{</a><a id="1453" href="WellFormed.CrossTree.html#1453" class="Bound">w</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="1460" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="1461" class="Symbol">}</a> <a id="1463" class="Symbol">→</a> <a id="1465" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1467" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1469" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="1471" href="WellFormed.CrossTree.html#1445" class="Bound">n</a> <a id="1473" class="Symbol">→</a> <a id="1475" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1477" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1479" class="InductiveConstructor">lim</a> <a id="1483" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="1485" class="Symbol">⦃</a> <a id="1487" href="WellFormed.CrossTree.html#1453" class="Bound">w</a> <a id="1489" class="Symbol">⦄</a>
<a id="1491" href="WellFormed.CrossTree.html#1437" class="Function Operator">≼[_]</a> <a id="1496" class="Symbol">_</a> <a id="1498" class="Symbol">=</a> <a id="1500" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a>
</pre>
<p>如果已知极限序数 <span class="math inline">a</span>, 我们有 <span class="math inline">\text{≼l}</span> 与 <span class="math inline">\text{l≼}</span> 的另一种表述:</p>
<ul>
<li><span class="math inline">\text{≼a}</span>: 如果 <span class="math inline">b ≼ a[n]</span>, 那么 <span class="math inline">b ≼ a</span>.</li>
<li><span class="math inline">\text{a≼}</span>: 如果 <span class="math inline">∀n, a[n] ≼ b</span>, 那么 <span class="math inline">a ≼ b</span>.</li>
</ul>
<pre class="Agda"><a id="≼a"></a><a id="1658" href="WellFormed.CrossTree.html#1658" class="Function">≼a</a> <a id="1661" class="Symbol">:</a> <a id="1663" class="Symbol">⦃</a> <a id="1665" href="WellFormed.CrossTree.html#1665" class="Bound">_</a> <a id="1667" class="Symbol">:</a> <a id="1669" href="WellFormed.Properties.html#2285" class="Function">isLim</a> <a id="1675" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1677" class="Symbol">⦄</a> <a id="1679" class="Symbol">→</a> <a id="1681" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="1683" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1685" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1687" href="WellFormed.Properties.html#2460" class="Function Operator">[</a> <a id="1689" href="WellFormed.Base.html#3959" class="Generalizable">n</a> <a id="1691" href="WellFormed.Properties.html#2460" class="Function Operator">]</a> <a id="1693" class="Symbol">→</a> <a id="1695" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="1697" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1699" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="1701" href="WellFormed.CrossTree.html#1658" class="Function">≼a</a> <a id="1704" class="Symbol">{</a><a id="1705" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="1709" href="WellFormed.CrossTree.html#1709" class="Bound">f</a><a id="1710" class="Symbol">}</a> <a id="1712" class="Symbol">=</a> <a id="1714" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a>

<a id="a≼"></a><a id="1718" href="WellFormed.CrossTree.html#1718" class="Function">a≼</a> <a id="1721" class="Symbol">:</a> <a id="1723" class="Symbol">⦃</a> <a id="1725" href="WellFormed.CrossTree.html#1725" class="Bound">_</a> <a id="1727" class="Symbol">:</a> <a id="1729" href="WellFormed.Properties.html#2285" class="Function">isLim</a> <a id="1735" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1737" class="Symbol">⦄</a> <a id="1739" class="Symbol">→</a> <a id="1741" class="Symbol">(∀</a> <a id="1744" class="Symbol">{</a><a id="1745" href="WellFormed.CrossTree.html#1745" class="Bound">n</a><a id="1746" class="Symbol">}</a> <a id="1748" class="Symbol">→</a> <a id="1750" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1752" href="WellFormed.Properties.html#2460" class="Function Operator">[</a> <a id="1754" href="WellFormed.CrossTree.html#1745" class="Bound">n</a> <a id="1756" href="WellFormed.Properties.html#2460" class="Function Operator">]</a> <a id="1758" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1760" href="WellFormed.Base.html#3969" class="Generalizable">b</a><a id="1761" class="Symbol">)</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="1767" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="1769" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="1771" href="WellFormed.CrossTree.html#1718" class="Function">a≼</a> <a id="1774" class="Symbol">{</a><a id="1775" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="1779" href="WellFormed.CrossTree.html#1779" class="Bound">f</a><a id="1780" class="Symbol">}</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a>
</pre>
<p><strong>事实 2-3-1</strong> 后继运算单射 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 由归纳定义反演即得. ∎</p>
<pre class="Agda"><a id="s≼s-inj"></a><a id="1848" href="WellFormed.CrossTree.html#1848" class="Function">s≼s-inj</a> <a id="1856" class="Symbol">:</a> <a id="1858" class="InductiveConstructor">suc</a> <a id="1862" href="WellFormed.Properties.html#1269" class="Function Operator">injects</a> <a id="1870" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="1874" href="WellFormed.CrossTree.html#1848" class="Function">s≼s-inj</a> <a id="1882" class="Symbol">(</a><a id="1883" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="1887" href="WellFormed.CrossTree.html#1887" class="Bound">p</a><a id="1888" class="Symbol">)</a> <a id="1890" class="Symbol">=</a> <a id="1892" href="WellFormed.CrossTree.html#1887" class="Bound">p</a>
</pre>
<p><strong>事实 2-3-2</strong> <span class="math inline">\text{l≼l}</span> : 如果两个基本列逐项满足 <span class="math inline">≼</span>, 那么它们的极限也满足 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 复合构造子 <span class="math inline">\text{l≼}</span> 与 <span class="math inline">\text{≼l}</span> 即得. ∎</p>
<pre class="Agda"><a id="l≼l"></a><a id="2016" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="2020" class="Symbol">:</a> <a id="2022" class="Symbol">{</a><a id="2023" href="WellFormed.CrossTree.html#2023" class="Bound">wff</a> <a id="2027" class="Symbol">:</a> <a id="2029" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="2032" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="2033" class="Symbol">}</a> <a id="2035" class="Symbol">{</a><a id="2036" href="WellFormed.CrossTree.html#2036" class="Bound">wfg</a> <a id="2040" class="Symbol">:</a> <a id="2042" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="2045" href="WellFormed.Base.html#3985" class="Generalizable">g</a><a id="2046" class="Symbol">}</a> <a id="2048" class="Symbol">→</a> <a id="2050" class="Symbol">(∀</a> <a id="2053" class="Symbol">{</a><a id="2054" href="WellFormed.CrossTree.html#2054" class="Bound">n</a><a id="2055" class="Symbol">}</a> <a id="2057" class="Symbol">→</a> <a id="2059" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="2061" href="WellFormed.CrossTree.html#2054" class="Bound">n</a> <a id="2063" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="2065" href="WellFormed.Base.html#3985" class="Generalizable">g</a> <a id="2067" href="WellFormed.CrossTree.html#2054" class="Bound">n</a><a id="2068" class="Symbol">)</a> <a id="2070" class="Symbol">→</a> <a id="2072" class="InductiveConstructor">lim</a> <a id="2076" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="2078" class="Symbol">⦃</a> <a id="2080" href="WellFormed.CrossTree.html#2023" class="Bound">wff</a> <a id="2084" class="Symbol">⦄</a> <a id="2086" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="2088" class="InductiveConstructor">lim</a> <a id="2092" href="WellFormed.Base.html#3985" class="Generalizable">g</a> <a id="2094" class="Symbol">⦃</a> <a id="2096" href="WellFormed.CrossTree.html#2036" class="Bound">wfg</a> <a id="2100" class="Symbol">⦄</a>
<a id="2102" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="2106" href="WellFormed.CrossTree.html#2106" class="Bound">p</a> <a id="2108" class="Symbol">=</a> <a id="2110" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="2113" class="Symbol">(</a><a id="2114" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="2117" href="WellFormed.CrossTree.html#2106" class="Bound">p</a><a id="2118" class="Symbol">)</a>
</pre>
<p><strong>事实 2-3-3</strong> 如果两个基本列错开一项后逐项满足 <span class="math inline">≼</span>, 那么它们的极限也满足 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 复合构造子 <span class="math inline">\text{l≼}</span> 与 <span class="math inline">\text{≼l}</span> 并调整 <span class="math inline">\text{≼l}</span> 的参数即得. ∎</p>
<pre class="Agda"><a id="l≼ls"></a><a id="2251" href="WellFormed.CrossTree.html#2251" class="Function">l≼ls</a> <a id="2256" class="Symbol">:</a> <a id="2258" class="Symbol">{</a><a id="2259" href="WellFormed.CrossTree.html#2259" class="Bound">wff</a> <a id="2263" class="Symbol">:</a> <a id="2265" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="2268" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="2269" class="Symbol">}</a> <a id="2271" class="Symbol">{</a><a id="2272" href="WellFormed.CrossTree.html#2272" class="Bound">wfg</a> <a id="2276" class="Symbol">:</a> <a id="2278" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="2281" href="WellFormed.Base.html#3985" class="Generalizable">g</a><a id="2282" class="Symbol">}</a> <a id="2284" class="Symbol">→</a> <a id="2286" class="Symbol">(∀</a> <a id="2289" class="Symbol">{</a><a id="2290" href="WellFormed.CrossTree.html#2290" class="Bound">n</a><a id="2291" class="Symbol">}</a> <a id="2293" class="Symbol">→</a> <a id="2295" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="2297" href="WellFormed.CrossTree.html#2290" class="Bound">n</a> <a id="2299" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="2301" href="WellFormed.Base.html#3985" class="Generalizable">g</a> <a id="2303" class="Symbol">(</a><a id="2304" class="InductiveConstructor">suc</a> <a id="2308" href="WellFormed.CrossTree.html#2290" class="Bound">n</a><a id="2309" class="Symbol">))</a> <a id="2312" class="Symbol">→</a> <a id="2314" class="InductiveConstructor">lim</a> <a id="2318" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="2320" class="Symbol">⦃</a> <a id="2322" href="WellFormed.CrossTree.html#2259" class="Bound">wff</a> <a id="2326" class="Symbol">⦄</a> <a id="2328" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="2330" class="InductiveConstructor">lim</a> <a id="2334" href="WellFormed.Base.html#3985" class="Generalizable">g</a> <a id="2336" class="Symbol">⦃</a> <a id="2338" href="WellFormed.CrossTree.html#2272" class="Bound">wfg</a> <a id="2342" class="Symbol">⦄</a>
<a id="2344" href="WellFormed.CrossTree.html#2251" class="Function">l≼ls</a> <a id="2349" href="WellFormed.CrossTree.html#2349" class="Bound">p</a> <a id="2351" class="Symbol">=</a> <a id="2353" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="2356" class="Symbol">λ</a> <a id="2358" class="Symbol">{</a><a id="2359" href="WellFormed.CrossTree.html#2359" class="Bound">n</a><a id="2360" class="Symbol">}</a> <a id="2362" class="Symbol">→</a> <a id="2364" href="WellFormed.CrossTree.html#1437" class="Function Operator">≼[</a> <a id="2367" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2371" href="WellFormed.CrossTree.html#2359" class="Bound">n</a> <a id="2373" href="WellFormed.CrossTree.html#1437" class="Function Operator">]</a> <a id="2375" href="WellFormed.CrossTree.html#2349" class="Bound">p</a>
</pre>
<p><strong>定理 2-3-4</strong> <span class="math inline">≼</span> 是自反关系.<br />
<strong>证明</strong> 即证 <span class="math inline">a ≼ a</span>, 对 <span class="math inline">a</span> 归纳. 零的情况用 <span class="math inline">\text{z≼}</span>, 后继的情况用 <span class="math inline">\text{s≼s}</span> 和归纳假设, 极限的情况用 <span class="math inline">\text{l≼l}</span> 和归纳假设即得. ∎</p>
<pre class="Agda"><a id="≼-refl"></a><a id="2523" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a> <a id="2530" class="Symbol">:</a> <a id="2532" href="Relation.Binary.Definitions.html#1332" class="Function">Reflexive</a> <a id="2542" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="2546" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a> <a id="2553" class="Symbol">{(</a><a id="2555" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a><a id="2559" class="Symbol">)}</a> <a id="2562" class="Symbol">=</a> <a id="2564" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>
<a id="2567" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a> <a id="2574" class="Symbol">{</a><a id="2575" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="2579" href="WellFormed.CrossTree.html#2579" class="Bound">x</a><a id="2580" class="Symbol">}</a> <a id="2582" class="Symbol">=</a> <a id="2584" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="2588" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>
<a id="2595" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a> <a id="2602" class="Symbol">{</a><a id="2603" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="2607" href="WellFormed.CrossTree.html#2607" class="Bound">f</a><a id="2608" class="Symbol">}</a> <a id="2610" class="Symbol">=</a> <a id="2612" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="2616" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>
</pre>
<p><strong>推论 2-3-5</strong> 基本列的任一项都 <span class="math inline">≼</span> 其极限.<br />
<strong>证明</strong> 由 <span class="math inline">\text{≼l}</span> 配合 <span class="math inline">≼</span> 的自反性即得. ∎</p>
<pre class="Agda"><a id="f≼l"></a><a id="2708" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a> <a id="2712" class="Symbol">:</a> <a id="2714" class="Symbol">{</a><a id="2715" href="WellFormed.CrossTree.html#2715" class="Bound">w</a> <a id="2717" class="Symbol">:</a> <a id="2719" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="2722" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="2723" class="Symbol">}</a> <a id="2725" class="Symbol">→</a> <a id="2727" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="2729" href="WellFormed.Base.html#3959" class="Generalizable">n</a> <a id="2731" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="2733" class="InductiveConstructor">lim</a> <a id="2737" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="2739" class="Symbol">⦃</a> <a id="2741" href="WellFormed.CrossTree.html#2715" class="Bound">w</a> <a id="2743" class="Symbol">⦄</a>
<a id="2745" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a> <a id="2749" class="Symbol">=</a> <a id="2751" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="2754" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>

<a id="[]≼a"></a><a id="2762" href="WellFormed.CrossTree.html#2762" class="Function">[]≼a</a> <a id="2767" class="Symbol">:</a> <a id="2769" class="Symbol">⦃</a> <a id="2771" href="WellFormed.CrossTree.html#2771" class="Bound">_</a> <a id="2773" class="Symbol">:</a> <a id="2775" href="WellFormed.Properties.html#2285" class="Function">isLim</a> <a id="2781" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="2783" class="Symbol">⦄</a> <a id="2785" class="Symbol">→</a> <a id="2787" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="2789" href="WellFormed.Properties.html#2460" class="Function Operator">[</a> <a id="2791" href="WellFormed.Base.html#3959" class="Generalizable">n</a> <a id="2793" href="WellFormed.Properties.html#2460" class="Function Operator">]</a> <a id="2795" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="2797" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="2799" href="WellFormed.CrossTree.html#2762" class="Function">[]≼a</a> <a id="2804" class="Symbol">{</a><a id="2805" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="2809" href="WellFormed.CrossTree.html#2809" class="Bound">f</a><a id="2810" class="Symbol">}</a> <a id="2812" class="Symbol">=</a> <a id="2814" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a>
</pre>
<p><strong>定理 2-3-6</strong> <span class="math inline">≼</span> 是传递关系.<br />
<strong>证明</strong> 要证 <span class="math inline">p : a ≼ b</span> 且 <span class="math inline">q : b ≼ c</span> 蕴含 <span class="math inline">a ≼ c</span>. 同时对 <span class="math inline">p,q</span> 归纳, 分五种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{z≼} : 0 ≼ b</span>, 不管 <span class="math inline">q</span> 是什么, 都有 <span class="math inline">\text{z≼} : 0 ≼ c</span>.</li>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : a^+ ≼ b^+</span>, 且 <span class="math inline">q = \text{s≼s}(q&#39;) : b^+ ≼ c^+</span>, 必有 <span class="math inline">p&#39; : a ≼ b</span> 且 <span class="math inline">q&#39; : b ≼ c</span>, 由归纳假设得 <span class="math inline">a ≼ c</span>, 再由 <span class="math inline">\text{s≼s}</span> 得 <span class="math inline">a^+ ≼ c^+</span>.</li>
<li>不管 <span class="math inline">p</span> 是什么, 若 <span class="math inline">q = \text{≼l}(q&#39;) : b ≼ \lim(f)</span>, 必有 <span class="math inline">q&#39; : b ≼ f(n)</span>, 要证 <span class="math inline">a ≼ \lim(f)</span>. 由归纳假设得 <span class="math inline">a ≼ f(n)</span>, 再由 <span class="math inline">\text{≼l}</span> 得 <span class="math inline">a ≼ \lim(f)</span>.</li>
<li>不管 <span class="math inline">q</span> 是什么, 若 <span class="math inline">p = \text{l≼}(p&#39;) : \lim(f) ≼ b</span>, 必有 <span class="math inline">p&#39; : ∀n, f(n) ≼ b</span>. 要证 <span class="math inline">\lim(f) ≼ c</span>. 由归纳假设得 <span class="math inline">∀n, f(n) ≼ c</span>, 再由 <span class="math inline">\text{l≼}</span> 得 <span class="math inline">\lim(f) ≼ c</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : a ≼ \lim(f)</span>, 且 <span class="math inline">q = \text{l≼}(q&#39;) : \lim(f) ≼ c</span>, 必有 <span class="math inline">p&#39; : a ≼ f(n)</span> 且 <span class="math inline">q&#39; : ∀n, f(n) ≼ c</span>. 要证 <span class="math inline">a ≼ c</span>. 由归纳假设即得. ∎</li>
</ul>
<pre class="Agda"><a id="≼-trans"></a><a id="3575" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3583" class="Symbol">:</a> <a id="3585" href="Relation.Binary.Definitions.html#2007" class="Function">Transitive</a> <a id="3596" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="3600" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3608" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>      <a id="3616" href="WellFormed.CrossTree.html#3616" class="Bound">q</a>       <a id="3624" class="Symbol">=</a> <a id="3626" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>
<a id="3629" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3637" class="Symbol">(</a><a id="3638" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="3642" href="WellFormed.CrossTree.html#3642" class="Bound">p</a><a id="3643" class="Symbol">)</a> <a id="3645" class="Symbol">(</a><a id="3646" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="3650" href="WellFormed.CrossTree.html#3650" class="Bound">q</a><a id="3651" class="Symbol">)</a> <a id="3653" class="Symbol">=</a> <a id="3655" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="3659" class="Symbol">(</a><a id="3660" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3668" href="WellFormed.CrossTree.html#3642" class="Bound">p</a> <a id="3670" href="WellFormed.CrossTree.html#3650" class="Bound">q</a><a id="3671" class="Symbol">)</a>
<a id="3673" href="WellFormed.CrossTree.html#3575" class="CatchallClause Function">≼-trans</a><a id="3680" class="CatchallClause"> </a><a id="3681" href="WellFormed.CrossTree.html#3681" class="CatchallClause Bound">p</a><a id="3682" class="CatchallClause">       </a><a id="3689" class="CatchallClause Symbol">(</a><a id="3690" href="WellFormed.CrossTree.html#1254" class="CatchallClause InductiveConstructor">≼l</a><a id="3692" class="CatchallClause"> </a><a id="3693" href="WellFormed.CrossTree.html#3693" class="CatchallClause Bound">q</a><a id="3694" class="CatchallClause Symbol">)</a>  <a id="3697" class="Symbol">=</a> <a id="3699" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="3702" class="Symbol">(</a><a id="3703" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3711" href="WellFormed.CrossTree.html#3681" class="Bound">p</a> <a id="3713" href="WellFormed.CrossTree.html#3693" class="Bound">q</a><a id="3714" class="Symbol">)</a>
<a id="3716" href="WellFormed.CrossTree.html#3575" class="CatchallClause Function">≼-trans</a><a id="3723" class="CatchallClause"> </a><a id="3724" class="CatchallClause Symbol">(</a><a id="3725" href="WellFormed.CrossTree.html#1301" class="CatchallClause InductiveConstructor">l≼</a><a id="3727" class="CatchallClause"> </a><a id="3728" href="WellFormed.CrossTree.html#3728" class="CatchallClause Bound">p</a><a id="3729" class="CatchallClause Symbol">)</a><a id="3730" class="CatchallClause">  </a><a id="3732" href="WellFormed.CrossTree.html#3732" class="CatchallClause Bound">q</a>       <a id="3740" class="Symbol">=</a> <a id="3742" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="3745" class="Symbol">(</a><a id="3746" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3754" href="WellFormed.CrossTree.html#3728" class="Bound">p</a> <a id="3756" href="WellFormed.CrossTree.html#3732" class="Bound">q</a><a id="3757" class="Symbol">)</a>
<a id="3759" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3767" class="Symbol">(</a><a id="3768" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="3771" href="WellFormed.CrossTree.html#3771" class="Bound">p</a><a id="3772" class="Symbol">)</a>  <a id="3775" class="Symbol">(</a><a id="3776" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="3779" href="WellFormed.CrossTree.html#3779" class="Bound">q</a><a id="3780" class="Symbol">)</a>  <a id="3783" class="Symbol">=</a> <a id="3785" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="3793" href="WellFormed.CrossTree.html#3771" class="Bound">p</a> <a id="3795" href="WellFormed.CrossTree.html#3779" class="Bound">q</a>
</pre>
<p><strong>推论 2-3-7</strong> 构造子 <span class="math inline">\text{l≼}</span> 的反演: 如果 <span class="math inline">\lim(f) ≼ a</span>, 那么 <span class="math inline">∀n, f(n) ≼ a</span>.<br />
<strong>证明</strong> 讨论 <span class="math inline">p : \lim(f) ≼ a</span>, 只可能有两种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : \lim(f) ≼ \lim(g)</span>, 必有 <span class="math inline">p&#39; : \lim(f) ≼ g(m)</span>. 要证 <span class="math inline">∀n, f(n) ≼ \lim(g)</span>. 由传递性有 <span class="math inline">∀n, f(n) ≼ \lim(f) ≼ g(m) ≼ \lim(g)</span>.</li>
<li>若 <span class="math inline">p = \text{l≼}(p&#39;) : \lim(f) ≼ a</span>, 必有 <span class="math inline">p&#39; : ∀n, f(n) ≼ a</span>. ∎</li>
</ul>
<pre class="Agda"><a id="l≼-inv"></a><a id="4130" href="WellFormed.CrossTree.html#4130" class="Function">l≼-inv</a> <a id="4137" class="Symbol">:</a> <a id="4139" class="Symbol">{</a><a id="4140" href="WellFormed.CrossTree.html#4140" class="Bound">w</a> <a id="4142" class="Symbol">:</a> <a id="4144" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="4147" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="4148" class="Symbol">}</a> <a id="4150" class="Symbol">→</a> <a id="4152" class="InductiveConstructor">lim</a> <a id="4156" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="4158" class="Symbol">⦃</a> <a id="4160" href="WellFormed.CrossTree.html#4140" class="Bound">w</a> <a id="4162" class="Symbol">⦄</a> <a id="4164" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="4166" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="4168" class="Symbol">→</a> <a id="4170" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="4172" href="WellFormed.Base.html#3959" class="Generalizable">n</a> <a id="4174" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="4176" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="4178" href="WellFormed.CrossTree.html#4130" class="Function">l≼-inv</a> <a id="4185" class="Symbol">(</a><a id="4186" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="4189" href="WellFormed.CrossTree.html#4189" class="Bound">p</a><a id="4190" class="Symbol">)</a> <a id="4192" class="Symbol">=</a> <a id="4194" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="4202" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a> <a id="4206" class="Symbol">(</a><a id="4207" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="4210" href="WellFormed.CrossTree.html#4189" class="Bound">p</a><a id="4211" class="Symbol">)</a>
<a id="4213" href="WellFormed.CrossTree.html#4130" class="Function">l≼-inv</a> <a id="4220" class="Symbol">(</a><a id="4221" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="4224" href="WellFormed.CrossTree.html#4224" class="Bound">p</a><a id="4225" class="Symbol">)</a> <a id="4227" class="Symbol">=</a> <a id="4229" href="WellFormed.CrossTree.html#4224" class="Bound">p</a>
</pre>
<p><strong>引理 2-3-8</strong> 类似路径构造子, 对任意 <span class="math inline">p : a ≼ b</span> 有 <span class="math inline">p^+ : a ≼ b^+</span>.<br />
<strong>证明</strong> 对 <span class="math inline">p</span> 归纳, 分四种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{z≼} : 0 ≼ b</span>, 有 <span class="math inline">\text{z≼} : 0 ≼ b^+</span>.</li>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : a^+ ≼ b^+</span>, 必有 <span class="math inline">p&#39; : a ≼ b</span>, 则 <span class="math inline">\text{s≼s}(p&#39;^+) : a^+ ≼ b^{++}</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : a ≼ \lim(f)</span>, 必有 <span class="math inline">p&#39; : a ≼ f(n)</span>, 则 <span class="math inline">p&#39;^+:a≼ f(n)^+</span>, 由传递性即得 <span class="math inline">a≼\lim(f)^+</span>.</li>
<li>若 <span class="math inline">p = \text{l≼}(p&#39;) : \lim(f) ≼ b</span>, 必有 <span class="math inline">p&#39; : ∀n, f(n) ≼ b</span>, 则 <span class="math inline">p&#39;^+ : ∀n, f(n) ≼ b^+</span>, 由 <span class="math inline">\text{l≼}</span> 即得 <span class="math inline">\lim(f) ≼ b^+</span>. ∎</li>
</ul>
<pre class="Agda"><a id="≼-suc"></a><a id="4702" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4708" class="Symbol">:</a> <a id="4710" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="4712" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="4714" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="4716" class="Symbol">→</a> <a id="4718" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="4720" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="4722" class="InductiveConstructor">suc</a> <a id="4726" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="4728" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4734" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a> <a id="4737" class="Symbol">=</a> <a id="4739" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>
<a id="4742" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4748" class="Symbol">(</a><a id="4749" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="4753" href="WellFormed.CrossTree.html#4753" class="Bound">p</a><a id="4754" class="Symbol">)</a> <a id="4756" class="Symbol">=</a> <a id="4758" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="4762" class="Symbol">(</a><a id="4763" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4769" href="WellFormed.CrossTree.html#4753" class="Bound">p</a><a id="4770" class="Symbol">)</a>
<a id="4772" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4778" class="Symbol">(</a><a id="4779" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="4782" href="WellFormed.CrossTree.html#4782" class="Bound">p</a><a id="4783" class="Symbol">)</a> <a id="4785" class="Symbol">=</a> <a id="4787" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="4795" class="Symbol">(</a><a id="4796" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4802" href="WellFormed.CrossTree.html#4782" class="Bound">p</a><a id="4803" class="Symbol">)</a> <a id="4805" class="Symbol">(</a><a id="4806" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="4810" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a><a id="4813" class="Symbol">)</a>
<a id="4815" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4821" class="Symbol">(</a><a id="4822" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="4825" href="WellFormed.CrossTree.html#4825" class="Bound">p</a><a id="4826" class="Symbol">)</a> <a id="4828" class="Symbol">=</a> <a id="4830" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="4833" class="Symbol">(</a><a id="4834" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4840" href="WellFormed.CrossTree.html#4825" class="Bound">p</a><a id="4841" class="Symbol">)</a>
</pre>
<p><strong>推论 2-3-9</strong> 类似路径构造子, 有 <span class="math inline">0 : a ≼ a^+</span>.<br />
<strong>证明</strong> 由引理 2-3-8 和 <span class="math inline">≼</span> 的自反性即得. ∎</p>
<pre class="Agda"><a id="≼-zero"></a><a id="4931" href="WellFormed.CrossTree.html#4931" class="Function">≼-zero</a> <a id="4938" class="Symbol">:</a> <a id="4940" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="4942" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="4944" class="InductiveConstructor">suc</a> <a id="4948" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="4950" href="WellFormed.CrossTree.html#4931" class="Function">≼-zero</a> <a id="4957" class="Symbol">=</a> <a id="4959" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="4965" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>
</pre>
<p><strong>定理 2-3-10</strong> 子树关系蕴含跨树关系: <span class="math inline">a ≤ b → a ≼ b</span>.<br />
<strong>证明</strong> 归纳 r : a ≤ b$, 分四种情况.</p>
<ul>
<li>若 <span class="math inline">r = 0 : a &lt; a^+</span>, 有 <span class="math inline">0 : a ≼ a^+</span>.</li>
<li>若 <span class="math inline">r = r&#39;^+ : a &lt; b^+</span>, 必有 <span class="math inline">r&#39; : a &lt; b</span>, 由归纳假设有 <span class="math inline">p : a ≼ b</span>, 所以 <span class="math inline">p^+ : a ≼ b^+</span>.</li>
<li>若 <span class="math inline">r = \lim(r&#39;) : a &lt; \lim(f)</span>, 必有 <span class="math inline">r&#39; : a &lt; f(n)</span>, 由归纳假设有 <span class="math inline">p : a ≼ f(n)</span>, 所以 <span class="math inline">\text{≼l}(p) : a ≼ \lim(f)</span>.</li>
<li>若 <span class="math inline">r : a = b</span>, 由 <span class="math inline">≼</span> 的自反性即得. ∎</li>
</ul>
<pre class="Agda"><a id="≤→≼-rd"></a><a id="5327" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5334" class="Symbol">:</a> <a id="5336" href="WellFormed.Base.html#11751" class="Function">NSRoad</a> <a id="5343" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="5345" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="5347" class="Symbol">→</a> <a id="5349" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="5351" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="5353" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="5355" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5362" class="Symbol">(</a><a id="5363" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="5367" href="WellFormed.Base.html#4853" class="InductiveConstructor">zero</a><a id="5371" class="Symbol">)</a> <a id="5373" class="Symbol">=</a> <a id="5375" href="WellFormed.CrossTree.html#4931" class="Function">≼-zero</a>
<a id="5382" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5389" class="Symbol">(</a><a id="5390" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="5394" class="Symbol">(</a><a id="5395" href="WellFormed.Base.html#4877" class="InductiveConstructor">suc</a> <a id="5399" href="WellFormed.CrossTree.html#5399" class="Bound">r</a><a id="5400" class="Symbol">))</a> <a id="5403" class="Symbol">=</a> <a id="5405" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="5411" class="Symbol">(</a><a id="5412" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5419" class="Symbol">(</a><a id="5420" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="5424" href="WellFormed.CrossTree.html#5399" class="Bound">r</a><a id="5425" class="Symbol">))</a>
<a id="5428" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5435" class="Symbol">(</a><a id="5436" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="5440" class="Symbol">(</a><a id="5441" href="WellFormed.Base.html#4912" class="InductiveConstructor">lim</a> <a id="5445" href="WellFormed.CrossTree.html#5445" class="Bound">r</a><a id="5446" class="Symbol">))</a> <a id="5449" class="Symbol">=</a> <a id="5451" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="5454" class="Symbol">(</a><a id="5455" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5462" class="Symbol">(</a><a id="5463" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="5467" href="WellFormed.CrossTree.html#5445" class="Bound">r</a><a id="5468" class="Symbol">))</a>
<a id="5471" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5478" class="Symbol">(</a><a id="5479" href="Data.Sum.Base.html#700" class="InductiveConstructor">inr</a> <a id="5483" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5487" class="Symbol">)</a> <a id="5489" class="Symbol">=</a> <a id="5491" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>

<a id="≤→≼"></a><a id="5499" href="WellFormed.CrossTree.html#5499" class="Function">≤→≼</a> <a id="5503" class="Symbol">:</a> <a id="5505" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="5507" href="WellFormed.Base.html#11901" class="Function Operator">≤</a> <a id="5509" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="5511" class="Symbol">→</a> <a id="5513" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="5515" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="5517" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="5519" href="WellFormed.CrossTree.html#5499" class="Function">≤→≼</a> <a id="5523" class="Symbol">(</a><a id="5524" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="5528" href="WellFormed.CrossTree.html#5528" class="Bound">r</a><a id="5529" class="Symbol">)</a> <a id="5531" class="Symbol">=</a> <a id="5533" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="5540" class="Symbol">(</a><a id="5541" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="5545" class="Symbol">(</a><a id="5546" href="WellFormed.Base.html#25668" class="Function">set</a> <a id="5550" href="WellFormed.CrossTree.html#5528" class="Bound">r</a><a id="5551" class="Symbol">))</a>
<a id="5554" href="WellFormed.CrossTree.html#5499" class="Function">≤→≼</a> <a id="5558" class="Symbol">(</a><a id="5559" href="Data.Sum.Base.html#700" class="InductiveConstructor">inr</a> <a id="5563" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5567" class="Symbol">)</a> <a id="5569" class="Symbol">=</a> <a id="5571" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>
</pre>
<h2 id="外延相等">外延相等</h2>
<p><strong>定义 2-3-11</strong> 我们说 <span class="math inline">a</span> 与 <span class="math inline">b</span> 外延相等, 记作 <span class="math inline">a ≈ b</span>, 但且仅当 <span class="math inline">a ≼ b</span> 且 <span class="math inline">b ≼ a</span>.</p>
<pre class="Agda"><a id="_≈_"></a><a id="5671" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a> <a id="5675" class="Symbol">:</a> <a id="5677" href="WellFormed.Base.html#3160" class="Datatype">Ord</a> <a id="5681" class="Symbol">→</a> <a id="5683" href="WellFormed.Base.html#3160" class="Datatype">Ord</a> <a id="5687" class="Symbol">→</a> <a id="5689" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="5693" class="Symbol">;</a> <a id="5695" class="Keyword">infix</a> <a id="5701" class="Number">5</a> <a id="5703" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>
<a id="5707" href="WellFormed.CrossTree.html#5707" class="Bound">a</a> <a id="5709" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="5711" href="WellFormed.CrossTree.html#5711" class="Bound">b</a> <a id="5713" class="Symbol">=</a> <a id="5715" href="WellFormed.CrossTree.html#5707" class="Bound">a</a> <a id="5717" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="5719" href="WellFormed.CrossTree.html#5711" class="Bound">b</a> <a id="5721" href="Cubical.Data.Sigma.Base.html#461" class="Function Operator">×</a> <a id="5723" href="WellFormed.CrossTree.html#5711" class="Bound">b</a> <a id="5725" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="5727" href="WellFormed.CrossTree.html#5707" class="Bound">a</a>
</pre>
<p><strong>事实 2-3-12</strong> <span class="math inline">≼</span> 相对于 <span class="math inline">≈</span> 是反对称关系.<br />
<strong>证明</strong> 依定义. ∎</p>
<pre class="Agda"><a id="≼-antisym"></a><a id="5793" href="WellFormed.CrossTree.html#5793" class="Function">≼-antisym</a> <a id="5803" class="Symbol">:</a> <a id="5805" href="Relation.Binary.Definitions.html#2223" class="Function">Antisymmetric</a> <a id="5819" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a> <a id="5823" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="5827" href="WellFormed.CrossTree.html#5793" class="Function">≼-antisym</a> <a id="5837" href="WellFormed.CrossTree.html#5837" class="Bound">p</a> <a id="5839" href="WellFormed.CrossTree.html#5839" class="Bound">q</a> <a id="5841" class="Symbol">=</a> <a id="5843" href="WellFormed.CrossTree.html#5837" class="Bound">p</a> <a id="5845" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5847" href="WellFormed.CrossTree.html#5839" class="Bound">q</a>
</pre>
<p><strong>定理 2-3-13</strong> <span class="math inline">≈</span> 是自反, 对称且传递的.<br />
<strong>证明</strong> 自反性和对称性依定义即得, 传递性依 <span class="math inline">≼</span> 的传递性即得. ∎</p>
<pre class="Agda"><a id="≈-refl"></a><a id="5936" href="WellFormed.CrossTree.html#5936" class="Function">≈-refl</a> <a id="5943" class="Symbol">:</a> <a id="5945" href="Relation.Binary.Definitions.html#1332" class="Function">Reflexive</a> <a id="5955" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>
<a id="5959" href="WellFormed.CrossTree.html#5936" class="Function">≈-refl</a> <a id="5966" class="Symbol">=</a> <a id="5968" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a> <a id="5975" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5977" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>

<a id="≈-sym"></a><a id="5985" href="WellFormed.CrossTree.html#5985" class="Function">≈-sym</a> <a id="5991" class="Symbol">:</a> <a id="5993" href="Relation.Binary.Definitions.html#1491" class="Function">Symmetric</a> <a id="6003" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>
<a id="6007" href="WellFormed.CrossTree.html#5985" class="Function">≈-sym</a> <a id="6013" class="Symbol">(</a><a id="6014" href="WellFormed.CrossTree.html#6014" class="Bound">p</a> <a id="6016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6018" href="WellFormed.CrossTree.html#6018" class="Bound">q</a><a id="6019" class="Symbol">)</a> <a id="6021" class="Symbol">=</a> <a id="6023" href="WellFormed.CrossTree.html#6018" class="Bound">q</a> <a id="6025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6027" href="WellFormed.CrossTree.html#6014" class="Bound">p</a>

<a id="≈-trans"></a><a id="6030" href="WellFormed.CrossTree.html#6030" class="Function">≈-trans</a> <a id="6038" class="Symbol">:</a> <a id="6040" href="Relation.Binary.Definitions.html#2007" class="Function">Transitive</a> <a id="6051" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>
<a id="6055" href="WellFormed.CrossTree.html#6030" class="Function">≈-trans</a> <a id="6063" class="Symbol">(</a><a id="6064" href="WellFormed.CrossTree.html#6064" class="Bound">p</a> <a id="6066" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6068" href="WellFormed.CrossTree.html#6068" class="Bound">q</a><a id="6069" class="Symbol">)</a> <a id="6071" class="Symbol">(</a><a id="6072" href="WellFormed.CrossTree.html#6072" class="Bound">u</a> <a id="6074" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6076" href="WellFormed.CrossTree.html#6076" class="Bound">v</a><a id="6077" class="Symbol">)</a> <a id="6079" class="Symbol">=</a> <a id="6081" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="6089" href="WellFormed.CrossTree.html#6064" class="Bound">p</a> <a id="6091" href="WellFormed.CrossTree.html#6072" class="Bound">u</a> <a id="6093" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6095" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="6103" href="WellFormed.CrossTree.html#6076" class="Bound">v</a> <a id="6105" href="WellFormed.CrossTree.html#6068" class="Bound">q</a>
</pre>
<p><strong>事实 2-3-14</strong> 内涵相等蕴含外延相等.</p>
<pre class="Agda"><a id="≡→≈"></a><a id="6147" href="WellFormed.CrossTree.html#6147" class="Function">≡→≈</a> <a id="6151" class="Symbol">:</a> <a id="6153" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="6155" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6157" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="6159" class="Symbol">→</a> <a id="6161" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="6163" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="6165" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="6167" href="WellFormed.CrossTree.html#6147" class="Function">≡→≈</a> <a id="6171" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6176" class="Symbol">=</a> <a id="6178" href="WellFormed.CrossTree.html#5936" class="Function">≈-refl</a>
</pre>
<p><strong>事实 2-3-15</strong> 后继运算保持且单射 <span class="math inline">≈</span>.<br />
<strong>证明</strong> 继承自 <span class="math inline">≼</span> 的性质. ∎</p>
<pre class="Agda"><a id="s≈s"></a><a id="6252" href="WellFormed.CrossTree.html#6252" class="Function">s≈s</a> <a id="6256" class="Symbol">:</a> <a id="6258" class="InductiveConstructor">suc</a> <a id="6262" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="6272" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>
<a id="6276" href="WellFormed.CrossTree.html#6252" class="Function">s≈s</a> <a id="6280" class="Symbol">(</a><a id="6281" href="WellFormed.CrossTree.html#6281" class="Bound">p</a> <a id="6283" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6285" href="WellFormed.CrossTree.html#6285" class="Bound">q</a><a id="6286" class="Symbol">)</a> <a id="6288" class="Symbol">=</a> <a id="6290" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="6294" href="WellFormed.CrossTree.html#6281" class="Bound">p</a> <a id="6296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6298" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="6302" href="WellFormed.CrossTree.html#6285" class="Bound">q</a>

<a id="s≈s-inj"></a><a id="6305" href="WellFormed.CrossTree.html#6305" class="Function">s≈s-inj</a> <a id="6313" class="Symbol">:</a> <a id="6315" class="InductiveConstructor">suc</a> <a id="6319" href="WellFormed.Properties.html#1269" class="Function Operator">injects</a> <a id="6327" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>
<a id="6331" href="WellFormed.CrossTree.html#6305" class="Function">s≈s-inj</a> <a id="6339" class="Symbol">(</a><a id="6340" href="WellFormed.CrossTree.html#6340" class="Bound">p</a> <a id="6342" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6344" href="WellFormed.CrossTree.html#6344" class="Bound">q</a><a id="6345" class="Symbol">)</a> <a id="6347" class="Symbol">=</a> <a id="6349" href="WellFormed.CrossTree.html#1848" class="Function">s≼s-inj</a> <a id="6357" href="WellFormed.CrossTree.html#6340" class="Bound">p</a> <a id="6359" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6361" href="WellFormed.CrossTree.html#1848" class="Function">s≼s-inj</a> <a id="6369" href="WellFormed.CrossTree.html#6344" class="Bound">q</a>
</pre>
<p><strong>事实 2-3-16</strong> 如果两条基本列逐项外延相等, 那么它们的极限外延相等.<br />
<strong>证明</strong> 继承自 <span class="math inline">≼</span> 的性质. ∎</p>
<pre class="Agda"><a id="l≈l"></a><a id="6451" href="WellFormed.CrossTree.html#6451" class="Function">l≈l</a> <a id="6455" class="Symbol">:</a> <a id="6457" class="Symbol">{</a><a id="6458" href="WellFormed.CrossTree.html#6458" class="Bound">wff</a> <a id="6462" class="Symbol">:</a> <a id="6464" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="6467" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="6468" class="Symbol">}</a> <a id="6470" class="Symbol">{</a><a id="6471" href="WellFormed.CrossTree.html#6471" class="Bound">wfg</a> <a id="6475" class="Symbol">:</a> <a id="6477" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="6480" href="WellFormed.Base.html#3985" class="Generalizable">g</a><a id="6481" class="Symbol">}</a> <a id="6483" class="Symbol">→</a> <a id="6485" class="Symbol">(∀</a> <a id="6488" class="Symbol">{</a><a id="6489" href="WellFormed.CrossTree.html#6489" class="Bound">n</a><a id="6490" class="Symbol">}</a> <a id="6492" class="Symbol">→</a> <a id="6494" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="6496" href="WellFormed.CrossTree.html#6489" class="Bound">n</a> <a id="6498" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="6500" href="WellFormed.Base.html#3985" class="Generalizable">g</a> <a id="6502" href="WellFormed.CrossTree.html#6489" class="Bound">n</a><a id="6503" class="Symbol">)</a> <a id="6505" class="Symbol">→</a> <a id="6507" class="InductiveConstructor">lim</a> <a id="6511" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="6513" class="Symbol">⦃</a> <a id="6515" href="WellFormed.CrossTree.html#6458" class="Bound">wff</a> <a id="6519" class="Symbol">⦄</a> <a id="6521" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="6523" class="InductiveConstructor">lim</a> <a id="6527" href="WellFormed.Base.html#3985" class="Generalizable">g</a> <a id="6529" class="Symbol">⦃</a> <a id="6531" href="WellFormed.CrossTree.html#6471" class="Bound">wfg</a> <a id="6535" class="Symbol">⦄</a>
<a id="6537" href="WellFormed.CrossTree.html#6451" class="Function">l≈l</a> <a id="6541" href="WellFormed.CrossTree.html#6541" class="Bound">p</a> <a id="6543" class="Symbol">=</a> <a id="6545" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="6549" class="Symbol">(</a><a id="6550" href="Cubical.Data.Equality.Base.html#384" class="Field">fst</a> <a id="6554" href="WellFormed.CrossTree.html#6541" class="Bound">p</a><a id="6555" class="Symbol">)</a> <a id="6557" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6559" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="6563" class="Symbol">(</a><a id="6564" href="Cubical.Data.Equality.Base.html#396" class="Field">snd</a> <a id="6568" href="WellFormed.CrossTree.html#6541" class="Bound">p</a><a id="6569" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-17</strong> 基本列去掉前 <span class="math inline">n</span> 项, 在外延的意义上不影响其极限.<br />
<strong>证明</strong> 我们只证去掉第一项的情况. 对任意基本列 <span class="math inline">f</span>, 去掉第一项的基本列为 <span class="math inline">f ∘ \text{suc}</span>, 要证 <span class="math inline">\lim(f) ≈ \lim(f ∘ \text{suc})</span>.</p>
<ul>
<li>先证 <span class="math inline">\lim(f) ≼ \lim(f ∘ \text{suc})</span>, 只需证 <span class="math inline">f(n)≼(f ∘ \text{suc})(n) = f(n^+)</span>, 由基本列的良构性即得.</li>
<li>再证 <span class="math inline">\lim(f ∘ \text{suc}) ≼ \lim(f)</span>, 由 <span class="math inline">(f ∘ \text{suc})(n) = f(n^+) ≼ \lim(f)</span> 即得. ∎</li>
</ul>
<pre class="Agda"><a id="l≈ls"></a><a id="6910" href="WellFormed.CrossTree.html#6910" class="Function">l≈ls</a> <a id="6915" class="Symbol">:</a> <a id="6917" class="Symbol">{</a><a id="6918" href="WellFormed.CrossTree.html#6918" class="Bound">w</a> <a id="6920" class="Symbol">:</a> <a id="6922" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="6925" href="WellFormed.Base.html#3983" class="Generalizable">f</a><a id="6926" class="Symbol">}</a> <a id="6928" class="Symbol">{</a><a id="6929" href="WellFormed.CrossTree.html#6929" class="Bound">ws</a> <a id="6932" class="Symbol">:</a> <a id="6934" href="WellFormed.Base.html#3813" class="Function">wf</a> <a id="6937" class="Symbol">(</a><a id="6938" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="6940" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6942" class="InductiveConstructor">suc</a><a id="6945" class="Symbol">)}</a> <a id="6948" class="Symbol">→</a> <a id="6950" class="InductiveConstructor">lim</a> <a id="6954" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="6956" class="Symbol">⦃</a> <a id="6958" href="WellFormed.CrossTree.html#6918" class="Bound">w</a> <a id="6960" class="Symbol">⦄</a> <a id="6962" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="6964" class="InductiveConstructor">lim</a> <a id="6968" class="Symbol">(</a><a id="6969" href="WellFormed.Base.html#3983" class="Generalizable">f</a> <a id="6971" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6973" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">ℕ.suc</a><a id="6978" class="Symbol">)</a> <a id="6980" class="Symbol">⦃</a> <a id="6982" href="WellFormed.CrossTree.html#6929" class="Bound">ws</a> <a id="6985" class="Symbol">⦄</a>
<a id="6987" href="WellFormed.CrossTree.html#6910" class="Function">l≈ls</a> <a id="6992" class="Symbol">{</a><a id="6993" href="WellFormed.CrossTree.html#6993" class="Bound">w</a><a id="6994" class="Symbol">}</a> <a id="6996" class="Symbol">=</a> <a id="6998" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="7002" class="Symbol">(</a><a id="7003" href="WellFormed.CrossTree.html#5499" class="Function">≤→≼</a> <a id="7007" class="Symbol">(</a><a id="7008" href="Data.Sum.Base.html#675" class="InductiveConstructor">inl</a> <a id="7012" href="WellFormed.CrossTree.html#6993" class="Bound">w</a><a id="7013" class="Symbol">))</a> <a id="7016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7018" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="7021" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a>
</pre>
<h2 id="严格序">严格序</h2>
<p><strong>定义 2-3-18</strong> 严格跨树关系 <span class="math inline">a ≺ b := a^+ ≼ b</span>.</p>
<pre class="Agda"><a id="_≺_"></a><a id="7088" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="7092" class="Symbol">:</a> <a id="7094" href="WellFormed.Base.html#3160" class="Datatype">Ord</a> <a id="7098" class="Symbol">→</a> <a id="7100" href="WellFormed.Base.html#3160" class="Datatype">Ord</a> <a id="7104" class="Symbol">→</a> <a id="7106" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="7110" class="Symbol">;</a> <a id="7112" class="Keyword">infix</a> <a id="7118" class="Number">6</a> <a id="7120" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="7124" href="WellFormed.CrossTree.html#7124" class="Bound">a</a> <a id="7126" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="7128" href="WellFormed.CrossTree.html#7128" class="Bound">b</a> <a id="7130" class="Symbol">=</a> <a id="7132" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="7136" href="WellFormed.CrossTree.html#7124" class="Bound">a</a> <a id="7138" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="7140" href="WellFormed.CrossTree.html#7128" class="Bound">b</a>
</pre>
<p>该定义是定理 2-1-17-(1) 和 定理 2-1-20 的跨树版本.</p>
<p><strong>事实 2-3-19</strong> 零 ≺ 后继.<br />
<strong>证明</strong> <span class="math inline">0 ≼ a → 0^+ ≼ a^+ = 0 ≺a^+</span>. ∎</p>
<pre class="Agda"><a id="z≺s"></a><a id="7257" href="WellFormed.CrossTree.html#7257" class="Function">z≺s</a> <a id="7261" class="Symbol">:</a> <a id="7263" class="Number">0</a> <a id="7265" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="7267" class="InductiveConstructor">suc</a> <a id="7271" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="7273" href="WellFormed.CrossTree.html#7257" class="Function">z≺s</a> <a id="7277" class="Symbol">=</a> <a id="7279" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="7283" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>
</pre>
<p><strong>事实 2-3-20</strong> 事实 2-0-22 的跨树版本成立: <span class="math inline">a ≼ b → a ≺ b^+</span>.<br />
<strong>证明</strong> 此即构造子 <span class="math inline">\text{s≼s}</span>. ∎</p>
<pre class="Agda"><a id="≼→≺s"></a><a id="7383" href="WellFormed.CrossTree.html#7383" class="Function">≼→≺s</a> <a id="7388" class="Symbol">:</a> <a id="7390" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="7392" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="7394" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="7396" class="Symbol">→</a> <a id="7398" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="7400" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="7402" class="InductiveConstructor">suc</a> <a id="7406" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="7408" href="WellFormed.CrossTree.html#7383" class="Function">≼→≺s</a> <a id="7413" class="Symbol">=</a> <a id="7415" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a>
</pre>
<p><strong>事实 2-3-21</strong> 定理 2-0-20 的跨树版本成立: <span class="math inline">a ≺ b^+ → a ≼ b</span>.<br />
<strong>证明</strong> 此即事实 2-3-1. ∎</p>
<pre class="Agda"><a id="≺s→≼"></a><a id="7508" href="WellFormed.CrossTree.html#7508" class="Function">≺s→≼</a> <a id="7513" class="Symbol">:</a> <a id="7515" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="7517" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="7519" class="InductiveConstructor">suc</a> <a id="7523" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="7525" class="Symbol">→</a> <a id="7527" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="7529" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="7531" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="7533" href="WellFormed.CrossTree.html#7508" class="Function">≺s→≼</a> <a id="7538" href="WellFormed.CrossTree.html#7538" class="Bound">p</a> <a id="7540" class="Symbol">=</a> <a id="7542" href="WellFormed.CrossTree.html#1848" class="Function">s≼s-inj</a> <a id="7550" href="WellFormed.CrossTree.html#7538" class="Bound">p</a>
</pre>
<p><strong>定理 2-3-22</strong> <span class="math inline">≺</span> 可以非严格化: <span class="math inline">a ≺ b → a ≼ b</span>.<br />
<strong>证明</strong> 讨论 <span class="math inline">p : a ≺ b = a^+ ≼ b</span>, 只可能有两种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : a^+ ≼ b^+</span>, 必有 <span class="math inline">p&#39; : a ≼ b</span>, 所以 <span class="math inline">p&#39;^+ : a ≼ b^+</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : a^+ ≼ \lim(f)</span>, 必有 <span class="math inline">p&#39; : a^+ ≼ f(n)</span>. 由传递性即得 <span class="math inline">a ≼ a^+ ≼ f(n) ≼ \lim(f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="≺→≼"></a><a id="7831" href="WellFormed.CrossTree.html#7831" class="Function">≺→≼</a> <a id="7835" class="Symbol">:</a> <a id="7837" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="7839" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="7841" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="7843" class="Symbol">→</a> <a id="7845" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="7847" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="7849" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="7851" href="WellFormed.CrossTree.html#7831" class="Function">≺→≼</a> <a id="7855" class="Symbol">(</a><a id="7856" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="7860" href="WellFormed.CrossTree.html#7860" class="Bound">p</a><a id="7861" class="Symbol">)</a> <a id="7863" class="Symbol">=</a> <a id="7865" href="WellFormed.CrossTree.html#4702" class="Function">≼-suc</a> <a id="7871" href="WellFormed.CrossTree.html#7860" class="Bound">p</a>
<a id="7873" href="WellFormed.CrossTree.html#7831" class="Function">≺→≼</a> <a id="7877" class="Symbol">(</a><a id="7878" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="7881" href="WellFormed.CrossTree.html#7881" class="Bound">p</a><a id="7882" class="Symbol">)</a> <a id="7884" class="Symbol">=</a> <a id="7886" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="7889" class="Symbol">(</a><a id="7890" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="7898" href="WellFormed.CrossTree.html#4931" class="Function">≼-zero</a> <a id="7905" href="WellFormed.CrossTree.html#7881" class="Bound">p</a><a id="7906" class="Symbol">)</a>
</pre>
<p><strong>引理 2-3-23</strong> 类似路径构造子, 我们有 <span class="math inline">0 : a ≺ a^+</span>.<br />
<strong>证明</strong> <span class="math inline">a ≼ a → a^+ ≼ a^+ = a ≺ a^+</span>. ∎</p>
<pre class="Agda"><a id="≺-zero"></a><a id="8006" href="WellFormed.CrossTree.html#8006" class="Function">≺-zero</a> <a id="8013" class="Symbol">:</a> <a id="8015" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="8017" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="8019" class="InductiveConstructor">suc</a> <a id="8023" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="8025" href="WellFormed.CrossTree.html#8006" class="Function">≺-zero</a> <a id="8032" class="Symbol">=</a> <a id="8034" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="8038" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>
</pre>
<p><strong>引理 2-3-24</strong> 类似路径构造子, 对任意 <span class="math inline">p : a ≺ b</span> 有 <span class="math inline">p^+ : a ≺ b^+</span>.<br />
<strong>证明</strong> <span class="math inline">a ≺ b → a ≼ b → a^+ ≼ b^+ = a ≺ b^+</span>. ∎</p>
<pre class="Agda"><a id="≺-suc"></a><a id="8167" href="WellFormed.CrossTree.html#8167" class="Function">≺-suc</a> <a id="8173" class="Symbol">:</a> <a id="8175" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="8177" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="8179" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="8181" class="Symbol">→</a> <a id="8183" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="8185" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="8187" class="InductiveConstructor">suc</a> <a id="8191" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="8193" href="WellFormed.CrossTree.html#8167" class="Function">≺-suc</a> <a id="8199" href="WellFormed.CrossTree.html#8199" class="Bound">p</a> <a id="8201" class="Symbol">=</a> <a id="8203" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="8207" class="Symbol">(</a><a id="8208" href="WellFormed.CrossTree.html#7831" class="Function">≺→≼</a> <a id="8212" href="WellFormed.CrossTree.html#8199" class="Bound">p</a><a id="8213" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-25</strong> 子树关系蕴含跨树关系: <span class="math inline">a &lt; b → a ≺ b</span>.<br />
<strong>证明</strong> 对路径 <span class="math inline">r : a &lt; b</span> 归纳, 分三种情况.</p>
<ul>
<li>若 <span class="math inline">r = 0 : a &lt; a^+</span>, 有 <span class="math inline">0 : a ≺ a^+</span>.</li>
<li>若 <span class="math inline">r = r&#39;^+ : a &lt; b^+</span>, 必有 <span class="math inline">r&#39; : a &lt; b</span>, 由归纳假设有 <span class="math inline">p : a ≺ b</span>, 所以 <span class="math inline">p^+ : a ≺ b^+</span>.</li>
<li>若 <span class="math inline">r = \lim(r&#39;) : a &lt; \lim(f)</span>, 必有 <span class="math inline">r&#39; : a &lt; f(n)</span>, 于是有 <span class="math inline">a^+ ≤ f(n)</span>, 乃至 <span class="math inline">a^+ ≼ f(n)</span>, 所以 <span class="math inline">a^+ ≼ \lim(f)</span>, 即 <span class="math inline">a &lt; \lim(f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="&lt;→≺-rd"></a><a id="8560" href="WellFormed.CrossTree.html#8560" class="Function">&lt;→≺-rd</a> <a id="8567" class="Symbol">:</a> <a id="8569" href="WellFormed.Base.html#3176" class="Datatype">Road</a> <a id="8574" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="8576" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="8578" class="Symbol">→</a> <a id="8580" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="8582" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="8584" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="8586" href="WellFormed.CrossTree.html#8560" class="Function">&lt;→≺-rd</a> <a id="8593" href="WellFormed.Base.html#4853" class="InductiveConstructor">zero</a> <a id="8598" class="Symbol">=</a> <a id="8600" href="WellFormed.CrossTree.html#8006" class="Function">≺-zero</a>
<a id="8607" href="WellFormed.CrossTree.html#8560" class="Function">&lt;→≺-rd</a> <a id="8614" class="Symbol">(</a><a id="8615" href="WellFormed.Base.html#4877" class="InductiveConstructor">suc</a> <a id="8619" href="WellFormed.CrossTree.html#8619" class="Bound">r</a><a id="8620" class="Symbol">)</a> <a id="8622" class="Symbol">=</a> <a id="8624" href="WellFormed.CrossTree.html#8167" class="Function">≺-suc</a> <a id="8630" class="Symbol">(</a><a id="8631" href="WellFormed.CrossTree.html#8560" class="Function">&lt;→≺-rd</a> <a id="8638" href="WellFormed.CrossTree.html#8619" class="Bound">r</a><a id="8639" class="Symbol">)</a>
<a id="8641" href="WellFormed.CrossTree.html#8560" class="Function">&lt;→≺-rd</a> <a id="8648" class="Symbol">(</a><a id="8649" href="WellFormed.Base.html#4912" class="InductiveConstructor">lim</a> <a id="8653" href="WellFormed.CrossTree.html#8653" class="Bound">r</a><a id="8654" class="Symbol">)</a> <a id="8656" class="Symbol">=</a> <a id="8658" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="8661" class="Symbol">(</a><a id="8662" href="WellFormed.CrossTree.html#5327" class="Function">≤→≼-rd</a> <a id="8669" class="Symbol">(</a><a id="8670" href="WellFormed.Properties.html#4773" class="Function">&lt;→s≤-rd</a> <a id="8678" href="WellFormed.CrossTree.html#8653" class="Bound">r</a><a id="8679" class="Symbol">))</a>

<a id="&lt;→≺"></a><a id="8683" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="8687" class="Symbol">:</a> <a id="8689" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="8691" href="WellFormed.Base.html#3357" class="Function Operator">&lt;</a> <a id="8693" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="8695" class="Symbol">→</a> <a id="8697" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="8699" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="8701" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="8703" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="8707" href="WellFormed.CrossTree.html#8707" class="Bound">r</a> <a id="8709" class="Symbol">=</a> <a id="8711" href="WellFormed.CrossTree.html#8560" class="Function">&lt;→≺-rd</a> <a id="8718" class="Symbol">(</a><a id="8719" href="WellFormed.Base.html#25668" class="Function">set</a> <a id="8723" href="WellFormed.CrossTree.html#8707" class="Bound">r</a><a id="8724" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-26</strong> <span class="math inline">≺</span> 满足传递性</p>
<ul>
<li><span class="math inline">a ≺ b → b ≺ c → a ≺ c</span>.</li>
<li><span class="math inline">a ≺ b → b ≼ c → a ≺ c</span>.</li>
<li><span class="math inline">a ≼ b → b ≺ c → a ≺ c</span>.</li>
</ul>
<p><strong>证明</strong> 继承自 <span class="math inline">≼</span> 的传递性. ∎</p>
<pre class="Agda"><a id="≺-trans"></a><a id="8870" href="WellFormed.CrossTree.html#8870" class="Function">≺-trans</a> <a id="8878" class="Symbol">:</a> <a id="8880" href="Relation.Binary.Definitions.html#2007" class="Function">Transitive</a> <a id="8891" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="8895" href="WellFormed.CrossTree.html#8870" class="Function">≺-trans</a> <a id="8903" href="WellFormed.CrossTree.html#8903" class="Bound">p</a> <a id="8905" href="WellFormed.CrossTree.html#8905" class="Bound">q</a> <a id="8907" class="Symbol">=</a> <a id="8909" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="8917" href="WellFormed.CrossTree.html#8903" class="Bound">p</a> <a id="8919" class="Symbol">(</a><a id="8920" href="WellFormed.CrossTree.html#7831" class="Function">≺→≼</a> <a id="8924" href="WellFormed.CrossTree.html#8905" class="Bound">q</a><a id="8925" class="Symbol">)</a>

<a id="≺-≼-trans"></a><a id="8928" href="WellFormed.CrossTree.html#8928" class="Function">≺-≼-trans</a> <a id="8938" class="Symbol">:</a> <a id="8940" href="Relation.Binary.Definitions.html#1578" class="Function">Trans</a> <a id="8946" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="8950" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a> <a id="8954" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="8958" href="WellFormed.CrossTree.html#8928" class="Function">≺-≼-trans</a> <a id="8968" href="WellFormed.CrossTree.html#8968" class="Bound">p</a> <a id="8970" href="WellFormed.CrossTree.html#8970" class="Bound">q</a> <a id="8972" class="Symbol">=</a> <a id="8974" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="8982" href="WellFormed.CrossTree.html#8968" class="Bound">p</a> <a id="8984" href="WellFormed.CrossTree.html#8970" class="Bound">q</a>

<a id="≼-≺-trans"></a><a id="8987" href="WellFormed.CrossTree.html#8987" class="Function">≼-≺-trans</a> <a id="8997" class="Symbol">:</a> <a id="8999" href="Relation.Binary.Definitions.html#1578" class="Function">Trans</a> <a id="9005" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a> <a id="9009" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="9013" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="9017" href="WellFormed.CrossTree.html#8987" class="Function">≼-≺-trans</a> <a id="9027" href="WellFormed.CrossTree.html#9027" class="Bound">p</a> <a id="9029" href="WellFormed.CrossTree.html#9029" class="Bound">q</a> <a id="9031" class="Symbol">=</a> <a id="9033" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="9041" class="Symbol">(</a><a id="9042" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="9046" href="WellFormed.CrossTree.html#9027" class="Bound">p</a><a id="9047" class="Symbol">)</a> <a id="9049" href="WellFormed.CrossTree.html#9029" class="Bound">q</a>
</pre>
<p><strong>推论 2-3-27</strong> <span class="math inline">≺</span> 尊重 <span class="math inline">≈</span>.<br />
<strong>证明</strong> 由定理 2-3-26 即得. ∎</p>
<pre class="Agda"><a id="≺-resp-≈"></a><a id="9117" href="WellFormed.CrossTree.html#9117" class="Function">≺-resp-≈</a> <a id="9126" class="Symbol">:</a> <a id="9128" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="9132" href="Relation.Binary.Definitions.html#5567" class="Function Operator">Respects₂</a> <a id="9142" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>
<a id="9146" href="WellFormed.CrossTree.html#9117" class="Function">≺-resp-≈</a> <a id="9155" class="Symbol">=</a> <a id="9157" class="Symbol">(λ</a> <a id="9160" class="Symbol">{</a> <a id="9162" class="Symbol">(</a><a id="9163" href="WellFormed.CrossTree.html#9163" class="Bound">p</a> <a id="9165" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9167" href="WellFormed.CrossTree.html#9167" class="Bound">q</a><a id="9168" class="Symbol">)</a> <a id="9170" href="WellFormed.CrossTree.html#9170" class="Bound">u</a> <a id="9172" class="Symbol">→</a> <a id="9174" href="WellFormed.CrossTree.html#8928" class="Function">≺-≼-trans</a> <a id="9184" href="WellFormed.CrossTree.html#9170" class="Bound">u</a> <a id="9186" href="WellFormed.CrossTree.html#9163" class="Bound">p</a> <a id="9188" class="Symbol">})</a>
         <a id="9200" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9202" class="Symbol">(λ</a> <a id="9205" class="Symbol">{</a> <a id="9207" class="Symbol">(</a><a id="9208" href="WellFormed.CrossTree.html#9208" class="Bound">p</a> <a id="9210" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9212" href="WellFormed.CrossTree.html#9212" class="Bound">q</a><a id="9213" class="Symbol">)</a> <a id="9215" href="WellFormed.CrossTree.html#9215" class="Bound">u</a> <a id="9217" class="Symbol">→</a> <a id="9219" href="WellFormed.CrossTree.html#8987" class="Function">≼-≺-trans</a> <a id="9229" href="WellFormed.CrossTree.html#9212" class="Bound">q</a> <a id="9231" href="WellFormed.CrossTree.html#9215" class="Bound">u</a> <a id="9233" class="Symbol">})</a>
</pre>
<p><strong>引理 2-3-28</strong> 如果 <span class="math inline">a ≼ b</span>, 那么 <span class="math inline">b</span> 可及蕴含 <span class="math inline">a</span> 可及.<br />
<strong>证明</strong> 由 <span class="math inline">b</span> 可及, 任意 <span class="math inline">y ≺ b</span> 可及. 要证 <span class="math inline">a</span> 可及, 即证任意 <span class="math inline">x ≺ a</span> 可及. 由 <span class="math inline">x ≺ a ≼ b</span>, <span class="math inline">x</span> 可及. ∎</p>
<pre class="Agda"><a id="≺-acc"></a><a id="9383" href="WellFormed.CrossTree.html#9383" class="Function">≺-acc</a> <a id="9389" class="Symbol">:</a> <a id="9391" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="9393" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="9395" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="9397" class="Symbol">→</a> <a id="9399" href="Induction.WellFounded.html#1356" class="Datatype">Acc</a> <a id="9403" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="9407" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="9409" class="Symbol">→</a> <a id="9411" href="Induction.WellFounded.html#1356" class="Datatype">Acc</a> <a id="9415" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="9419" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="9421" href="WellFormed.CrossTree.html#9383" class="Function">≺-acc</a> <a id="9427" href="WellFormed.CrossTree.html#9427" class="Bound">p</a> <a id="9429" class="Symbol">(</a><a id="9430" href="Induction.WellFounded.html#1418" class="InductiveConstructor">acc</a> <a id="9434" href="WellFormed.CrossTree.html#9434" class="Bound">r</a><a id="9435" class="Symbol">)</a> <a id="9437" class="Symbol">=</a> <a id="9439" href="Induction.WellFounded.html#1418" class="InductiveConstructor">acc</a> <a id="9443" class="Symbol">(λ</a> <a id="9446" href="WellFormed.CrossTree.html#9446" class="Bound">q</a> <a id="9448" class="Symbol">→</a> <a id="9450" href="WellFormed.CrossTree.html#9434" class="Bound">r</a> <a id="9452" class="Symbol">(</a><a id="9453" href="WellFormed.CrossTree.html#8928" class="Function">≺-≼-trans</a> <a id="9463" href="WellFormed.CrossTree.html#9446" class="Bound">q</a> <a id="9465" href="WellFormed.CrossTree.html#9427" class="Bound">p</a><a id="9466" class="Symbol">))</a>
</pre>
<p><strong>定理 2-3-29</strong> <span class="math inline">≺</span> 是良基关系, 即任意 <span class="math inline">a</span> 在 <span class="math inline">≺</span> 下可及.<br />
<strong>证明</strong> 对 <span class="math inline">a</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">a = 0</span>, 要证任意 <span class="math inline">x ≺ a = 0</span> 可及, 空虚真.</li>
<li>若 <span class="math inline">a = a&#39;^+</span>, 要证任意 <span class="math inline">x ≺ a&#39;^+</span>, 即任意 <span class="math inline">x ≼ a&#39;</span> 可及. 由归纳假设 <span class="math inline">a&#39;</span> 可及, 由引理 2-3-28, <span class="math inline">x</span> 可及.</li>
<li>若 <span class="math inline">a = \lim(f)</span>, 要证任意 <span class="math inline">x ≺ \lim(f)</span> 可及, 即任意 <span class="math inline">x ≺ f(n)</span> 可及. 由归纳假设 <span class="math inline">f(n)</span> 可及, 由引理 2-3-28, <span class="math inline">x</span> 可及. ∎</li>
</ul>
<pre class="Agda"><a id="≺-wfnd"></a><a id="9771" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a> <a id="9778" class="Symbol">:</a> <a id="9780" href="Induction.WellFounded.html#1604" class="Function">WellFounded</a> <a id="9792" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="9796" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a> <a id="9803" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a>    <a id="9811" class="Symbol">=</a> <a id="9813" href="Induction.WellFounded.html#1418" class="InductiveConstructor">acc</a> <a id="9817" class="Symbol">λ</a> <a id="9819" class="Symbol">()</a>
<a id="9822" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a> <a id="9829" class="Symbol">(</a><a id="9830" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="9834" href="WellFormed.CrossTree.html#9834" class="Bound">a</a><a id="9835" class="Symbol">)</a> <a id="9837" class="Symbol">=</a> <a id="9839" href="Induction.WellFounded.html#1418" class="InductiveConstructor">acc</a> <a id="9843" class="Symbol">λ</a> <a id="9845" class="Symbol">{</a> <a id="9847" class="Symbol">(</a><a id="9848" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="9852" href="WellFormed.CrossTree.html#9852" class="Bound">p</a><a id="9853" class="Symbol">)</a> <a id="9855" class="Symbol">→</a> <a id="9857" href="WellFormed.CrossTree.html#9383" class="Function">≺-acc</a> <a id="9863" href="WellFormed.CrossTree.html#9852" class="Bound">p</a> <a id="9865" class="Symbol">(</a><a id="9866" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a> <a id="9873" href="WellFormed.CrossTree.html#9834" class="Bound">a</a><a id="9874" class="Symbol">)</a> <a id="9876" class="Symbol">}</a>
<a id="9878" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a> <a id="9885" class="Symbol">(</a><a id="9886" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="9890" href="WellFormed.CrossTree.html#9890" class="Bound">f</a><a id="9891" class="Symbol">)</a> <a id="9893" class="Symbol">=</a> <a id="9895" href="Induction.WellFounded.html#1418" class="InductiveConstructor">acc</a> <a id="9899" class="Symbol">λ</a> <a id="9901" class="Symbol">{</a> <a id="9903" class="Symbol">(</a><a id="9904" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="9907" href="WellFormed.CrossTree.html#9907" class="Bound">p</a><a id="9908" class="Symbol">)</a> <a id="9910" class="Symbol">→</a> <a id="9912" href="WellFormed.CrossTree.html#9383" class="Function">≺-acc</a> <a id="9918" class="Symbol">(</a><a id="9919" href="WellFormed.CrossTree.html#7831" class="Function">≺→≼</a> <a id="9923" href="WellFormed.CrossTree.html#9907" class="Bound">p</a><a id="9924" class="Symbol">)</a> <a id="9926" class="Symbol">(</a><a id="9927" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a> <a id="9934" class="Symbol">(</a><a id="9935" href="WellFormed.CrossTree.html#9890" class="Bound">f</a> <a id="9937" class="Symbol">_))</a> <a id="9941" class="Symbol">}</a>
</pre>
<p><strong>推论 2-3-30</strong> <span class="math inline">≺</span> 是非对称且反自反的.<br />
<strong>证明</strong> 良基关系都是非对称且反自反的. ∎</p>
<pre class="Agda"><a id="≺-asym"></a><a id="10013" href="WellFormed.CrossTree.html#10013" class="Function">≺-asym</a> <a id="10020" class="Symbol">:</a> <a id="10022" href="Relation.Binary.Definitions.html#2494" class="Function">Asymmetric</a> <a id="10033" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="10037" href="WellFormed.CrossTree.html#10013" class="Function">≺-asym</a> <a id="10044" class="Symbol">=</a> <a id="10046" href="Induction.WellFounded.html#4411" class="Function">wf⇒asym</a> <a id="10054" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a>

<a id="≺-irrefl"></a><a id="10062" href="WellFormed.CrossTree.html#10062" class="Function">≺-irrefl</a> <a id="10071" class="Symbol">:</a> <a id="10073" href="Relation.Binary.Definitions.html#2382" class="Function">Irreflexive</a> <a id="10085" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a> <a id="10089" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="10093" href="WellFormed.CrossTree.html#10062" class="Function">≺-irrefl</a> <a id="10102" class="Symbol">=</a> <a id="10104" href="Induction.WellFounded.html#4488" class="Function">wf⇒irrefl</a> <a id="10114" href="WellFormed.CrossTree.html#9117" class="Function">≺-resp-≈</a> <a id="10123" href="WellFormed.CrossTree.html#5985" class="Function">≈-sym</a> <a id="10129" href="WellFormed.CrossTree.html#9771" class="Function">≺-wfnd</a>
</pre>
<h2 id="结构实例化">结构实例化</h2>
<p>由以上讨论可知 <span class="math inline">≈</span> 是等价关系, <span class="math inline">≼</span> 是相对于 <span class="math inline">≈</span> 的非严格偏序, <span class="math inline">≺</span> 是相对于 <span class="math inline">≈</span> 的严格偏序. 我们以此实例化标准库的抽象结构, 并得到第三套序关系推理链记法: <code>CrossTreeReasoning</code>.</p>
<pre class="Agda"><a id="10275" class="Keyword">open</a> <a id="10280" class="Keyword">import</a> <a id="10287" href="Relation.Binary.Structures.html" class="Module">Relation.Binary.Structures</a> <a id="10314" class="Symbol">{</a><a id="10315" class="Argument">A</a> <a id="10317" class="Symbol">=</a> <a id="10319" href="WellFormed.Base.html#3160" class="Datatype">Ord</a><a id="10322" class="Symbol">}</a> <a id="10324" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a>

<a id="≈-isEquivalence"></a><a id="10329" href="WellFormed.CrossTree.html#10329" class="Function">≈-isEquivalence</a> <a id="10345" class="Symbol">:</a> <a id="10347" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a>
<a id="10361" href="WellFormed.CrossTree.html#10329" class="Function">≈-isEquivalence</a> <a id="10377" class="Symbol">=</a> <a id="10379" class="Keyword">record</a> <a id="10386" class="Symbol">{</a> <a id="10388" href="Relation.Binary.Structures.html#1596" class="Field">refl</a> <a id="10393" class="Symbol">=</a> <a id="10395" href="WellFormed.CrossTree.html#5936" class="Function">≈-refl</a> <a id="10402" class="Symbol">;</a> <a id="10404" href="Relation.Binary.Structures.html#1622" class="Field">sym</a> <a id="10408" class="Symbol">=</a> <a id="10410" href="WellFormed.CrossTree.html#5985" class="Function">≈-sym</a> <a id="10416" class="Symbol">;</a> <a id="10418" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="10424" class="Symbol">=</a> <a id="10426" href="WellFormed.CrossTree.html#6030" class="Function">≈-trans</a> <a id="10434" class="Symbol">}</a>

<a id="≼-isPreorder"></a><a id="10437" href="WellFormed.CrossTree.html#10437" class="Function">≼-isPreorder</a> <a id="10450" class="Symbol">:</a> <a id="10452" href="Relation.Binary.Structures.html#2191" class="Record">IsPreorder</a> <a id="10463" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="10467" href="WellFormed.CrossTree.html#10437" class="Function">≼-isPreorder</a> <a id="10480" class="Symbol">=</a> <a id="10482" class="Keyword">record</a> <a id="10489" class="Symbol">{</a> <a id="10491" href="Relation.Binary.Structures.html#2256" class="Field">isEquivalence</a> <a id="10505" class="Symbol">=</a> <a id="10507" href="WellFormed.CrossTree.html#10329" class="Function">≈-isEquivalence</a> <a id="10523" class="Symbol">;</a> <a id="10525" href="Relation.Binary.Structures.html#2359" class="Field">reflexive</a> <a id="10535" class="Symbol">=</a> <a id="10537" href="Cubical.Data.Equality.Base.html#384" class="Field">fst</a> <a id="10541" class="Symbol">;</a> <a id="10543" href="Relation.Binary.Structures.html#2389" class="Field">trans</a> <a id="10549" class="Symbol">=</a> <a id="10551" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="10559" class="Symbol">}</a>

<a id="≼-isPartialOrder"></a><a id="10562" href="WellFormed.CrossTree.html#10562" class="Function">≼-isPartialOrder</a> <a id="10579" class="Symbol">:</a> <a id="10581" href="Relation.Binary.Structures.html#3964" class="Record">IsPartialOrder</a> <a id="10596" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="10600" href="WellFormed.CrossTree.html#10562" class="Function">≼-isPartialOrder</a> <a id="10617" class="Symbol">=</a> <a id="10619" class="Keyword">record</a> <a id="10626" class="Symbol">{</a> <a id="10628" href="Relation.Binary.Structures.html#4033" class="Field">isPreorder</a> <a id="10639" class="Symbol">=</a> <a id="10641" href="WellFormed.CrossTree.html#10437" class="Function">≼-isPreorder</a> <a id="10654" class="Symbol">;</a> <a id="10656" href="Relation.Binary.Structures.html#4065" class="Field">antisym</a> <a id="10664" class="Symbol">=</a> <a id="10666" href="WellFormed.CrossTree.html#5793" class="Function">≼-antisym</a> <a id="10676" class="Symbol">}</a>

<a id="≺-isStrictPartialOrder"></a><a id="10679" href="WellFormed.CrossTree.html#10679" class="Function">≺-isStrictPartialOrder</a> <a id="10702" class="Symbol">:</a> <a id="10704" href="Relation.Binary.Structures.html#4722" class="Record">IsStrictPartialOrder</a> <a id="10725" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="10729" href="WellFormed.CrossTree.html#10679" class="Function">≺-isStrictPartialOrder</a> <a id="10752" class="Symbol">=</a> <a id="10754" class="Keyword">record</a>
  <a id="10763" class="Symbol">{</a> <a id="10765" href="Relation.Binary.Structures.html#4797" class="Field">isEquivalence</a> <a id="10779" class="Symbol">=</a> <a id="10781" href="WellFormed.CrossTree.html#10329" class="Function">≈-isEquivalence</a> <a id="10797" class="Symbol">;</a> <a id="10799" href="Relation.Binary.Structures.html#4831" class="Field">irrefl</a> <a id="10806" class="Symbol">=</a> <a id="10808" href="WellFormed.CrossTree.html#10062" class="Function">≺-irrefl</a> <a id="10817" class="Symbol">;</a> <a id="10819" href="Relation.Binary.Structures.html#4871" class="Field">trans</a> <a id="10825" class="Symbol">=</a> <a id="10827" href="WellFormed.CrossTree.html#8870" class="Function">≺-trans</a> <a id="10835" class="Symbol">;</a> <a id="10837" href="Relation.Binary.Structures.html#4906" class="Field">&lt;-resp-≈</a> <a id="10846" class="Symbol">=</a> <a id="10848" href="WellFormed.CrossTree.html#9117" class="Function">≺-resp-≈</a> <a id="10857" class="Symbol">}</a>

<a id="10860" class="Keyword">module</a> <a id="CrossTreeReasoning"></a><a id="10867" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a> <a id="10886" class="Keyword">where</a>
  <a id="10894" class="Keyword">open</a> <a id="10899" class="Keyword">import</a> <a id="10906" href="Relation.Binary.Reasoning.Base.Triple.html" class="Module">Relation.Binary.Reasoning.Base.Triple</a> <a id="10944" class="Symbol">{</a><a id="10945" class="Argument">_≈_</a> <a id="10949" class="Symbol">=</a> <a id="10951" href="WellFormed.CrossTree.html#5671" class="Function Operator">_≈_</a><a id="10954" class="Symbol">}</a> <a id="10956" class="Symbol">{</a><a id="10957" class="Argument">_≤_</a> <a id="10961" class="Symbol">=</a> <a id="10963" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a><a id="10966" class="Symbol">}</a> <a id="10968" class="Symbol">{</a><a id="10969" class="Argument">_&lt;_</a> <a id="10973" class="Symbol">=</a> <a id="10975" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a><a id="10978" class="Symbol">}</a>
    <a id="10984" href="WellFormed.CrossTree.html#10437" class="Function">≼-isPreorder</a> <a id="10997" href="WellFormed.CrossTree.html#10013" class="Function">≺-asym</a> <a id="11004" href="WellFormed.CrossTree.html#8870" class="Function">≺-trans</a> <a id="11012" href="WellFormed.CrossTree.html#9117" class="Function">≺-resp-≈</a> <a id="11021" href="WellFormed.CrossTree.html#7831" class="Function">≺→≼</a> <a id="11025" href="WellFormed.CrossTree.html#8928" class="Function">≺-≼-trans</a> <a id="11035" href="WellFormed.CrossTree.html#8987" class="Function">≼-≺-trans</a> <a id="11045" class="Keyword">public</a>
</pre>
<p><strong>注意 2-3-31</strong> 相较于子树关系是同株树序数上的良序, 跨树关系是整个树序数类型上的良基偏序, 但不是全序.</p>
<h2 id="跨树算术定理">跨树算术定理</h2>
<p>有了跨树关系, 我们可以补上一大类无法在子树关系下讨论的算术定理. 为了体系的完整性, 子树关系下已经讨论过的定理也会在这里复述其跨树版本. 而且要注意, 子树定理到跨树定理的转换还不一定是平凡的. 首先膨胀性的转换显然是平凡的, 但保序性并没有一劳永逸的转换方法, 我们必须一一证明.</p>
<h3 id="加法">加法</h3>
<p><strong>事实 2-3-32</strong> 左侧加法 <span class="math inline">λx,x+a</span> 膨胀 <span class="math inline">≼</span>, 且当 <span class="math inline">a</span> 非零时膨胀 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 由其子树版本: 定理 2-2-14 和推论 2-2-15 即得. ∎</p>
<pre class="Agda"><a id="+a-infl≼"></a><a id="11389" href="WellFormed.CrossTree.html#11389" class="Function">+a-infl≼</a> <a id="11398" class="Symbol">:</a> <a id="11400" class="Symbol">(</a><a id="11401" href="WellFormed.Arithmetic.html#3700" class="Function Operator">_+</a> <a id="11404" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="11405" class="Symbol">)</a> <a id="11407" href="WellFormed.Arithmetic.html#897" class="Function Operator">inflates</a> <a id="11416" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="11420" href="WellFormed.CrossTree.html#11389" class="Function">+a-infl≼</a> <a id="11429" class="Symbol">=</a> <a id="11431" href="WellFormed.CrossTree.html#5499" class="Function">≤→≼</a> <a id="11435" href="WellFormed.Arithmetic.html#5646" class="Function">+-infl≤</a>

<a id="+a-infl≺"></a><a id="11444" href="WellFormed.CrossTree.html#11444" class="Function">+a-infl≺</a> <a id="11453" class="Symbol">:</a> <a id="11455" class="Symbol">⦃</a> <a id="11457" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="11465" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="11467" class="Symbol">⦄</a> <a id="11469" class="Symbol">→</a> <a id="11471" class="Symbol">(</a><a id="11472" href="WellFormed.Arithmetic.html#3700" class="Function Operator">_+</a> <a id="11475" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="11476" class="Symbol">)</a> <a id="11478" href="WellFormed.Arithmetic.html#897" class="Function Operator">inflates</a> <a id="11487" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="11491" href="WellFormed.CrossTree.html#11444" class="Function">+a-infl≺</a> <a id="11500" class="Symbol">=</a> <a id="11502" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="11506" href="WellFormed.Arithmetic.html#6132" class="Function">+-infl</a>
</pre>
<p><strong>定理 2-3-33</strong> 右侧加法 <span class="math inline">λx,a+x</span> 膨胀 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 这是一个跨树专有定理. 要证 <span class="math inline">x ≼ x + a</span>. 对 <span class="math inline">x</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">x = 0</span>, 有 <span class="math inline">\text{z≼} : 0 ≼ a + 0</span>.</li>
<li>若 <span class="math inline">x = x&#39;^+</span>, 有归纳假设 <span class="math inline">x&#39; ≼ a + x&#39;</span>, 于是 <span class="math inline">x&#39;^+ ≼ (a + x&#39;)^+ = a + x&#39;^+</span>.</li>
<li>若 <span class="math inline">x = \lim(f)</span>, 有归纳假设 <span class="math inline">f(n) ≼ a + f(n)</span>, 于是 <span class="math inline">\lim(f) = \lim(λn,f(n)) ≼ \lim(λn,a + f(n)) = \lim(a + f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="a+-infl≼"></a><a id="11833" href="WellFormed.CrossTree.html#11833" class="Function">a+-infl≼</a> <a id="11842" class="Symbol">:</a> <a id="11844" class="Symbol">(</a><a id="11845" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="11847" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+_</a><a id="11849" class="Symbol">)</a> <a id="11851" href="WellFormed.Arithmetic.html#897" class="Function Operator">inflates</a> <a id="11860" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="11864" href="WellFormed.CrossTree.html#11833" class="Function">a+-infl≼</a> <a id="11873" class="Symbol">{</a><a id="11874" class="Argument">x</a> <a id="11876" class="Symbol">=</a> <a id="11878" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a><a id="11882" class="Symbol">}</a>  <a id="11885" class="Symbol">=</a> <a id="11887" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>
<a id="11890" href="WellFormed.CrossTree.html#11833" class="Function">a+-infl≼</a> <a id="11899" class="Symbol">{</a><a id="11900" class="Argument">x</a> <a id="11902" class="Symbol">=</a> <a id="11904" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="11908" href="WellFormed.CrossTree.html#11908" class="Bound">x</a><a id="11909" class="Symbol">}</a> <a id="11911" class="Symbol">=</a> <a id="11913" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="11917" href="WellFormed.CrossTree.html#11833" class="Function">a+-infl≼</a>
<a id="11926" href="WellFormed.CrossTree.html#11833" class="Function">a+-infl≼</a> <a id="11935" class="Symbol">{</a><a id="11936" class="Argument">x</a> <a id="11938" class="Symbol">=</a> <a id="11940" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="11944" href="WellFormed.CrossTree.html#11944" class="Bound">f</a><a id="11945" class="Symbol">}</a> <a id="11947" class="Symbol">=</a> <a id="11949" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="11953" href="WellFormed.CrossTree.html#11833" class="Function">a+-infl≼</a>
</pre>
<p><strong>定理 2-3-34</strong> 右侧加法 <span class="math inline">λx,a+x</span> 保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 这无法从其子树版本直接推出. 要证 <span class="math inline">x ≼ y → a + x ≼ a + y</span>. 我们对 <span class="math inline">p : x ≼ y</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">p = \text{z≼} : 0 ≼ y</span>, 由事实 2-3-32 有 <span class="math inline">a + 0 = a ≼ a + y</span>.</li>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : x^+ ≼ y^+</span>, 有归纳假设 <span class="math inline">a + x ≼ a + y</span>, 两边取后继即得 <span class="math inline">a + x^+ ≼ a + y^+</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : x ≼ \lim(f)</span>, 有归纳假设 <span class="math inline">a + x ≼ a + f(n)</span>, 右边取极限即得 <span class="math inline">a + x ≼ a + \lim(f)</span>.</li>
<li>若 <span class="math inline">p = \text{l≼}(p&#39;) : \lim(f) ≼ y</span>, 有归纳假设 <span class="math inline">∀n, a + f(n) ≼ a + y</span>, 左边取极限即得 <span class="math inline">a + \lim(f) ≼ a + y</span>. ∎</li>
</ul>
<pre class="Agda"><a id="a+-pres≼"></a><a id="12436" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12445" class="Symbol">:</a> <a id="12447" class="Symbol">(</a><a id="12448" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="12450" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+_</a><a id="12452" class="Symbol">)</a> <a id="12454" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="12464" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="12468" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12477" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>       <a id="12486" class="Symbol">=</a> <a id="12488" href="WellFormed.CrossTree.html#11389" class="Function">+a-infl≼</a>
<a id="12497" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12506" class="Symbol">(</a><a id="12507" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="12511" href="WellFormed.CrossTree.html#12511" class="Bound">p</a><a id="12512" class="Symbol">)</a>  <a id="12515" class="Symbol">=</a> <a id="12517" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="12521" class="Symbol">(</a><a id="12522" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12531" href="WellFormed.CrossTree.html#12511" class="Bound">p</a><a id="12532" class="Symbol">)</a>
<a id="12534" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12543" class="Symbol">(</a><a id="12544" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="12547" href="WellFormed.CrossTree.html#12547" class="Bound">p</a><a id="12548" class="Symbol">)</a>   <a id="12552" class="Symbol">=</a> <a id="12554" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="12557" class="Symbol">(</a><a id="12558" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12567" href="WellFormed.CrossTree.html#12547" class="Bound">p</a><a id="12568" class="Symbol">)</a>
<a id="12570" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12579" class="Symbol">(</a><a id="12580" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="12583" href="WellFormed.CrossTree.html#12583" class="Bound">p</a><a id="12584" class="Symbol">)</a>   <a id="12588" class="Symbol">=</a> <a id="12590" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="12593" class="Symbol">(</a><a id="12594" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="12603" href="WellFormed.CrossTree.html#12583" class="Bound">p</a><a id="12604" class="Symbol">)</a>
</pre>
<p><strong>推论 2-3-35</strong> 右侧加法 <span class="math inline">λx,a+x</span> 保持 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 要证 <span class="math inline">x ≺ y → a + x ≺ a + y</span>, 对 <span class="math inline">p : x ≺ y</span> 归纳, 只有两种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : x ≺ y^+</span>, 必有 <span class="math inline">p&#39; : x ≼ y</span>. 由定理 2-3-34 有 <span class="math inline">a + x ≼ a + y</span>, 两边取后继即得 <span class="math inline">a + x ≺ a + y^+</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : x ≺ \lim(f)</span>, 必有 <span class="math inline">p&#39; : x ≺ f(n)</span>. 由定理 2-3-34 有 <span class="math inline">a + x ≺ a + f(n)</span>, 右边取极限即得 <span class="math inline">a + x ≺ a + \lim(f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="a+-pres≺"></a><a id="12955" href="WellFormed.CrossTree.html#12955" class="Function">a+-pres≺</a> <a id="12964" class="Symbol">:</a> <a id="12966" class="Symbol">(</a><a id="12967" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="12969" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+_</a><a id="12971" class="Symbol">)</a> <a id="12973" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="12983" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="12987" href="WellFormed.CrossTree.html#12955" class="Function">a+-pres≺</a> <a id="12996" class="Symbol">(</a><a id="12997" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="13001" href="WellFormed.CrossTree.html#13001" class="Bound">p</a><a id="13002" class="Symbol">)</a> <a id="13004" class="Symbol">=</a> <a id="13006" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="13010" class="Symbol">(</a><a id="13011" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="13020" href="WellFormed.CrossTree.html#13001" class="Bound">p</a><a id="13021" class="Symbol">)</a>
<a id="13023" href="WellFormed.CrossTree.html#12955" class="Function">a+-pres≺</a> <a id="13032" class="Symbol">(</a><a id="13033" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="13036" href="WellFormed.CrossTree.html#13036" class="Bound">p</a><a id="13037" class="Symbol">)</a>  <a id="13040" class="Symbol">=</a> <a id="13042" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="13045" class="Symbol">(</a><a id="13046" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="13055" href="WellFormed.CrossTree.html#13036" class="Bound">p</a><a id="13056" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-36</strong> 左侧加法 <span class="math inline">λx,x+a</span> 保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 这是一个跨树专有定理. 要证 <span class="math inline">x ≼ y → x + a ≼ y + a</span>, 对 <span class="math inline">a</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">a = 0</span>, 有 <span class="math inline">x + 0 = x ≼ y = y + 0</span>.</li>
<li>若 <span class="math inline">a = a&#39;^+</span>, 有归纳假设 <span class="math inline">x + a&#39; ≼ y + a&#39;</span>, 两边取后继即得 <span class="math inline">x + a&#39;^+ ≼ y + a&#39;^+</span>.</li>
<li>若 <span class="math inline">a = \lim(f)</span>, 有归纳假设 <span class="math inline">∀n, x + f(n) ≼ y + f(n)</span>, 两边取极限即得 <span class="math inline">x + \lim(f) ≼ y + \lim(f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="+a-pres≼"></a><a id="13371" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="13380" class="Symbol">:</a> <a id="13382" class="Symbol">(</a><a id="13383" href="WellFormed.Arithmetic.html#3700" class="Function Operator">_+</a> <a id="13386" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="13387" class="Symbol">)</a> <a id="13389" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="13399" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="13403" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="13412" class="Symbol">{(</a><a id="13414" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a><a id="13418" class="Symbol">)}</a> <a id="13421" href="WellFormed.CrossTree.html#13421" class="Bound">p</a> <a id="13423" class="Symbol">=</a> <a id="13425" href="WellFormed.CrossTree.html#13421" class="Bound">p</a>
<a id="13427" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="13436" class="Symbol">{</a><a id="13437" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="13441" href="WellFormed.CrossTree.html#13441" class="Bound">a</a><a id="13442" class="Symbol">}</a> <a id="13444" href="WellFormed.CrossTree.html#13444" class="Bound">p</a>  <a id="13447" class="Symbol">=</a> <a id="13449" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="13453" class="Symbol">(</a><a id="13454" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="13463" href="WellFormed.CrossTree.html#13444" class="Bound">p</a><a id="13464" class="Symbol">)</a>
<a id="13466" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="13475" class="Symbol">{</a><a id="13476" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="13480" href="WellFormed.CrossTree.html#13480" class="Bound">f</a><a id="13481" class="Symbol">}</a> <a id="13483" href="WellFormed.CrossTree.html#13483" class="Bound">p</a>  <a id="13486" class="Symbol">=</a> <a id="13488" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="13492" class="Symbol">(</a><a id="13493" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="13502" href="WellFormed.CrossTree.html#13483" class="Bound">p</a><a id="13503" class="Symbol">)</a>
</pre>
<p><strong>推论 2-3-37</strong> 加法左右两边同时保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 要证 <span class="math inline">a ≼ b → c ≼ d → a + c ≼ b + d</span>, 由定理 2-3-34 和定理 2-3-36 即得. ∎</p>
<pre class="Agda"><a id="+-pres≼"></a><a id="13622" href="WellFormed.CrossTree.html#13622" class="Function">+-pres≼</a> <a id="13630" class="Symbol">:</a> <a id="13632" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="13634" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="13636" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="13638" class="Symbol">→</a> <a id="13640" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="13642" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="13644" href="WellFormed.Base.html#3973" class="Generalizable">d</a> <a id="13646" class="Symbol">→</a> <a id="13648" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="13650" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="13652" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="13654" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="13656" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="13658" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="13660" href="WellFormed.Base.html#3973" class="Generalizable">d</a>
<a id="13662" href="WellFormed.CrossTree.html#13622" class="Function">+-pres≼</a> <a id="13670" class="Symbol">{</a><a id="13671" href="WellFormed.CrossTree.html#13671" class="Bound">a</a><a id="13672" class="Symbol">}</a> <a id="13674" class="Symbol">{</a><a id="13675" href="WellFormed.CrossTree.html#13675" class="Bound">b</a><a id="13676" class="Symbol">}</a> <a id="13678" class="Symbol">{</a><a id="13679" href="WellFormed.CrossTree.html#13679" class="Bound">c</a><a id="13680" class="Symbol">}</a> <a id="13682" class="Symbol">{</a><a id="13683" href="WellFormed.CrossTree.html#13683" class="Bound">d</a><a id="13684" class="Symbol">}</a> <a id="13686" href="WellFormed.CrossTree.html#13686" class="Bound">p</a> <a id="13688" href="WellFormed.CrossTree.html#13688" class="Bound">q</a> <a id="13690" class="Symbol">=</a> <a id="13692" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="13700" href="WellFormed.CrossTree.html#13671" class="Bound">a</a> <a id="13702" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="13704" href="WellFormed.CrossTree.html#13679" class="Bound">c</a>                     <a id="13726" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="13729" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="13738" href="WellFormed.CrossTree.html#13688" class="Bound">q</a> <a id="13740" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="13744" href="WellFormed.CrossTree.html#13671" class="Bound">a</a> <a id="13746" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="13748" href="WellFormed.CrossTree.html#13683" class="Bound">d</a>                     <a id="13770" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="13773" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="13782" href="WellFormed.CrossTree.html#13686" class="Bound">p</a> <a id="13784" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="13788" href="WellFormed.CrossTree.html#13675" class="Bound">b</a> <a id="13790" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="13792" href="WellFormed.CrossTree.html#13683" class="Bound">d</a>                     <a id="13814" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="13816" class="Keyword">where</a> <a id="13822" class="Keyword">open</a> <a id="13827" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
</pre>
<p><strong>推论 2-3-38</strong> 左右两侧加法都尊重 <span class="math inline">≈</span>: - <span class="math inline">b ≈ c → a + b ≈ a + c</span>. - <span class="math inline">b ≈ c → b + a ≈ c + a</span>.</p>
<p><strong>证明</strong> 由定理 2-3-34 和定理 2-3-36 即得. ∎</p>
<pre class="Agda"><a id="a+-cong≈"></a><a id="13979" href="WellFormed.CrossTree.html#13979" class="Function">a+-cong≈</a> <a id="13988" class="Symbol">:</a> <a id="13990" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="13992" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="13994" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="13996" class="Symbol">→</a> <a id="13998" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="14000" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="14002" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="14004" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="14006" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="14008" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="14010" href="WellFormed.Base.html#3971" class="Generalizable">c</a>
<a id="14012" href="WellFormed.CrossTree.html#13979" class="Function">a+-cong≈</a> <a id="14021" class="Symbol">(</a><a id="14022" href="WellFormed.CrossTree.html#14022" class="Bound">p</a> <a id="14024" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14026" href="WellFormed.CrossTree.html#14026" class="Bound">q</a><a id="14027" class="Symbol">)</a> <a id="14029" class="Symbol">=</a> <a id="14031" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="14040" href="WellFormed.CrossTree.html#14022" class="Bound">p</a> <a id="14042" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14044" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="14053" href="WellFormed.CrossTree.html#14026" class="Bound">q</a>

<a id="+a-cong≈"></a><a id="14056" href="WellFormed.CrossTree.html#14056" class="Function">+a-cong≈</a> <a id="14065" class="Symbol">:</a> <a id="14067" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="14069" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="14071" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="14073" class="Symbol">→</a> <a id="14075" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="14077" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="14079" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="14081" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="14083" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="14085" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="14087" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="14089" href="WellFormed.CrossTree.html#14056" class="Function">+a-cong≈</a> <a id="14098" class="Symbol">(</a><a id="14099" href="WellFormed.CrossTree.html#14099" class="Bound">p</a> <a id="14101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14103" href="WellFormed.CrossTree.html#14103" class="Bound">q</a><a id="14104" class="Symbol">)</a> <a id="14106" class="Symbol">=</a> <a id="14108" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="14117" href="WellFormed.CrossTree.html#14099" class="Bound">p</a> <a id="14119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14121" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="14130" href="WellFormed.CrossTree.html#14103" class="Bound">q</a>
</pre>
<p><strong>引理 2-3-39</strong> 我们知道 <span class="math inline">a ≺ b</span> 意味为 <span class="math inline">a + 1 = a^+ ≼ b</span>. 现在把 <span class="math inline">a + 1</span> 换成 <span class="math inline">1 + a</span> 也一样成立.<br />
<strong>证明</strong> 对 <span class="math inline">p : a ≺ b</span> 归纳, 只有两种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : a ≺ b&#39;^+</span>, 必有 <span class="math inline">p&#39; : a ≼ b&#39;</span>. 讨论 <span class="math inline">a</span>.
<ul>
<li>若 <span class="math inline">a = 0</span>, 有 <span class="math inline">1 + 0 = 1 ≼ b&#39;^+</span>, 显然成立.</li>
<li>若 <span class="math inline">a = a&#39;^+</span>, <span class="math inline">p&#39;</span> 变为 <span class="math inline">p&#39; : a&#39; ≺ b&#39;</span>, 有归纳假设 <span class="math inline">1 + a&#39; ≼ b&#39;</span>. 两边取后继即得 <span class="math inline">1 + a&#39;^+ ≼ b&#39;^+</span>.</li>
<li>若 <span class="math inline">a = \lim(f)</span>, <span class="math inline">p&#39;</span> 变为 <span class="math inline">p&#39; : \lim(f) ≼ b&#39;</span>, 由传递性有 <span class="math inline">∀ n, f(n) ≼ b&#39;</span>, 两边取后继有 <span class="math inline">∀ n, f(n)^+ ≼ b&#39;^+</span>, 即 <span class="math inline">∀ n, f(n) ≺ b&#39;^+</span>. 此时有归纳假设 <span class="math inline">∀ n, 1 + f(n) ≼ b&#39;^+</span>, 左边取极限即得 <span class="math inline">1 + \lim(f) ≼ b&#39;^+</span>.</li>
</ul></li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : a ≺ \lim(f)</span>, 必有 <span class="math inline">p&#39; : a ≺ f(n)</span>. 此时有归纳假设 <span class="math inline">1 + a ≼ f(n)</span>, 右边取极限即得 <span class="math inline">1 + a ≼ \lim(f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="≺→1+a≼"></a><a id="14757" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="14764" class="Symbol">:</a> <a id="14766" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="14768" href="WellFormed.CrossTree.html#7088" class="Function Operator">≺</a> <a id="14770" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="14772" class="Symbol">→</a> <a id="14774" class="Number">1</a> <a id="14776" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="14778" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="14780" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="14782" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
<a id="14784" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="14791" class="Symbol">{(</a><a id="14793" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a><a id="14797" class="Symbol">)}</a> <a id="14800" class="Symbol">(</a><a id="14801" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="14805" href="WellFormed.CrossTree.html#14805" class="Bound">p</a><a id="14806" class="Symbol">)</a> <a id="14808" class="Symbol">=</a> <a id="14810" href="WellFormed.CrossTree.html#7257" class="Function">z≺s</a>
<a id="14814" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="14821" class="Symbol">{</a><a id="14822" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="14826" href="WellFormed.CrossTree.html#14826" class="Bound">a</a><a id="14827" class="Symbol">}</a> <a id="14829" class="Symbol">(</a><a id="14830" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="14834" href="WellFormed.CrossTree.html#14834" class="Bound">p</a><a id="14835" class="Symbol">)</a>  <a id="14838" class="Symbol">=</a> <a id="14840" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="14844" class="Symbol">(</a><a id="14845" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="14852" href="WellFormed.CrossTree.html#14834" class="Bound">p</a><a id="14853" class="Symbol">)</a>
<a id="14855" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="14862" class="Symbol">{</a><a id="14863" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="14867" href="WellFormed.CrossTree.html#14867" class="Bound">f</a><a id="14868" class="Symbol">}</a> <a id="14870" class="Symbol">(</a><a id="14871" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="14875" href="WellFormed.CrossTree.html#14875" class="Bound">p</a><a id="14876" class="Symbol">)</a>  <a id="14879" class="Symbol">=</a> <a id="14881" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="14884" class="Symbol">(</a><a id="14885" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="14892" class="Symbol">(</a><a id="14893" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="14897" class="Symbol">(</a><a id="14898" href="WellFormed.CrossTree.html#3575" class="Function">≼-trans</a> <a id="14906" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a> <a id="14910" href="WellFormed.CrossTree.html#14875" class="Bound">p</a><a id="14911" class="Symbol">)))</a>
<a id="14915" href="WellFormed.CrossTree.html#14757" class="CatchallClause Function">≺→1+a≼</a><a id="14921" class="CatchallClause"> </a><a id="14922" class="CatchallClause Symbol">(</a><a id="14923" href="WellFormed.CrossTree.html#1254" class="CatchallClause InductiveConstructor">≼l</a><a id="14925" class="CatchallClause"> </a><a id="14926" href="WellFormed.CrossTree.html#14926" class="CatchallClause Bound">p</a><a id="14927" class="CatchallClause Symbol">)</a>           <a id="14939" class="Symbol">=</a> <a id="14941" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="14944" class="Symbol">(</a><a id="14945" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="14952" href="WellFormed.CrossTree.html#14926" class="Bound">p</a><a id="14953" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-40</strong> 在极限序数的左边加一不影响其大小.<br />
<strong>证明</strong> 要证 <span class="math inline">1 + \lim(f) ≈ \lim(f)</span>.</p>
<ul>
<li>先证 <span class="math inline">1 + \lim(f) ≼ \lim(f)</span>. 由 <span class="math inline">f</span> 良构有 <span class="math inline">∀ n, f(n) ≺ f(n^+)</span>, 由引理 2-3-39 有 <span class="math inline">∀ n, 1 + f(n) ≼ f(n^+)</span>, 由事实 2-3-3 即得 <span class="math inline">1 + \lim(f) ≼ \lim(f)</span>.</li>
<li>再证 <span class="math inline">\lim(f) ≼ 1 + \lim(f)</span>, 只需证 <span class="math inline">f(n) ≼ 1 + f(n)</span>, 由定理 2-3-33 即得. ∎</li>
</ul>
<pre class="Agda"><a id="1+l-absorb"></a><a id="15248" href="WellFormed.CrossTree.html#15248" class="Function">1+l-absorb</a> <a id="15259" class="Symbol">:</a> <a id="15261" href="WellFormed.Properties.html#2285" class="Function">isLim</a> <a id="15267" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="15269" class="Symbol">→</a> <a id="15271" class="Number">1</a> <a id="15273" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="15275" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="15277" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="15279" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="15281" href="WellFormed.CrossTree.html#15248" class="Function">1+l-absorb</a> <a id="15292" class="Symbol">{</a><a id="15293" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="15297" href="WellFormed.CrossTree.html#15297" class="Bound">f</a><a id="15298" class="Symbol">}</a> <a id="15300" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="15303" class="Symbol">=</a> <a id="15305" href="WellFormed.CrossTree.html#2251" class="Function">l≼ls</a> <a id="15310" class="Symbol">(</a><a id="15311" href="WellFormed.CrossTree.html#14757" class="Function">≺→1+a≼</a> <a id="15318" class="Symbol">(</a><a id="15319" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="15323" href="Function.Base.html#4736" class="Function">it</a><a id="15325" class="Symbol">))</a> <a id="15328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15330" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="15334" href="WellFormed.CrossTree.html#11833" class="Function">a+-infl≼</a>
</pre>
<h3 id="乘法">乘法</h3>
<p><strong>事实 2-3-41</strong> 左侧乘法 <span class="math inline">λx,x·a</span> 膨胀 <span class="math inline">≼</span> 和 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 由其子树版本: 推论 2-2-25 和推论 2-2-26 即得. ∎</p>
<pre class="Agda"><a id="*a-infl≼"></a><a id="15451" href="WellFormed.CrossTree.html#15451" class="Function">*a-infl≼</a> <a id="15460" class="Symbol">:</a> <a id="15462" class="Symbol">⦃</a> <a id="15464" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="15472" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="15474" class="Symbol">⦄</a> <a id="15476" class="Symbol">→</a> <a id="15478" class="Symbol">(</a><a id="15479" href="WellFormed.Arithmetic.html#6653" class="Function Operator">_*</a> <a id="15482" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="15483" class="Symbol">)</a> <a id="15485" href="WellFormed.Arithmetic.html#1707" class="Function">inflates</a> <a id="15494" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a> <a id="15498" href="WellFormed.Arithmetic.html#1707" class="Function">within</a> <a id="15505" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a>
<a id="15513" href="WellFormed.CrossTree.html#15451" class="Function">*a-infl≼</a> <a id="15522" class="Symbol">=</a> <a id="15524" href="WellFormed.CrossTree.html#5499" class="Function">≤→≼</a> <a id="15528" href="WellFormed.Arithmetic.html#11163" class="Function">*-infl≤</a>

<a id="*a-infl≺"></a><a id="15537" href="WellFormed.CrossTree.html#15537" class="Function">*a-infl≺</a> <a id="15546" class="Symbol">:</a> <a id="15548" class="Symbol">⦃</a> <a id="15550" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="15561" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="15563" class="Symbol">⦄</a> <a id="15565" class="Symbol">→</a> <a id="15567" class="Symbol">(</a><a id="15568" href="WellFormed.Arithmetic.html#6653" class="Function Operator">_*</a> <a id="15571" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="15572" class="Symbol">)</a> <a id="15574" href="WellFormed.Arithmetic.html#1707" class="Function">inflates</a> <a id="15583" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="15587" href="WellFormed.Arithmetic.html#1707" class="Function">within</a> <a id="15594" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a>
<a id="15602" href="WellFormed.CrossTree.html#15537" class="Function">*a-infl≺</a> <a id="15611" class="Symbol">=</a> <a id="15613" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="15617" href="WellFormed.Arithmetic.html#11532" class="Function">*-infl</a>
</pre>
<p><strong>定理 2-3-42</strong> 右侧乘法 <span class="math inline">λx,a·x</span> 保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 要证 <span class="math inline">x ≼ y → a · x ≼ a · y</span>, 对 <span class="math inline">p : x ≼ y</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">p = \text{z≼} : 0 ≼ y</span>, 有 <span class="math inline">a · 0 = 0 ≼ a · y</span>.</li>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : x^+ ≼ y^+</span>, 有归纳假设 <span class="math inline">a · x ≼ a · y</span>, 两边加 <span class="math inline">a</span> 即得 <span class="math inline">a · x^+ = ≼ a · y^+</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : x ≼ \lim(f)</span>, 有归纳假设 <span class="math inline">a · x ≼ a · f(n)</span>, 右边取极限即得 <span class="math inline">a · x ≼ a · \lim(f)</span>.</li>
<li>若 <span class="math inline">p = \text{l≼}(p&#39;) : \lim(f) ≼ y</span>, 有归纳假设 <span class="math inline">∀n, a · f(n) ≼ a · y</span>, 左边取极限即得 <span class="math inline">a · \lim(f) ≼ a · y</span>. ∎</li>
</ul>
<pre class="Agda"><a id="a*-pres≼"></a><a id="16075" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16084" class="Symbol">:</a> <a id="16086" class="Symbol">⦃</a> <a id="16088" href="WellFormed.CrossTree.html#16088" class="Bound">_</a> <a id="16090" class="Symbol">:</a> <a id="16092" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="16100" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="16102" class="Symbol">⦄</a> <a id="16104" class="Symbol">→</a> <a id="16106" class="Symbol">(</a><a id="16107" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="16109" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*_</a><a id="16111" class="Symbol">)</a> <a id="16113" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="16123" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="16127" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16136" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>       <a id="16145" class="Symbol">=</a> <a id="16147" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>
<a id="16150" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16159" class="Symbol">(</a><a id="16160" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="16164" href="WellFormed.CrossTree.html#16164" class="Bound">p</a><a id="16165" class="Symbol">)</a>  <a id="16168" class="Symbol">=</a> <a id="16170" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="16179" class="Symbol">(</a><a id="16180" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16189" href="WellFormed.CrossTree.html#16164" class="Bound">p</a><a id="16190" class="Symbol">)</a>
<a id="16192" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16201" class="Symbol">(</a><a id="16202" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="16205" href="WellFormed.CrossTree.html#16205" class="Bound">p</a><a id="16206" class="Symbol">)</a>   <a id="16210" class="Symbol">=</a> <a id="16212" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="16215" class="Symbol">(</a><a id="16216" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16225" href="WellFormed.CrossTree.html#16205" class="Bound">p</a><a id="16226" class="Symbol">)</a>
<a id="16228" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16237" class="Symbol">(</a><a id="16238" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="16241" href="WellFormed.CrossTree.html#16241" class="Bound">p</a><a id="16242" class="Symbol">)</a>   <a id="16246" class="Symbol">=</a> <a id="16248" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="16251" class="Symbol">(</a><a id="16252" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16261" href="WellFormed.CrossTree.html#16241" class="Bound">p</a><a id="16262" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-43</strong> 右侧乘法 <span class="math inline">λx,a·x</span> 保持 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 要证 <span class="math inline">x ≺ y → a · x ≺ a · y</span>, 对 <span class="math inline">p : x ≺ y</span> 归纳, 只有两种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : x ≺ y^+</span>, 必有 <span class="math inline">p&#39; : x ≼ y</span>, 于是 <span class="math inline">a · x ≺ a · x + a ≼ a · y + a = a · y&#39;^+</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : x ≺ \lim(f)</span>, 必有 <span class="math inline">p&#39; : x ≺ f(n)</span>, 有归纳假设 <span class="math inline">a · x ≺ a · f(n)</span>, 右边取极限即得 <span class="math inline">a · x ≺ a · \lim(f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="a*-pres≺"></a><a id="16596" href="WellFormed.CrossTree.html#16596" class="Function">a*-pres≺</a> <a id="16605" class="Symbol">:</a> <a id="16607" class="Symbol">⦃</a> <a id="16609" href="WellFormed.CrossTree.html#16609" class="Bound">_</a> <a id="16611" class="Symbol">:</a> <a id="16613" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="16621" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="16623" class="Symbol">⦄</a> <a id="16625" class="Symbol">→</a> <a id="16627" class="Symbol">(</a><a id="16628" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="16630" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*_</a><a id="16632" class="Symbol">)</a> <a id="16634" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="16644" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="16648" href="WellFormed.CrossTree.html#16596" class="Function">a*-pres≺</a> <a id="16657" class="Symbol">{</a><a id="16658" href="WellFormed.CrossTree.html#16658" class="Bound">a</a><a id="16659" class="Symbol">}</a> <a id="16661" class="Symbol">{</a><a id="16662" href="WellFormed.CrossTree.html#16662" class="Bound">x</a><a id="16663" class="Symbol">}</a> <a id="16665" class="Symbol">(</a><a id="16666" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="16670" class="Symbol">{</a><a id="16671" class="Argument">b</a> <a id="16673" class="Symbol">=</a> <a id="16675" href="WellFormed.CrossTree.html#16675" class="Bound">y</a><a id="16676" class="Symbol">}</a> <a id="16678" href="WellFormed.CrossTree.html#16678" class="Bound">p</a><a id="16679" class="Symbol">)</a> <a id="16681" class="Symbol">=</a> <a id="16683" href="Relation.Binary.Reasoning.Syntax.html#3008" class="Function Operator">begin-strict</a>
  <a id="16698" href="WellFormed.CrossTree.html#16658" class="Bound">a</a> <a id="16700" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="16702" href="WellFormed.CrossTree.html#16662" class="Bound">x</a>                     <a id="16724" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">&lt;⟨</a> <a id="16727" href="WellFormed.CrossTree.html#11444" class="Function">+a-infl≺</a> <a id="16736" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">⟩</a>
  <a id="16740" href="WellFormed.CrossTree.html#16658" class="Bound">a</a> <a id="16742" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="16744" href="WellFormed.CrossTree.html#16662" class="Bound">x</a> <a id="16746" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="16748" href="WellFormed.CrossTree.html#16658" class="Bound">a</a>                 <a id="16766" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="16769" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="16778" class="Symbol">(</a><a id="16779" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="16788" href="WellFormed.CrossTree.html#16678" class="Bound">p</a><a id="16789" class="Symbol">)</a> <a id="16791" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="16795" href="WellFormed.CrossTree.html#16658" class="Bound">a</a> <a id="16797" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="16799" href="WellFormed.CrossTree.html#16675" class="Bound">y</a> <a id="16801" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="16803" href="WellFormed.CrossTree.html#16658" class="Bound">a</a>                 <a id="16821" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="16823" class="Keyword">where</a> <a id="16829" class="Keyword">open</a> <a id="16834" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
<a id="16853" href="WellFormed.CrossTree.html#16596" class="Function">a*-pres≺</a> <a id="16862" class="Symbol">{</a><a id="16863" href="WellFormed.CrossTree.html#16863" class="Bound">a</a><a id="16864" class="Symbol">}</a> <a id="16866" class="Symbol">{</a><a id="16867" href="WellFormed.CrossTree.html#16867" class="Bound">x</a><a id="16868" class="Symbol">}</a> <a id="16870" class="Symbol">(</a><a id="16871" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="16874" class="Symbol">{</a><a id="16875" href="WellFormed.CrossTree.html#16875" class="Bound">f</a><a id="16876" class="Symbol">}</a> <a id="16878" class="Symbol">{</a><a id="16879" href="WellFormed.CrossTree.html#16879" class="Bound">n</a><a id="16880" class="Symbol">}</a> <a id="16882" href="WellFormed.CrossTree.html#16882" class="Bound">p</a><a id="16883" class="Symbol">)</a> <a id="16885" class="Symbol">=</a> <a id="16887" href="Relation.Binary.Reasoning.Syntax.html#3008" class="Function Operator">begin-strict</a>
  <a id="16902" href="WellFormed.CrossTree.html#16863" class="Bound">a</a> <a id="16904" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="16906" href="WellFormed.CrossTree.html#16867" class="Bound">x</a>                     <a id="16928" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">&lt;⟨</a> <a id="16931" href="WellFormed.CrossTree.html#16596" class="Function">a*-pres≺</a> <a id="16940" href="WellFormed.CrossTree.html#16882" class="Bound">p</a> <a id="16942" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">⟩</a>
  <a id="16946" href="WellFormed.CrossTree.html#16863" class="Bound">a</a> <a id="16948" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="16950" href="WellFormed.CrossTree.html#16875" class="Bound">f</a> <a id="16952" href="WellFormed.CrossTree.html#16879" class="Bound">n</a>                   <a id="16972" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="16975" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a> <a id="16979" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="16983" href="WellFormed.Properties.html#1660" class="Function">lim-</a> <a id="16988" class="Symbol">(λ</a> <a id="16991" href="WellFormed.CrossTree.html#16991" class="Bound">n</a> <a id="16993" class="Symbol">→</a> <a id="16995" href="WellFormed.CrossTree.html#16863" class="Bound">a</a> <a id="16997" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="16999" href="WellFormed.CrossTree.html#16875" class="Bound">f</a> <a id="17001" href="WellFormed.CrossTree.html#16991" class="Bound">n</a><a id="17002" class="Symbol">)</a>      <a id="17009" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="17011" class="Keyword">where</a> <a id="17017" class="Keyword">open</a> <a id="17022" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
</pre>
<p><strong>定理 2-3-44</strong> 左侧乘法 <span class="math inline">λx,x·a</span> 保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 这是一个跨树专有定理. 要证 <span class="math inline">x ≼ y → x · a ≼ y · a</span>, 对 <span class="math inline">a</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">a = 0</span>, 有 <span class="math inline">x · 0 ≼ y · 0</span>.</li>
<li>若 <span class="math inline">a = a&#39;^+</span>, 有归纳假设 <span class="math inline">x · a&#39; ≼ y · a&#39;</span>. 由推论 2-3-37 即得 <span class="math inline">x · a&#39; + x ≼ y · a&#39; + y</span>.</li>
<li>若 <span class="math inline">a = \lim(f)</span>, 有归纳假设 <span class="math inline">∀n, x · f(n) ≼ y · f(n)</span>, 两边取极限即得 <span class="math inline">x · \lim(f) ≼ y · \lim(f)</span>. ∎</li>
</ul>
<pre class="Agda"><a id="*a-pres≼"></a><a id="17356" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="17365" class="Symbol">:</a> <a id="17367" class="Symbol">(</a><a id="17368" href="WellFormed.Arithmetic.html#6653" class="Function Operator">_*</a> <a id="17371" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="17372" class="Symbol">)</a> <a id="17374" href="WellFormed.Arithmetic.html#1474" class="Function">preserves</a> <a id="17384" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a> <a id="17388" href="WellFormed.Arithmetic.html#1474" class="Function">within</a> <a id="17395" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a>
<a id="17403" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="17412" class="Symbol">{(</a><a id="17414" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a><a id="17418" class="Symbol">)}</a> <a id="17421" class="Symbol">_</a> <a id="17423" class="Symbol">=</a> <a id="17425" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>
<a id="17432" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="17441" class="Symbol">{</a><a id="17442" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="17446" href="WellFormed.CrossTree.html#17446" class="Bound">a</a><a id="17447" class="Symbol">}</a> <a id="17449" href="WellFormed.CrossTree.html#17449" class="Bound">p</a> <a id="17451" class="Symbol">=</a> <a id="17453" href="WellFormed.CrossTree.html#13622" class="Function">+-pres≼</a> <a id="17461" class="Symbol">(</a><a id="17462" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="17471" href="WellFormed.CrossTree.html#17449" class="Bound">p</a><a id="17472" class="Symbol">)</a> <a id="17474" href="WellFormed.CrossTree.html#17449" class="Bound">p</a>
<a id="17476" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="17485" class="Symbol">{</a><a id="17486" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="17490" href="WellFormed.CrossTree.html#17490" class="Bound">f</a><a id="17491" class="Symbol">}</a> <a id="17493" href="WellFormed.CrossTree.html#17493" class="Bound">p</a> <a id="17495" class="Symbol">=</a> <a id="17497" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="17501" class="Symbol">(</a><a id="17502" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="17511" href="WellFormed.CrossTree.html#17493" class="Bound">p</a><a id="17512" class="Symbol">)</a>
</pre>
<p><strong>推论 2-3-45</strong> 右侧乘法 <span class="math inline">λx,a·x</span> 保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> <span class="math inline">x ≼ 1 * x ≼ a · x</span>. ∎</p>
<pre class="Agda"><a id="a*-infl≼"></a><a id="17596" href="WellFormed.CrossTree.html#17596" class="Function">a*-infl≼</a> <a id="17605" class="Symbol">:</a> <a id="17607" class="Symbol">⦃</a> <a id="17609" href="WellFormed.CrossTree.html#17609" class="Bound">_</a> <a id="17611" class="Symbol">:</a> <a id="17613" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="17621" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="17623" class="Symbol">⦄</a> <a id="17625" class="Symbol">→</a> <a id="17627" class="Symbol">(</a><a id="17628" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="17630" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*_</a><a id="17632" class="Symbol">)</a> <a id="17634" href="WellFormed.Arithmetic.html#897" class="Function Operator">inflates</a> <a id="17643" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="17647" href="WellFormed.CrossTree.html#17596" class="Function">a*-infl≼</a> <a id="17656" class="Symbol">{</a><a id="17657" href="WellFormed.CrossTree.html#17657" class="Bound">a</a><a id="17658" class="Symbol">}</a> <a id="17660" class="Symbol">{</a><a id="17661" href="WellFormed.CrossTree.html#17661" class="Bound">x</a><a id="17662" class="Symbol">}</a> <a id="17664" class="Symbol">=</a>          <a id="17675" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="17683" href="WellFormed.CrossTree.html#17661" class="Bound">x</a>                         <a id="17709" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="17713" href="WellFormed.CrossTree.html#6147" class="Function">≡→≈</a> <a id="17717" href="WellFormed.Arithmetic.html#8650" class="Function">*a-id</a> <a id="17723" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
  <a id="17727" class="Symbol">(</a><a id="17728" class="Number">1</a> <a id="17730" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="17732" href="WellFormed.CrossTree.html#17661" class="Bound">x</a><a id="17733" class="Symbol">)</a> <a id="17735" class="Symbol">⦃</a> <a id="17737" class="Symbol">_</a> <a id="17739" class="Symbol">⦄</a>             <a id="17753" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="17756" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="17765" class="Symbol">⦃</a> <a id="17767" class="Symbol">_</a> <a id="17769" class="Symbol">⦄</a> <a id="17771" class="Symbol">(</a><a id="17772" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="17776" href="WellFormed.Arithmetic.html#2476" class="Function">nz-elim</a><a id="17783" class="Symbol">)</a> <a id="17785" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="17789" href="WellFormed.CrossTree.html#17657" class="Bound">a</a> <a id="17791" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="17793" href="WellFormed.CrossTree.html#17661" class="Bound">x</a>                     <a id="17815" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="17817" class="Keyword">where</a> <a id="17823" class="Keyword">open</a> <a id="17828" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
</pre>
<p><strong>推论 2-3-46</strong> 右侧乘法 <span class="math inline">λx,a·x</span> 保持 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 与推论 2-3-35 同理. ∎</p>
<pre class="Agda"><a id="*-pres≼"></a><a id="17923" href="WellFormed.CrossTree.html#17923" class="Function">*-pres≼</a> <a id="17931" class="Symbol">:</a> <a id="17933" class="Symbol">⦃</a> <a id="17935" href="WellFormed.CrossTree.html#17935" class="Bound">_</a> <a id="17937" class="Symbol">:</a> <a id="17939" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="17947" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="17949" class="Symbol">⦄</a> <a id="17951" class="Symbol">⦃</a> <a id="17953" href="WellFormed.CrossTree.html#17953" class="Bound">_</a> <a id="17955" class="Symbol">:</a> <a id="17957" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="17965" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="17967" class="Symbol">⦄</a> <a id="17969" class="Symbol">→</a> <a id="17971" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="17973" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="17975" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="17977" class="Symbol">→</a> <a id="17979" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="17981" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="17983" href="WellFormed.Base.html#3973" class="Generalizable">d</a> <a id="17985" class="Symbol">→</a> <a id="17987" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="17989" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="17991" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="17993" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="17995" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="17997" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="17999" href="WellFormed.Base.html#3973" class="Generalizable">d</a>
<a id="18001" href="WellFormed.CrossTree.html#17923" class="Function">*-pres≼</a> <a id="18009" class="Symbol">{</a><a id="18010" href="WellFormed.CrossTree.html#18010" class="Bound">a</a><a id="18011" class="Symbol">}</a> <a id="18013" class="Symbol">{</a><a id="18014" href="WellFormed.CrossTree.html#18014" class="Bound">b</a><a id="18015" class="Symbol">}</a> <a id="18017" class="Symbol">{</a><a id="18018" href="WellFormed.CrossTree.html#18018" class="Bound">c</a><a id="18019" class="Symbol">}</a> <a id="18021" class="Symbol">{</a><a id="18022" href="WellFormed.CrossTree.html#18022" class="Bound">d</a><a id="18023" class="Symbol">}</a> <a id="18025" href="WellFormed.CrossTree.html#18025" class="Bound">p</a> <a id="18027" href="WellFormed.CrossTree.html#18027" class="Bound">q</a> <a id="18029" class="Symbol">=</a> <a id="18031" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="18039" href="WellFormed.CrossTree.html#18010" class="Bound">a</a> <a id="18041" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="18043" href="WellFormed.CrossTree.html#18018" class="Bound">c</a>                     <a id="18065" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="18068" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="18077" href="WellFormed.CrossTree.html#18027" class="Bound">q</a> <a id="18079" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="18083" href="WellFormed.CrossTree.html#18010" class="Bound">a</a> <a id="18085" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="18087" href="WellFormed.CrossTree.html#18022" class="Bound">d</a>                     <a id="18109" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="18112" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="18121" href="WellFormed.CrossTree.html#18025" class="Bound">p</a> <a id="18123" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="18127" href="WellFormed.CrossTree.html#18014" class="Bound">b</a> <a id="18129" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="18131" href="WellFormed.CrossTree.html#18022" class="Bound">d</a>                     <a id="18153" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="18155" class="Keyword">where</a> <a id="18161" class="Keyword">open</a> <a id="18166" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
</pre>
<p><strong>推论 2-3-47</strong> 左右两侧乘法都尊重 <span class="math inline">≈</span>: - <span class="math inline">b ≈ c → a · b ≈ a · c</span>. - <span class="math inline">b ≈ c → b · a ≈ c · a</span>.</p>
<p><strong>证明</strong> 由定理 2-3-42 和定理 2-3-44 即得. ∎</p>
<pre class="Agda"><a id="a*-cong≈"></a><a id="18318" href="WellFormed.CrossTree.html#18318" class="Function">a*-cong≈</a> <a id="18327" class="Symbol">:</a> <a id="18329" class="Symbol">⦃</a> <a id="18331" href="WellFormed.CrossTree.html#18331" class="Bound">_</a> <a id="18333" class="Symbol">:</a> <a id="18335" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="18343" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="18345" class="Symbol">⦄</a> <a id="18347" class="Symbol">→</a> <a id="18349" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="18351" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="18353" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="18355" class="Symbol">→</a> <a id="18357" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="18359" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="18361" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="18363" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="18365" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="18367" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="18369" href="WellFormed.Base.html#3971" class="Generalizable">c</a>
<a id="18371" href="WellFormed.CrossTree.html#18318" class="Function">a*-cong≈</a> <a id="18380" class="Symbol">(</a><a id="18381" href="WellFormed.CrossTree.html#18381" class="Bound">p</a> <a id="18383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18385" href="WellFormed.CrossTree.html#18385" class="Bound">q</a><a id="18386" class="Symbol">)</a> <a id="18388" class="Symbol">=</a> <a id="18390" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="18399" href="WellFormed.CrossTree.html#18381" class="Bound">p</a> <a id="18401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18403" href="WellFormed.CrossTree.html#16075" class="Function">a*-pres≼</a> <a id="18412" href="WellFormed.CrossTree.html#18385" class="Bound">q</a>

<a id="*a-cong≈"></a><a id="18415" href="WellFormed.CrossTree.html#18415" class="Function">*a-cong≈</a> <a id="18424" class="Symbol">:</a> <a id="18426" class="Symbol">⦃</a> <a id="18428" href="WellFormed.CrossTree.html#18428" class="Bound">_</a> <a id="18430" class="Symbol">:</a> <a id="18432" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="18440" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="18442" class="Symbol">⦄</a> <a id="18444" class="Symbol">⦃</a> <a id="18446" href="WellFormed.CrossTree.html#18446" class="Bound">_</a> <a id="18448" class="Symbol">:</a> <a id="18450" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="18458" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="18460" class="Symbol">⦄</a> <a id="18462" class="Symbol">→</a> <a id="18464" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="18466" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="18468" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="18470" class="Symbol">→</a> <a id="18472" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="18474" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="18476" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="18478" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="18480" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="18482" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="18484" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="18486" href="WellFormed.CrossTree.html#18415" class="Function">*a-cong≈</a> <a id="18495" class="Symbol">(</a><a id="18496" href="WellFormed.CrossTree.html#18496" class="Bound">p</a> <a id="18498" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18500" href="WellFormed.CrossTree.html#18500" class="Bound">q</a><a id="18501" class="Symbol">)</a> <a id="18503" class="Symbol">=</a> <a id="18505" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="18514" href="WellFormed.CrossTree.html#18496" class="Bound">p</a> <a id="18516" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18518" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="18527" href="WellFormed.CrossTree.html#18500" class="Bound">q</a>
</pre>
<h3 id="幂运算">幂运算</h3>
<p><strong>事实 2-3-48</strong> 左侧幂运算 <span class="math inline">λx,x^a</span> 膨胀 <span class="math inline">≼</span> 和 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 由其子树版本: 推论 2-2-33 和推论 2-2-34 即得. ∎</p>
<pre class="Agda"><a id="^a-infl≼"></a><a id="18639" href="WellFormed.CrossTree.html#18639" class="Function">^a-infl≼</a> <a id="18648" class="Symbol">:</a> <a id="18650" class="Symbol">⦃</a> <a id="18652" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="18660" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="18662" class="Symbol">⦄</a> <a id="18664" class="Symbol">→</a> <a id="18666" class="Symbol">(</a><a id="18667" href="WellFormed.Arithmetic.html#11923" class="Function Operator">_^</a> <a id="18670" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="18671" class="Symbol">)</a> <a id="18673" href="WellFormed.Arithmetic.html#1707" class="Function">inflates</a> <a id="18682" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a> <a id="18686" href="WellFormed.Arithmetic.html#1707" class="Function">within</a> <a id="18693" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a>
<a id="18704" href="WellFormed.CrossTree.html#18639" class="Function">^a-infl≼</a> <a id="18713" class="Symbol">=</a> <a id="18715" href="WellFormed.CrossTree.html#5499" class="Function">≤→≼</a> <a id="18719" href="WellFormed.Arithmetic.html#16565" class="Function">^-infl≤</a>

<a id="^a-infl≺"></a><a id="18728" href="WellFormed.CrossTree.html#18728" class="Function">^a-infl≺</a> <a id="18737" class="Symbol">:</a> <a id="18739" class="Symbol">⦃</a> <a id="18741" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="18752" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="18754" class="Symbol">⦄</a> <a id="18756" class="Symbol">→</a> <a id="18758" class="Symbol">(</a><a id="18759" href="WellFormed.Arithmetic.html#11923" class="Function Operator">_^</a> <a id="18762" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="18763" class="Symbol">)</a> <a id="18765" href="WellFormed.Arithmetic.html#1707" class="Function">inflates</a> <a id="18774" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a> <a id="18778" href="WellFormed.Arithmetic.html#1707" class="Function">within</a> <a id="18785" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a>
<a id="18796" href="WellFormed.CrossTree.html#18728" class="Function">^a-infl≺</a> <a id="18805" class="Symbol">=</a> <a id="18807" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="18811" href="WellFormed.Arithmetic.html#16949" class="Function">^-infl</a>
</pre>
<p><strong>定理 2-3-49</strong> 右侧幂运算 <span class="math inline">λx,a^x</span> 保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 要证 <span class="math inline">x ≼ y → a^x ≼ a^y</span>, 对 <span class="math inline">p : x ≼ y</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">p = \text{z≼} : 0 ≼ y</span>, 有 <span class="math inline">a^0 = 1 ≤ a^y</span>.</li>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : x^+ ≼ y^+</span>, 有归纳假设 <span class="math inline">a^x ≼ a^y</span>, 两边乘 <span class="math inline">a</span> 即得 <span class="math inline">a^x · a ≼ a^y · a</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : x ≼ \lim(f)</span>, 有归纳假设 <span class="math inline">a^x ≼ a^{f(n)}</span>, 右边取极限即得 <span class="math inline">a^x ≼ a^{\lim(f)}</span>.</li>
<li>若 <span class="math inline">p = \text{l≼}(p&#39;) : \lim(f) ≼ y</span>, 有归纳假设 <span class="math inline">∀n, a^{f(n)} ≼ a^y</span>, 左边取极限即得 <span class="math inline">a^{\lim(f)} ≼ a^y</span>. ∎</li>
</ul>
<pre class="Agda"><a id="a^-pres≼"></a><a id="19248" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19257" class="Symbol">:</a> <a id="19259" class="Symbol">⦃</a> <a id="19261" href="WellFormed.CrossTree.html#19261" class="Bound">_</a> <a id="19263" class="Symbol">:</a> <a id="19265" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="19276" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="19278" class="Symbol">⦄</a> <a id="19280" class="Symbol">→</a> <a id="19282" class="Symbol">(</a><a id="19283" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="19285" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^_</a><a id="19287" class="Symbol">)</a> <a id="19289" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="19299" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="19303" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19312" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a> <a id="19315" class="Symbol">=</a> <a id="19317" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="19321" href="WellFormed.Arithmetic.html#2476" class="Function">nz-elim</a>                 <a id="19345" class="Keyword">where</a> <a id="19351" class="Keyword">instance</a> <a id="19360" href="WellFormed.CrossTree.html#19360" class="Function">_</a> <a id="19362" class="Symbol">=</a> <a id="19364" href="WellFormed.Arithmetic.html#12040" class="Function">^-nz</a>
<a id="19369" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19378" class="Symbol">(</a><a id="19379" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="19383" href="WellFormed.CrossTree.html#19383" class="Bound">p</a><a id="19384" class="Symbol">)</a> <a id="19386" class="Symbol">=</a> <a id="19388" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="19397" class="Symbol">(</a><a id="19398" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19407" href="WellFormed.CrossTree.html#19383" class="Bound">p</a><a id="19408" class="Symbol">)</a>  <a id="19411" class="Keyword">where</a> <a id="19417" class="Keyword">instance</a> <a id="19426" href="WellFormed.CrossTree.html#19426" class="Function">_</a> <a id="19428" class="Symbol">=</a> <a id="19430" href="WellFormed.Arithmetic.html#12040" class="Function">^-nz</a>
<a id="19435" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19444" class="Symbol">(</a><a id="19445" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="19448" href="WellFormed.CrossTree.html#19448" class="Bound">p</a><a id="19449" class="Symbol">)</a> <a id="19451" class="Symbol">=</a> <a id="19453" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="19456" class="Symbol">(</a><a id="19457" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19466" href="WellFormed.CrossTree.html#19448" class="Bound">p</a><a id="19467" class="Symbol">)</a>
<a id="19469" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19478" class="Symbol">(</a><a id="19479" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="19482" href="WellFormed.CrossTree.html#19482" class="Bound">p</a><a id="19483" class="Symbol">)</a> <a id="19485" class="Symbol">=</a> <a id="19487" href="WellFormed.CrossTree.html#1301" class="InductiveConstructor">l≼</a> <a id="19490" class="Symbol">(</a><a id="19491" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="19500" href="WellFormed.CrossTree.html#19482" class="Bound">p</a><a id="19501" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-50</strong> 右侧幂运算 <span class="math inline">λx,a^x</span> 保持 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 要证 <span class="math inline">x ≺ y → a^x ≺ a^y</span>, 对 <span class="math inline">p : x ≺ y</span> 归纳, 只有两种情况.</p>
<ul>
<li>若 <span class="math inline">p = \text{s≼s}(p&#39;) : x ≺ y^+</span>, 必有 <span class="math inline">p&#39; : x ≼ y</span>, 于是 <span class="math inline">a^x ≺ a^x · a ≼ a^y · a = a^{y^+}</span>.</li>
<li>若 <span class="math inline">p = \text{≼l}(p&#39;) : x ≺ \lim(f)</span>, 必有 <span class="math inline">p&#39; : x ≺ f(n)</span>, 有归纳假设 <span class="math inline">a^x ≺ a^{f(n)}</span>, 右边取极限即得 <span class="math inline">a^x ≺ a^{\lim(f)}</span>. ∎</li>
</ul>
<pre class="Agda"><a id="a^-pres≺"></a><a id="19821" href="WellFormed.CrossTree.html#19821" class="Function">a^-pres≺</a> <a id="19830" class="Symbol">:</a> <a id="19832" class="Symbol">⦃</a> <a id="19834" href="WellFormed.CrossTree.html#19834" class="Bound">_</a> <a id="19836" class="Symbol">:</a> <a id="19838" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="19849" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="19851" class="Symbol">⦄</a> <a id="19853" class="Symbol">→</a> <a id="19855" class="Symbol">(</a><a id="19856" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="19858" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^_</a><a id="19860" class="Symbol">)</a> <a id="19862" href="WellFormed.Properties.html#858" class="Function Operator">preserves</a> <a id="19872" href="WellFormed.CrossTree.html#7088" class="Function Operator">_≺_</a>
<a id="19876" href="WellFormed.CrossTree.html#19821" class="Function">a^-pres≺</a> <a id="19885" class="Symbol">{</a><a id="19886" href="WellFormed.CrossTree.html#19886" class="Bound">a</a><a id="19887" class="Symbol">}</a> <a id="19889" class="Symbol">{</a><a id="19890" href="WellFormed.CrossTree.html#19890" class="Bound">x</a><a id="19891" class="Symbol">}</a> <a id="19893" class="Symbol">(</a><a id="19894" href="WellFormed.CrossTree.html#1224" class="InductiveConstructor">s≼s</a> <a id="19898" class="Symbol">{</a><a id="19899" class="Argument">b</a> <a id="19901" class="Symbol">=</a> <a id="19903" href="WellFormed.CrossTree.html#19903" class="Bound">y</a><a id="19904" class="Symbol">}</a> <a id="19906" href="WellFormed.CrossTree.html#19906" class="Bound">p</a><a id="19907" class="Symbol">)</a> <a id="19909" class="Symbol">=</a> <a id="19911" href="Relation.Binary.Reasoning.Syntax.html#3008" class="Function Operator">begin-strict</a>
  <a id="19926" href="WellFormed.CrossTree.html#19886" class="Bound">a</a> <a id="19928" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="19930" href="WellFormed.CrossTree.html#19890" class="Bound">x</a>                     <a id="19952" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">&lt;⟨</a> <a id="19955" href="WellFormed.CrossTree.html#15537" class="Function">*a-infl≺</a> <a id="19964" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">⟩</a>
  <a id="19968" href="WellFormed.CrossTree.html#19886" class="Bound">a</a> <a id="19970" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="19972" href="WellFormed.CrossTree.html#19890" class="Bound">x</a> <a id="19974" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="19976" href="WellFormed.CrossTree.html#19886" class="Bound">a</a>                 <a id="19994" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="19997" href="WellFormed.CrossTree.html#17356" class="Function">*a-pres≼</a> <a id="20006" class="Symbol">(</a><a id="20007" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="20016" href="WellFormed.CrossTree.html#19906" class="Bound">p</a><a id="20017" class="Symbol">)</a> <a id="20019" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="20023" href="WellFormed.CrossTree.html#19886" class="Bound">a</a> <a id="20025" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="20027" href="WellFormed.CrossTree.html#19903" class="Bound">y</a> <a id="20029" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="20031" href="WellFormed.CrossTree.html#19886" class="Bound">a</a>                 <a id="20049" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="20051" class="Keyword">where</a> <a id="20057" class="Keyword">open</a> <a id="20062" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a><a id="20080" class="Symbol">;</a> <a id="20082" class="Keyword">instance</a> <a id="20091" href="WellFormed.CrossTree.html#20091" class="Function">_</a> <a id="20093" class="Symbol">=</a> <a id="20095" href="WellFormed.Arithmetic.html#12040" class="Function">^-nz</a>
<a id="20100" href="WellFormed.CrossTree.html#19821" class="Function">a^-pres≺</a> <a id="20109" class="Symbol">{</a><a id="20110" href="WellFormed.CrossTree.html#20110" class="Bound">a</a><a id="20111" class="Symbol">}</a> <a id="20113" class="Symbol">{</a><a id="20114" href="WellFormed.CrossTree.html#20114" class="Bound">x</a><a id="20115" class="Symbol">}</a> <a id="20117" class="Symbol">(</a><a id="20118" href="WellFormed.CrossTree.html#1254" class="InductiveConstructor">≼l</a> <a id="20121" class="Symbol">{</a><a id="20122" href="WellFormed.CrossTree.html#20122" class="Bound">f</a><a id="20123" class="Symbol">}</a> <a id="20125" class="Symbol">{</a><a id="20126" href="WellFormed.CrossTree.html#20126" class="Bound">n</a><a id="20127" class="Symbol">}</a> <a id="20129" href="WellFormed.CrossTree.html#20129" class="Bound">p</a><a id="20130" class="Symbol">)</a> <a id="20132" class="Symbol">=</a> <a id="20134" href="Relation.Binary.Reasoning.Syntax.html#3008" class="Function Operator">begin-strict</a>
  <a id="20149" href="WellFormed.CrossTree.html#20110" class="Bound">a</a> <a id="20151" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="20153" href="WellFormed.CrossTree.html#20114" class="Bound">x</a>                     <a id="20175" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">&lt;⟨</a> <a id="20178" href="WellFormed.CrossTree.html#19821" class="Function">a^-pres≺</a> <a id="20187" href="WellFormed.CrossTree.html#20129" class="Bound">p</a> <a id="20189" href="Relation.Binary.Reasoning.Syntax.html#5689" class="Function">⟩</a>
  <a id="20193" href="WellFormed.CrossTree.html#20110" class="Bound">a</a> <a id="20195" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="20197" href="WellFormed.CrossTree.html#20122" class="Bound">f</a> <a id="20199" href="WellFormed.CrossTree.html#20126" class="Bound">n</a>                   <a id="20219" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="20222" href="WellFormed.CrossTree.html#2708" class="Function">f≼l</a> <a id="20226" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="20230" href="WellFormed.Properties.html#1660" class="Function">lim-</a> <a id="20235" class="Symbol">(λ</a> <a id="20238" href="WellFormed.CrossTree.html#20238" class="Bound">n</a> <a id="20240" class="Symbol">→</a> <a id="20242" href="WellFormed.CrossTree.html#20110" class="Bound">a</a> <a id="20244" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="20246" href="WellFormed.CrossTree.html#20122" class="Bound">f</a> <a id="20248" href="WellFormed.CrossTree.html#20238" class="Bound">n</a><a id="20249" class="Symbol">)</a>      <a id="20256" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="20258" class="Keyword">where</a> <a id="20264" class="Keyword">open</a> <a id="20269" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
</pre>
<p><strong>定理 2-3-51</strong> 左侧幂运算 <span class="math inline">λx,x^a</span> 保持 <span class="math inline">≼</span>.<br />
<strong>证明</strong> 这是一个跨树专有定理. 要证 <span class="math inline">x ≼ y → x^a ≼ y^a</span>, 对 <span class="math inline">a</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">a = 0</span>, 有 <span class="math inline">x^0 ≼ y^0 = 1</span>.</li>
<li>若 <span class="math inline">a = a&#39;^+</span>, 有归纳假设 <span class="math inline">x^{a&#39;} ≼ y^{a&#39;}</span>. 由推论 2-3-46 即得 <span class="math inline">x^{a&#39;} · x ≼ y^{a&#39;} · y</span>.</li>
<li>若 <span class="math inline">a = \lim(f)</span>, 有归纳假设 <span class="math inline">∀n, x^{f(n)} ≼ y^{f(n)}</span>, 两边取极限即得 <span class="math inline">x^{\lim(f)} ≼ y^{\lim(f)}</span>. ∎</li>
</ul>
<pre class="Agda"><a id="^a-pres≼"></a><a id="20600" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="20609" class="Symbol">:</a> <a id="20611" class="Symbol">(</a><a id="20612" href="WellFormed.Arithmetic.html#11923" class="Function Operator">_^</a> <a id="20615" href="WellFormed.Base.html#3967" class="Generalizable">a</a><a id="20616" class="Symbol">)</a> <a id="20618" href="WellFormed.Arithmetic.html#1474" class="Function">preserves</a> <a id="20628" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a> <a id="20632" href="WellFormed.Arithmetic.html#1474" class="Function">within</a> <a id="20639" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a>
<a id="20650" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="20659" class="Symbol">{(</a><a id="20661" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a><a id="20665" class="Symbol">)}</a> <a id="20668" class="Symbol">_</a> <a id="20670" class="Symbol">=</a> <a id="20672" href="WellFormed.CrossTree.html#2523" class="Function">≼-refl</a>
<a id="20679" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="20688" class="Symbol">{</a><a id="20689" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="20693" href="WellFormed.CrossTree.html#20693" class="Bound">a</a><a id="20694" class="Symbol">}</a> <a id="20696" href="WellFormed.CrossTree.html#20696" class="Bound">p</a> <a id="20698" class="Symbol">=</a> <a id="20700" href="WellFormed.CrossTree.html#17923" class="Function">*-pres≼</a> <a id="20708" class="Symbol">(</a><a id="20709" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="20718" href="WellFormed.CrossTree.html#20696" class="Bound">p</a><a id="20719" class="Symbol">)</a> <a id="20721" href="WellFormed.CrossTree.html#20696" class="Bound">p</a> <a id="20723" class="Keyword">where</a> <a id="20729" class="Keyword">instance</a> <a id="20738" href="WellFormed.CrossTree.html#20738" class="Function">_</a> <a id="20740" class="Symbol">=</a> <a id="20742" href="WellFormed.Arithmetic.html#12040" class="Function">^-nz</a>
<a id="20747" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="20756" class="Symbol">{</a><a id="20757" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="20761" href="WellFormed.CrossTree.html#20761" class="Bound">f</a><a id="20762" class="Symbol">}</a> <a id="20764" href="WellFormed.CrossTree.html#20764" class="Bound">p</a> <a id="20766" class="Symbol">=</a> <a id="20768" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="20772" class="Symbol">(</a><a id="20773" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="20782" href="WellFormed.CrossTree.html#20764" class="Bound">p</a><a id="20783" class="Symbol">)</a>
</pre>
<p><strong>定理 2-3-52</strong> 右侧幂运算 <span class="math inline">λx,a^x</span> 膨胀 <span class="math inline">≼</span>.<br />
<strong>证明</strong> <span class="math inline">x ≼ 2^x ≼ a^x</span>. 其中第一个 <span class="math inline">≼</span> 号由归纳法证明: 对 <span class="math inline">x</span> 归纳.</p>
<ul>
<li>若 <span class="math inline">x = 0</span>, 有 <span class="math inline">0 ≼ 2^0 = 1</span>.</li>
<li>若 <span class="math inline">x = \lim(f)</span>, 有归纳假设 <span class="math inline">∀n, f(n) ≼ 2^{f(n)}</span>, 两边取极限即得 <span class="math inline">\lim(f) ≼ 2^{\lim(f)}</span>. ∎</li>
<li>若 <span class="math inline">x = x&#39;^+</span>, 有</li>
</ul>
<p><span class="math display">
\begin{aligned}
x&#39; + 1 &amp;≼ 2^{x&#39;} + 1 \\
&amp;≼ 2^{x&#39;} + 2^{x&#39;} \\
&amp;= 2^{x&#39;} · 2 \\
&amp;= 2^{x&#39;+1}
\end{aligned}
</span></p>
<pre class="Agda"><a id="a^-infl≼"></a><a id="21135" href="WellFormed.CrossTree.html#21135" class="Function">a^-infl≼</a> <a id="21144" class="Symbol">:</a> <a id="21146" class="Symbol">⦃</a> <a id="21148" href="WellFormed.CrossTree.html#21148" class="Bound">_</a> <a id="21150" class="Symbol">:</a> <a id="21152" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="21163" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="21165" class="Symbol">⦄</a> <a id="21167" class="Symbol">→</a> <a id="21169" class="Symbol">(</a><a id="21170" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="21172" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^_</a><a id="21174" class="Symbol">)</a> <a id="21176" href="WellFormed.Arithmetic.html#897" class="Function Operator">inflates</a> <a id="21185" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">_≼_</a>
<a id="21189" href="WellFormed.CrossTree.html#21135" class="Function">a^-infl≼</a> <a id="21198" class="Symbol">{</a><a id="21199" href="WellFormed.CrossTree.html#21199" class="Bound">a</a><a id="21200" class="Symbol">}</a> <a id="21202" class="Symbol">{</a><a id="21203" href="WellFormed.CrossTree.html#21203" class="Bound">x</a><a id="21204" class="Symbol">}</a> <a id="21206" class="Symbol">=</a>          <a id="21217" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="21225" href="WellFormed.CrossTree.html#21203" class="Bound">x</a>                         <a id="21251" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="21254" href="WellFormed.CrossTree.html#21465" class="Function">aux</a> <a id="21258" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="21262" class="Symbol">(</a><a id="21263" class="Number">2</a> <a id="21265" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21267" href="WellFormed.CrossTree.html#21203" class="Bound">x</a><a id="21268" class="Symbol">)</a> <a id="21270" class="Symbol">⦃</a> <a id="21272" class="Symbol">_</a> <a id="21274" class="Symbol">⦄</a>             <a id="21288" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="21291" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="21300" class="Symbol">⦃</a> <a id="21302" class="Symbol">_</a> <a id="21304" class="Symbol">⦄</a> <a id="21306" class="Symbol">(</a><a id="21307" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="21311" href="WellFormed.Arithmetic.html#3059" class="Function">nt-elim</a><a id="21318" class="Symbol">)</a> <a id="21320" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="21324" href="WellFormed.CrossTree.html#21199" class="Bound">a</a> <a id="21326" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21328" href="WellFormed.CrossTree.html#21203" class="Bound">x</a>                     <a id="21350" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21352" class="Keyword">where</a>
  <a id="21360" class="Keyword">open</a> <a id="21365" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
  <a id="21386" class="Keyword">instance</a> <a id="21395" href="WellFormed.CrossTree.html#21395" class="Function">_</a> <a id="21397" class="Symbol">:</a> <a id="21399" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="21410" class="Number">2</a>   <a id="21414" class="Symbol">;</a> <a id="21416" class="Symbol">_</a> <a id="21418" class="Symbol">=</a> <a id="21420" class="Symbol">_</a>
  <a id="21424" class="Keyword">instance</a> <a id="21433" href="WellFormed.CrossTree.html#21433" class="Function">_</a> <a id="21435" class="Symbol">:</a> <a id="21437" href="WellFormed.Arithmetic.html#2225" class="Record">NonZero</a> <a id="21445" class="Symbol">(</a><a id="21446" class="Number">2</a> <a id="21448" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21450" href="WellFormed.Base.html#3969" class="Generalizable">b</a><a id="21451" class="Symbol">);</a> <a id="21454" class="Symbol">_</a> <a id="21456" class="Symbol">=</a> <a id="21458" href="WellFormed.Arithmetic.html#12040" class="Function">^-nz</a>
  <a id="21465" href="WellFormed.CrossTree.html#21465" class="Function">aux</a> <a id="21469" class="Symbol">:</a> <a id="21471" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="21473" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="21475" class="Number">2</a> <a id="21477" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21479" href="WellFormed.Base.html#3969" class="Generalizable">b</a>
  <a id="21483" href="WellFormed.CrossTree.html#21465" class="Function">aux</a> <a id="21487" class="Symbol">{(</a><a id="21489" href="WellFormed.Base.html#4374" class="InductiveConstructor">zero</a><a id="21493" class="Symbol">)}</a> <a id="21496" class="Symbol">=</a> <a id="21498" href="WellFormed.CrossTree.html#1210" class="InductiveConstructor">z≼</a>
  <a id="21503" href="WellFormed.CrossTree.html#21465" class="Function">aux</a> <a id="21507" class="Symbol">{</a><a id="21508" href="WellFormed.Base.html#4406" class="InductiveConstructor">lim</a> <a id="21512" href="WellFormed.CrossTree.html#21512" class="Bound">f</a><a id="21513" class="Symbol">}</a> <a id="21515" class="Symbol">=</a> <a id="21517" href="WellFormed.CrossTree.html#2016" class="Function">l≼l</a> <a id="21521" href="WellFormed.CrossTree.html#21465" class="Function">aux</a>
  <a id="21527" href="WellFormed.CrossTree.html#21465" class="Function">aux</a> <a id="21531" class="Symbol">{</a><a id="21532" href="WellFormed.Base.html#4387" class="InductiveConstructor">suc</a> <a id="21536" href="WellFormed.CrossTree.html#21536" class="Bound">b</a><a id="21537" class="Symbol">}</a> <a id="21539" class="Symbol">=</a>             <a id="21553" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="21563" href="WellFormed.CrossTree.html#21536" class="Bound">b</a> <a id="21565" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="21567" class="Number">1</a>                   <a id="21587" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="21590" href="WellFormed.CrossTree.html#13371" class="Function">+a-pres≼</a> <a id="21599" href="WellFormed.CrossTree.html#21465" class="Function">aux</a> <a id="21603" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="21609" href="WellFormed.CrossTree.html#21757" class="Function">2^b</a> <a id="21613" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="21615" class="Number">1</a>                 <a id="21633" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="21636" href="WellFormed.CrossTree.html#12436" class="Function">a+-pres≼</a> <a id="21645" class="Symbol">(</a><a id="21646" href="WellFormed.CrossTree.html#8683" class="Function">&lt;→≺</a> <a id="21650" href="WellFormed.Arithmetic.html#2476" class="Function">nz-elim</a><a id="21657" class="Symbol">)</a> <a id="21659" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="21665" href="WellFormed.CrossTree.html#21757" class="Function">2^b</a> <a id="21669" href="WellFormed.Arithmetic.html#3700" class="Function Operator">+</a> <a id="21671" href="WellFormed.CrossTree.html#21757" class="Function">2^b</a>               <a id="21689" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="21693" href="WellFormed.CrossTree.html#6147" class="Function">≡→≈</a> <a id="21697" class="Symbol">(</a><a id="21698" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21703" class="Symbol">(</a><a id="21704" href="WellFormed.Arithmetic.html#3700" class="Function Operator">_+</a> <a id="21707" href="WellFormed.CrossTree.html#21757" class="Function">2^b</a><a id="21710" class="Symbol">)</a> <a id="21712" href="WellFormed.Arithmetic.html#5044" class="Function">+a-id</a><a id="21717" class="Symbol">)</a> <a id="21719" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="21725" href="WellFormed.CrossTree.html#21757" class="Function">2^b</a> <a id="21729" href="WellFormed.Arithmetic.html#6653" class="Function Operator">*</a> <a id="21731" class="Number">2</a>                 <a id="21749" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21751" class="Keyword">where</a> <a id="21757" href="WellFormed.CrossTree.html#21757" class="Function">2^b</a> <a id="21761" class="Symbol">=</a> <a id="21763" class="Number">2</a> <a id="21765" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21767" href="WellFormed.CrossTree.html#21536" class="Bound">b</a>
</pre>
<p><strong>推论 2-3-53</strong> 右侧幂运算 <span class="math inline">λx,a^x</span> 保持 <span class="math inline">≺</span>.<br />
<strong>证明</strong> 与推论 2-3-46 同理. ∎</p>
<pre class="Agda"><a id="^-pres≼"></a><a id="21846" href="WellFormed.CrossTree.html#21846" class="Function">^-pres≼</a> <a id="21854" class="Symbol">:</a> <a id="21856" class="Symbol">⦃</a> <a id="21858" href="WellFormed.CrossTree.html#21858" class="Bound">_</a> <a id="21860" class="Symbol">:</a> <a id="21862" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="21873" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="21875" class="Symbol">⦄</a> <a id="21877" class="Symbol">⦃</a> <a id="21879" href="WellFormed.CrossTree.html#21879" class="Bound">_</a> <a id="21881" class="Symbol">:</a> <a id="21883" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="21894" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="21896" class="Symbol">⦄</a> <a id="21898" class="Symbol">→</a> <a id="21900" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="21902" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="21904" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="21906" class="Symbol">→</a> <a id="21908" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="21910" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="21912" href="WellFormed.Base.html#3973" class="Generalizable">d</a> <a id="21914" class="Symbol">→</a> <a id="21916" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="21918" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21920" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="21922" href="WellFormed.CrossTree.html#1179" class="Datatype Operator">≼</a> <a id="21924" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="21926" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21928" href="WellFormed.Base.html#3973" class="Generalizable">d</a>
<a id="21930" href="WellFormed.CrossTree.html#21846" class="Function">^-pres≼</a> <a id="21938" class="Symbol">{</a><a id="21939" href="WellFormed.CrossTree.html#21939" class="Bound">a</a><a id="21940" class="Symbol">}</a> <a id="21942" class="Symbol">{</a><a id="21943" href="WellFormed.CrossTree.html#21943" class="Bound">b</a><a id="21944" class="Symbol">}</a> <a id="21946" class="Symbol">{</a><a id="21947" href="WellFormed.CrossTree.html#21947" class="Bound">c</a><a id="21948" class="Symbol">}</a> <a id="21950" class="Symbol">{</a><a id="21951" href="WellFormed.CrossTree.html#21951" class="Bound">d</a><a id="21952" class="Symbol">}</a> <a id="21954" href="WellFormed.CrossTree.html#21954" class="Bound">p</a> <a id="21956" href="WellFormed.CrossTree.html#21956" class="Bound">q</a> <a id="21958" class="Symbol">=</a> <a id="21960" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="21968" href="WellFormed.CrossTree.html#21939" class="Bound">a</a> <a id="21970" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="21972" href="WellFormed.CrossTree.html#21947" class="Bound">c</a>                     <a id="21994" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="21997" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="22006" href="WellFormed.CrossTree.html#21956" class="Bound">q</a> <a id="22008" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="22012" href="WellFormed.CrossTree.html#21939" class="Bound">a</a> <a id="22014" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="22016" href="WellFormed.CrossTree.html#21951" class="Bound">d</a>                     <a id="22038" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="22041" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="22050" href="WellFormed.CrossTree.html#21954" class="Bound">p</a> <a id="22052" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="22056" href="WellFormed.CrossTree.html#21943" class="Bound">b</a> <a id="22058" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="22060" href="WellFormed.CrossTree.html#21951" class="Bound">d</a>                     <a id="22082" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="22084" class="Keyword">where</a> <a id="22090" class="Keyword">open</a> <a id="22095" href="WellFormed.CrossTree.html#10867" class="Module">CrossTreeReasoning</a>
</pre>
<p><strong>推论 2-3-54</strong> 左右两侧幂运算都尊重 <span class="math inline">≈</span>: - <span class="math inline">b ≈ c → a ^ b ≈ a ^ c</span>. - <span class="math inline">b ≈ c → b ^ a ≈ c ^ a</span>.</p>
<p><strong>证明</strong> 由定理 2-3-49 和定理 2-3-51 即得. ∎</p>
<pre class="Agda"><a id="a^-cong≈"></a><a id="22248" href="WellFormed.CrossTree.html#22248" class="Function">a^-cong≈</a> <a id="22257" class="Symbol">:</a> <a id="22259" class="Symbol">⦃</a> <a id="22261" href="WellFormed.CrossTree.html#22261" class="Bound">_</a> <a id="22263" class="Symbol">:</a> <a id="22265" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="22276" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="22278" class="Symbol">⦄</a> <a id="22280" class="Symbol">→</a> <a id="22282" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="22284" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="22286" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="22288" class="Symbol">→</a> <a id="22290" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="22292" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="22294" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="22296" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="22298" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="22300" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="22302" href="WellFormed.Base.html#3971" class="Generalizable">c</a>
<a id="22304" href="WellFormed.CrossTree.html#22248" class="Function">a^-cong≈</a> <a id="22313" class="Symbol">(</a><a id="22314" href="WellFormed.CrossTree.html#22314" class="Bound">p</a> <a id="22316" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22318" href="WellFormed.CrossTree.html#22318" class="Bound">q</a><a id="22319" class="Symbol">)</a> <a id="22321" class="Symbol">=</a> <a id="22323" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="22332" href="WellFormed.CrossTree.html#22314" class="Bound">p</a> <a id="22334" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22336" href="WellFormed.CrossTree.html#19248" class="Function">a^-pres≼</a> <a id="22345" href="WellFormed.CrossTree.html#22318" class="Bound">q</a>

<a id="^a-cong≈"></a><a id="22348" href="WellFormed.CrossTree.html#22348" class="Function">^a-cong≈</a> <a id="22357" class="Symbol">:</a> <a id="22359" class="Symbol">⦃</a> <a id="22361" href="WellFormed.CrossTree.html#22361" class="Bound">_</a> <a id="22363" class="Symbol">:</a> <a id="22365" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="22376" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="22378" class="Symbol">⦄</a> <a id="22380" class="Symbol">⦃</a> <a id="22382" href="WellFormed.CrossTree.html#22382" class="Bound">_</a> <a id="22384" class="Symbol">:</a> <a id="22386" href="WellFormed.Arithmetic.html#2716" class="Record">NonTrivial</a> <a id="22397" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="22399" class="Symbol">⦄</a> <a id="22401" class="Symbol">→</a> <a id="22403" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="22405" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="22407" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="22409" class="Symbol">→</a> <a id="22411" href="WellFormed.Base.html#3969" class="Generalizable">b</a> <a id="22413" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="22415" href="WellFormed.Base.html#3967" class="Generalizable">a</a> <a id="22417" href="WellFormed.CrossTree.html#5671" class="Function Operator">≈</a> <a id="22419" href="WellFormed.Base.html#3971" class="Generalizable">c</a> <a id="22421" href="WellFormed.Arithmetic.html#11923" class="Function Operator">^</a> <a id="22423" href="WellFormed.Base.html#3967" class="Generalizable">a</a>
<a id="22425" href="WellFormed.CrossTree.html#22348" class="Function">^a-cong≈</a> <a id="22434" class="Symbol">(</a><a id="22435" href="WellFormed.CrossTree.html#22435" class="Bound">p</a> <a id="22437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22439" href="WellFormed.CrossTree.html#22439" class="Bound">q</a><a id="22440" class="Symbol">)</a> <a id="22442" class="Symbol">=</a> <a id="22444" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="22453" href="WellFormed.CrossTree.html#22435" class="Bound">p</a> <a id="22455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22457" href="WellFormed.CrossTree.html#20600" class="Function">^a-pres≼</a> <a id="22466" href="WellFormed.CrossTree.html#22439" class="Bound">q</a>
</pre>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
