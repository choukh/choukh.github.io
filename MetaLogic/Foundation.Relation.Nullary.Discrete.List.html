<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Foundation.Relation.Nullary.Discrete.List</title>
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/skylighting-solarized-theme.css" />
  <script type="text/javascript" src="highlight-hover.js"></script>
</head>
<body>

<header>
<h1 class="title"></h1>
<blockquote class="metadata">
</blockquote>
</header>

<nav id="TOC" role="doc-toc">
    <strong>Contents</strong><label for="contents">⊕</label>
  <input type="checkbox" id="contents">
  <ul>
  <li><a href="#元语言-离散性-列表" id="toc-元语言-离散性-列表">元语言 ▸ 离散性 ▸ 列表</a>
  <ul>
  <li><a href="#逆索引" id="toc-逆索引">逆索引</a></li>
  <li><a href="#元素的移除" id="toc-元素的移除">元素的移除</a></li>
  </ul></li>
  </ul>
</nav>

<main>
<h1 id="元语言-离散性-列表">元语言 ▸ 离散性 ▸ 列表</h1>
<p>由离散集合的元素组成的列表, 简称离散列表, 具有一些特殊性质, 我们把它们收集到本章.</p>
<pre class="Agda"><a id="112" class="Keyword">open</a> <a id="117" class="Keyword">import</a> <a id="124" href="Foundation.Prelude.html" class="Module">Foundation.Prelude</a>
<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="Foundation.Relation.Nullary.Discrete.Base.html" class="Module">Foundation.Relation.Nullary.Discrete.Base</a>
<a id="197" class="Keyword">module</a> <a id="204" href="Foundation.Relation.Nullary.Discrete.List.html" class="Module">Foundation.Relation.Nullary.Discrete.List</a> <a id="246" class="Symbol">⦃</a> <a id="248" href="Foundation.Relation.Nullary.Discrete.List.html#248" class="Bound">dA</a> <a id="251" class="Symbol">:</a> <a id="253" href="Foundation.Relation.Nullary.Discrete.Base.html#669" class="Function">discrete</a> <a id="262" href="Foundation.Prelude.Builtin.html#926" class="Generalizable">A</a> <a id="264" class="Symbol">⦄</a> <a id="266" class="Keyword">where</a>
</pre>
<p>我们需要以下模块的相关内容:</p>
<ul>
<li><code>Empty</code> 模块: 归谬法 <code>exfalso</code></li>
<li><code>Bool</code> 模块: if赋值句 <code>if_then_else_ : Bool → A → A → A</code></li>
<li><code>Decidable</code> 模块: 判定结果的布尔值提取函数 <code>does : Dec A → Bool</code></li>
</ul>
<pre class="Agda"><a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Foundation.Data.Empty.html" class="Module">Foundation.Data.Empty</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Foundation.Data.Bool.html" class="Module">Foundation.Data.Bool</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Foundation.Data.Maybe.html" class="Module">Foundation.Data.Maybe</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Foundation.Data.Sigma.html" class="Module">Foundation.Data.Sigma</a>
<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Foundation.Data.List.html" class="Module">Foundation.Data.List</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Foundation.Data.List.SetTheoretic.html" class="Module">Foundation.Data.List.SetTheoretic</a>
<a id="651" class="Keyword">open</a> <a id="656" class="Keyword">import</a> <a id="663" href="Foundation.Relation.Nullary.Decidable.html" class="Module">Foundation.Relation.Nullary.Decidable</a>
</pre>
<p>我们使用以下隐式参数</p>
<pre class="Agda"><a id="726" class="Keyword">private</a> <a id="734" class="Keyword">variable</a>
  <a id="745" href="Foundation.Relation.Nullary.Discrete.List.html#745" class="Generalizable">n</a> <a id="747" class="Symbol">:</a> <a id="749" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="753" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="755" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a> <a id="757" class="Symbol">:</a> <a id="759" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a>
  <a id="763" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="766" class="Symbol">:</a> <a id="768" href="Agda.Builtin.List.html#147" class="Datatype">𝕃</a> <a id="770" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a>
</pre>
<h2 id="逆索引">逆索引</h2>
<p><strong><u>算法</u></strong> 列表 <code>xs</code> 中指定元素 <code>x</code> 的索引, 记作 <code>xs [ x ]⁻¹?</code>, 计算如下</p>
<ul>
<li>当列表为空时, 返回 <code>none</code>, 即列表中不存在 <code>x</code>.</li>
<li>当列表为 <code>y ∷ xs</code> 时, 判定 <code>x ≟ y</code> (由于我们讨论的是离散列表, 所以这一步是可行的).
<ul>
<li>若相等 (<code>x</code> 在列表头部), 则返回 <code>0</code>.</li>
<li>若不相等 (<code>x</code> 可能在列表尾部), 则递归地在 <code>xs</code> 中寻找 <code>x</code> 的索引, 并将结果加一. ∎</li>
</ul></li>
</ul>
<pre class="Agda"><a id="_[_]⁻¹?"></a><a id="1034" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">_[_]⁻¹?</a> <a id="1042" class="Symbol">:</a> <a id="1044" href="Agda.Builtin.List.html#147" class="Datatype">𝕃</a> <a id="1046" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a> <a id="1048" class="Symbol">→</a> <a id="1050" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a> <a id="1052" class="Symbol">→</a> <a id="1054" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1056" href="Foundation.Prelude.Builtin.html#504" class="Datatype Operator">？</a>
<a id="1058" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1061" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="1063" href="Foundation.Relation.Nullary.Discrete.List.html#1063" class="Bound">x</a> <a id="1065" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a> <a id="1070" class="Symbol">=</a> <a id="1072" href="Foundation.Prelude.Builtin.html#519" class="InductiveConstructor">none</a>
<a id="1077" class="Symbol">(</a><a id="1078" href="Foundation.Relation.Nullary.Discrete.List.html#1078" class="Bound">y</a> <a id="1080" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1082" href="Foundation.Relation.Nullary.Discrete.List.html#1082" class="Bound">xs</a><a id="1084" class="Symbol">)</a> <a id="1086" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="1088" href="Foundation.Relation.Nullary.Discrete.List.html#1088" class="Bound">x</a> <a id="1090" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a> <a id="1095" class="Symbol">=</a> <a id="1097" href="Data.Bool.Base.html#1292" class="Function Operator">if</a> <a id="1100" href="Relation.Nullary.Decidable.Core.html#1544" class="Field">does</a> <a id="1105" class="Symbol">(</a><a id="1106" href="Foundation.Relation.Nullary.Discrete.List.html#1088" class="Bound">x</a> <a id="1108" href="Foundation.Relation.Nullary.Discrete.Base.html#999" class="Function Operator">≟</a> <a id="1110" href="Foundation.Relation.Nullary.Discrete.List.html#1078" class="Bound">y</a><a id="1111" class="Symbol">)</a> <a id="1113" href="Data.Bool.Base.html#1292" class="Function Operator">then</a> <a id="1118" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="1123" class="Number">0</a> <a id="1125" href="Data.Bool.Base.html#1292" class="Function Operator">else</a> <a id="1130" href="Foundation.Relation.Nullary.Discrete.List.html#1142" class="Function">rec</a> <a id="1134" class="Keyword">where</a>
  <a id="1142" href="Foundation.Relation.Nullary.Discrete.List.html#1142" class="Function">rec</a> <a id="1146" class="Symbol">:</a> <a id="1148" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1150" href="Foundation.Prelude.Builtin.html#504" class="Datatype Operator">？</a>
  <a id="1154" href="Foundation.Relation.Nullary.Discrete.List.html#1142" class="Function">rec</a> <a id="1158" class="Keyword">with</a> <a id="1163" href="Foundation.Relation.Nullary.Discrete.List.html#1082" class="Bound">xs</a> <a id="1166" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="1168" href="Foundation.Relation.Nullary.Discrete.List.html#1088" class="Bound">x</a> <a id="1170" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a>
  <a id="1177" href="Foundation.Relation.Nullary.Discrete.List.html#1142" class="Function">...</a> <a id="1181" class="Symbol">|</a> <a id="1183" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="1188" href="Foundation.Relation.Nullary.Discrete.List.html#1188" class="Bound">n</a> <a id="1190" class="Symbol">=</a> <a id="1192" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="1197" class="Symbol">(</a><a id="1198" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1202" href="Foundation.Relation.Nullary.Discrete.List.html#1188" class="Bound">n</a><a id="1203" class="Symbol">)</a>
  <a id="1207" href="Foundation.Relation.Nullary.Discrete.List.html#1142" class="Function">...</a> <a id="1211" class="Symbol">|</a> <a id="1213" href="Foundation.Prelude.Builtin.html#519" class="InductiveConstructor">none</a> <a id="1218" class="Symbol">=</a> <a id="1220" href="Foundation.Prelude.Builtin.html#519" class="InductiveConstructor">none</a>
</pre>
<p><strong><u>引理</u></strong> 给出 <code>x ∈ xs</code> 的证据, 则 <code>xs [ x ]⁻¹?</code> 可以取到 (<code>some</code> 形式的) 值, 计算如下</p>
<ul>
<li>若 <code>x</code> 在 <code>xs</code> 的头部, 则其索引为 <code>0</code>.</li>
<li>否则 <code>x</code> 必在 <code>xs</code> 的尾部, 将该证据递归地输入到本算法中, 可知 <code>x</code> 在尾部必有索引 <code>n</code>, 所以 <code>x</code> 在 <code>xs</code> 中必有索引 <code>suc n</code>. ∎</li>
</ul>
<pre class="Agda"><a id="some[]⁻¹-intro"></a><a id="1433" href="Foundation.Relation.Nullary.Discrete.List.html#1433" class="Function">some[]⁻¹-intro</a> <a id="1448" class="Symbol">:</a> <a id="1450" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="1452" href="Data.List.Membership.Setoid.html#943" class="Function Operator">∈</a> <a id="1454" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="1457" class="Symbol">→</a> <a id="1459" href="Foundation.Prelude.Builtin.html#1069" class="Function">Σ</a> <a id="1461" href="Foundation.Relation.Nullary.Discrete.List.html#1461" class="Bound">n</a> <a id="1463" href="Foundation.Prelude.Builtin.html#1069" class="Function">，</a> <a id="1465" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="1468" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="1470" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="1472" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a> <a id="1477" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1479" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="1484" href="Foundation.Relation.Nullary.Discrete.List.html#1461" class="Bound">n</a>
<a id="1486" href="Foundation.Relation.Nullary.Discrete.List.html#1433" class="Function">some[]⁻¹-intro</a> <a id="1501" class="Symbol">{</a><a id="1502" href="Foundation.Relation.Nullary.Discrete.List.html#1502" class="Bound">x</a><a id="1503" class="Symbol">}</a> <a id="1505" class="Symbol">{</a><a id="1506" href="Foundation.Relation.Nullary.Discrete.List.html#1506" class="Bound">y</a> <a id="1508" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1510" href="Foundation.Relation.Nullary.Discrete.List.html#1510" class="Bound">xs</a><a id="1512" class="Symbol">}</a> <a id="1514" class="Symbol">_</a> <a id="1516" class="Keyword">with</a> <a id="1521" href="Foundation.Relation.Nullary.Discrete.List.html#1502" class="Bound">x</a> <a id="1523" href="Foundation.Relation.Nullary.Discrete.Base.html#999" class="Function Operator">≟</a> <a id="1525" href="Foundation.Relation.Nullary.Discrete.List.html#1506" class="Bound">y</a>
<a id="1527" class="Symbol">...</a>                           <a id="1557" class="Symbol">|</a> <a id="1559" href="Relation.Nullary.Decidable.Core.html#1611" class="InductiveConstructor">yes</a> <a id="1563" class="Symbol">_</a> <a id="1565" class="Symbol">=</a> <a id="1567" class="Number">0</a> <a id="1569" href="Foundation.Prelude.Builtin.html#870" class="InductiveConstructor Operator">,</a> <a id="1571" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="1576" href="Foundation.Relation.Nullary.Discrete.List.html#1433" class="Function">some[]⁻¹-intro</a> <a id="1591" class="Symbol">(</a><a id="1592" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="1597" href="Foundation.Relation.Nullary.Discrete.List.html#1597" class="Bound">p</a><a id="1598" class="Symbol">)</a>       <a id="1606" class="Symbol">|</a> <a id="1608" href="Relation.Nullary.Decidable.Core.html#1648" class="InductiveConstructor">no</a> <a id="1611" href="Foundation.Relation.Nullary.Discrete.List.html#1611" class="Bound">¬p</a> <a id="1614" class="Symbol">=</a> <a id="1616" href="Foundation.Data.Empty.html#133" class="Function">exfalso</a> <a id="1624" class="Symbol">(</a><a id="1625" href="Foundation.Relation.Nullary.Discrete.List.html#1611" class="Bound">¬p</a> <a id="1628" href="Foundation.Relation.Nullary.Discrete.List.html#1597" class="Bound">p</a><a id="1629" class="Symbol">)</a>
<a id="1631" href="Foundation.Relation.Nullary.Discrete.List.html#1433" class="Function">some[]⁻¹-intro</a> <a id="1646" class="Symbol">(</a><a id="1647" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="1653" href="Foundation.Relation.Nullary.Discrete.List.html#1653" class="Bound">x∈</a><a id="1655" class="Symbol">)</a>     <a id="1661" class="Symbol">|</a> <a id="1663" href="Relation.Nullary.Decidable.Core.html#1648" class="InductiveConstructor">no</a> <a id="1666" class="Symbol">_</a> <a id="1668" class="Keyword">with</a> <a id="1673" href="Foundation.Relation.Nullary.Discrete.List.html#1433" class="Function">some[]⁻¹-intro</a> <a id="1688" href="Foundation.Relation.Nullary.Discrete.List.html#1653" class="Bound">x∈</a>
<a id="1691" class="Symbol">...</a> <a id="1695" class="Symbol">|</a> <a id="1697" href="Foundation.Relation.Nullary.Discrete.List.html#1697" class="Bound">n</a> <a id="1699" href="Foundation.Prelude.Builtin.html#870" class="InductiveConstructor Operator">,</a> <a id="1701" href="Foundation.Relation.Nullary.Discrete.List.html#1701" class="Bound">H</a> <a id="1703" class="Keyword">rewrite</a> <a id="1711" href="Foundation.Relation.Nullary.Discrete.List.html#1701" class="Bound">H</a> <a id="1713" class="Symbol">=</a> <a id="1715" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1719" href="Foundation.Relation.Nullary.Discrete.List.html#1697" class="Bound">n</a> <a id="1721" href="Foundation.Prelude.Builtin.html#870" class="InductiveConstructor Operator">,</a> <a id="1723" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre>
<p><strong><u>引理</u></strong> 如果 <code>xs [ x ]⁻¹?</code> 可以取到 (<code>some</code> 形式的) 值, 那么 <code>x ∈ xs</code>. 对 <code>xs</code> 的长度归纳.</p>
<ul>
<li><code>xs</code> 不可能为空.</li>
<li>当 <code>xs</code> 为 <code>y ∷ xs</code> 时, 判定 <code>x ≟ y</code>.
<ul>
<li>若相等, 则 <code>x</code> 在 <code>y ∷ xs</code> 的头部.</li>
<li>若不相等, 此时有 <code>xs [ x ]⁻¹? ≡ some n</code>, 所以 <code>x</code> 在 <code>y ∷ xs</code> 的尾部. ∎</li>
</ul></li>
</ul>
<pre class="Agda"><a id="some[]⁻¹-elim"></a><a id="1965" href="Foundation.Relation.Nullary.Discrete.List.html#1965" class="Function">some[]⁻¹-elim</a> <a id="1979" class="Symbol">:</a> <a id="1981" class="Symbol">∀</a> <a id="1983" href="Foundation.Relation.Nullary.Discrete.List.html#1983" class="Bound">n</a> <a id="1985" class="Symbol">→</a> <a id="1987" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="1990" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="1992" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="1994" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a> <a id="1999" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2001" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="2006" href="Foundation.Relation.Nullary.Discrete.List.html#1983" class="Bound">n</a> <a id="2008" class="Symbol">→</a> <a id="2010" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2012" href="Data.List.Membership.Setoid.html#943" class="Function Operator">∈</a> <a id="2014" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a>
<a id="2017" href="Foundation.Relation.Nullary.Discrete.List.html#1965" class="Function">some[]⁻¹-elim</a> <a id="2031" class="Symbol">{</a><a id="2032" href="Foundation.Relation.Nullary.Discrete.List.html#2032" class="Bound">y</a> <a id="2034" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2036" href="Foundation.Relation.Nullary.Discrete.List.html#2036" class="Bound">xs</a><a id="2038" class="Symbol">}</a> <a id="2040" class="Symbol">{</a><a id="2041" href="Foundation.Relation.Nullary.Discrete.List.html#2041" class="Bound">x</a><a id="2042" class="Symbol">}</a> <a id="2044" href="Foundation.Relation.Nullary.Discrete.List.html#2044" class="Bound">n</a> <a id="2046" href="Foundation.Relation.Nullary.Discrete.List.html#2046" class="Bound">H</a> <a id="2048" class="Keyword">with</a> <a id="2053" href="Foundation.Relation.Nullary.Discrete.List.html#2041" class="Bound">x</a> <a id="2055" href="Foundation.Relation.Nullary.Discrete.Base.html#999" class="Function Operator">≟</a> <a id="2057" href="Foundation.Relation.Nullary.Discrete.List.html#2032" class="Bound">y</a> <a id="2059" class="Symbol">|</a> <a id="2061" href="Foundation.Relation.Nullary.Discrete.List.html#2036" class="Bound">xs</a> <a id="2064" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="2066" href="Foundation.Relation.Nullary.Discrete.List.html#2041" class="Bound">x</a> <a id="2068" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a> <a id="2073" class="Keyword">in</a> <a id="2076" class="Argument">eq</a>
<a id="2079" class="Symbol">...</a> <a id="2083" class="Symbol">|</a> <a id="2085" href="Relation.Nullary.Decidable.Core.html#1611" class="InductiveConstructor">yes</a> <a id="2089" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2094" class="Symbol">|</a> <a id="2096" class="Symbol">_</a>      <a id="2103" class="Symbol">=</a> <a id="2105" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="2110" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2115" class="Symbol">...</a> <a id="2119" class="Symbol">|</a> <a id="2121" href="Relation.Nullary.Decidable.Core.html#1648" class="InductiveConstructor">no</a> <a id="2124" href="Foundation.Relation.Nullary.Discrete.List.html#2124" class="Bound">¬p</a>    <a id="2130" class="Symbol">|</a> <a id="2132" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="2137" class="Symbol">_</a> <a id="2139" class="Symbol">=</a> <a id="2141" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="2147" class="Symbol">(</a><a id="2148" href="Foundation.Relation.Nullary.Discrete.List.html#1965" class="Function">some[]⁻¹-elim</a> <a id="2162" class="Symbol">_</a> <a id="2164" href="Foundation.Relation.Nullary.Discrete.List.html#2076" class="Bound">eq</a><a id="2166" class="Symbol">)</a>
</pre>
<p><strong><u>引理</u></strong> 如果 <code>xs [ x ]⁻¹?</code> 可以算出为 <code>n</code>, 则 <code>xs [ n ]?</code> 可以算出为 <code>x</code>.<br />
<strong><u>证明</u></strong> 计算即得. ∎</p>
<pre class="Agda"><a id="some[]⁻¹→some[]"></a><a id="2273" href="Foundation.Relation.Nullary.Discrete.List.html#2273" class="Function">some[]⁻¹→some[]</a> <a id="2289" class="Symbol">:</a> <a id="2291" class="Symbol">(</a><a id="2292" href="Foundation.Relation.Nullary.Discrete.List.html#2292" class="Bound">xs</a> <a id="2295" class="Symbol">:</a> <a id="2297" href="Agda.Builtin.List.html#147" class="Datatype">𝕃</a> <a id="2299" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a><a id="2300" class="Symbol">)</a> <a id="2302" class="Symbol">→</a> <a id="2304" href="Foundation.Relation.Nullary.Discrete.List.html#2292" class="Bound">xs</a> <a id="2307" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="2309" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2311" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a> <a id="2316" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2318" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="2323" href="Foundation.Relation.Nullary.Discrete.List.html#745" class="Generalizable">n</a> <a id="2325" class="Symbol">→</a> <a id="2327" href="Foundation.Relation.Nullary.Discrete.List.html#2292" class="Bound">xs</a> <a id="2330" href="Foundation.Data.List.html#684" class="Function Operator">[</a> <a id="2332" href="Foundation.Relation.Nullary.Discrete.List.html#745" class="Generalizable">n</a> <a id="2334" href="Foundation.Data.List.html#684" class="Function Operator">]?</a> <a id="2337" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2339" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="2344" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a>
<a id="2346" href="Foundation.Relation.Nullary.Discrete.List.html#2273" class="Function">some[]⁻¹→some[]</a> <a id="2362" class="Symbol">{</a><a id="2363" href="Foundation.Relation.Nullary.Discrete.List.html#2363" class="Bound">x</a><a id="2364" class="Symbol">}</a> <a id="2366" class="Symbol">(</a><a id="2367" href="Foundation.Relation.Nullary.Discrete.List.html#2367" class="Bound">y</a> <a id="2369" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2371" href="Foundation.Relation.Nullary.Discrete.List.html#2371" class="Bound">xs</a><a id="2373" class="Symbol">)</a> <a id="2375" href="Foundation.Relation.Nullary.Discrete.List.html#2375" class="Bound">H</a> <a id="2377" class="Keyword">with</a> <a id="2382" href="Foundation.Relation.Nullary.Discrete.List.html#2363" class="Bound">x</a> <a id="2384" href="Foundation.Relation.Nullary.Discrete.Base.html#999" class="Function Operator">≟</a> <a id="2386" href="Foundation.Relation.Nullary.Discrete.List.html#2367" class="Bound">y</a> <a id="2388" class="Symbol">|</a> <a id="2390" href="Foundation.Relation.Nullary.Discrete.List.html#2371" class="Bound">xs</a> <a id="2393" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">[</a> <a id="2395" href="Foundation.Relation.Nullary.Discrete.List.html#2363" class="Bound">x</a> <a id="2397" href="Foundation.Relation.Nullary.Discrete.List.html#1034" class="Function Operator">]⁻¹?</a> <a id="2402" class="Keyword">in</a> <a id="2405" class="Argument">eq</a>
<a id="2408" href="Foundation.Relation.Nullary.Discrete.List.html#2273" class="Function">some[]⁻¹→some[]</a> <a id="2424" class="Symbol">_</a>        <a id="2433" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>  <a id="2439" class="Symbol">|</a> <a id="2441" href="Relation.Nullary.Decidable.Core.html#1611" class="InductiveConstructor">yes</a> <a id="2445" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2450" class="Symbol">|</a> <a id="2452" class="Symbol">_</a>      <a id="2459" class="Symbol">=</a> <a id="2461" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2466" href="Foundation.Relation.Nullary.Discrete.List.html#2273" class="Function">some[]⁻¹→some[]</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Foundation.Relation.Nullary.Discrete.List.html#2483" class="Bound">y</a> <a id="2485" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2487" href="Foundation.Relation.Nullary.Discrete.List.html#2487" class="Bound">xs</a><a id="2489" class="Symbol">)</a> <a id="2491" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>  <a id="2497" class="Symbol">|</a> <a id="2499" href="Relation.Nullary.Decidable.Core.html#1648" class="InductiveConstructor">no</a> <a id="2502" class="Symbol">_</a>     <a id="2508" class="Symbol">|</a> <a id="2510" href="Foundation.Prelude.Builtin.html#533" class="InductiveConstructor">some</a> <a id="2515" class="Symbol">_</a> <a id="2517" class="Symbol">=</a> <a id="2519" href="Foundation.Relation.Nullary.Discrete.List.html#2273" class="Function">some[]⁻¹→some[]</a> <a id="2535" href="Foundation.Relation.Nullary.Discrete.List.html#2487" class="Bound">xs</a> <a id="2538" href="Foundation.Relation.Nullary.Discrete.List.html#2405" class="Bound">eq</a>
</pre>
<h2 id="元素的移除">元素的移除</h2>
<p><strong><u>定义</u></strong> 将列表中 <code>xs</code> 中与 <code>x</code> 相等的元素全部去掉, 所得到的集合叫做 <code>xs</code> 移除 <code>x</code>, 记作 <code>xs ∖[ x ]</code>.</p>
<pre class="Agda"><a id="2641" class="Keyword">infix</a> <a id="2647" class="Number">30</a> <a id="2650" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">_∖[_]</a>
<a id="_∖[_]"></a><a id="2656" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">_∖[_]</a> <a id="2662" class="Symbol">:</a> <a id="2664" href="Agda.Builtin.List.html#147" class="Datatype">𝕃</a> <a id="2666" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a> <a id="2668" class="Symbol">→</a> <a id="2670" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a> <a id="2672" class="Symbol">→</a> <a id="2674" href="Agda.Builtin.List.html#147" class="Datatype">𝕃</a> <a id="2676" href="Foundation.Relation.Nullary.Discrete.List.html#262" class="Bound">A</a>
<a id="2678" href="Foundation.Relation.Nullary.Discrete.List.html#2678" class="Bound">xs</a> <a id="2681" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">∖[</a> <a id="2684" href="Foundation.Relation.Nullary.Discrete.List.html#2684" class="Bound">x</a> <a id="2686" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">]</a> <a id="2688" class="Symbol">=</a> <a id="2690" href="Data.List.Base.html#12687" class="Function">filter</a> <a id="2697" class="Symbol">{</a><a id="2698" class="Argument">P</a> <a id="2700" class="Symbol">=</a> <a id="2702" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">_≢</a> <a id="2705" href="Foundation.Relation.Nullary.Discrete.List.html#2684" class="Bound">x</a><a id="2706" class="Symbol">}</a> <a id="2708" class="Symbol">(λ</a> <a id="2711" href="Foundation.Relation.Nullary.Discrete.List.html#2711" class="Bound">_</a> <a id="2713" class="Symbol">→</a> <a id="2715" href="Relation.Nullary.Decidable.Core.html#2458" class="Function">¬?</a> <a id="2718" href="Function.Base.html#4724" class="Function">it</a><a id="2720" class="Symbol">)</a> <a id="2722" href="Foundation.Relation.Nullary.Discrete.List.html#2678" class="Bound">xs</a>
</pre>
<p><strong><u>引理</u></strong> 移除的引入和消去.</p>
<pre class="Agda"><a id="∈∖[]-intro"></a><a id="2763" href="Foundation.Relation.Nullary.Discrete.List.html#2763" class="Function">∈∖[]-intro</a> <a id="2774" class="Symbol">:</a> <a id="2776" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2778" href="Data.List.Membership.Setoid.html#943" class="Function Operator">∈</a> <a id="2780" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="2783" class="Symbol">→</a> <a id="2785" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2787" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2789" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a> <a id="2791" class="Symbol">→</a> <a id="2793" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2795" href="Data.List.Membership.Setoid.html#943" class="Function Operator">∈</a> <a id="2797" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="2800" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">∖[</a> <a id="2803" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a> <a id="2805" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">]</a>
<a id="2807" href="Foundation.Relation.Nullary.Discrete.List.html#2763" class="Function">∈∖[]-intro</a> <a id="2818" class="Symbol">=</a> <a id="2820" href="Foundation.Data.List.SetTheoretic.html#694" class="Function">∈filter-intro</a> <a id="2834" class="Symbol">(λ</a> <a id="2837" href="Foundation.Relation.Nullary.Discrete.List.html#2837" class="Bound">_</a> <a id="2839" class="Symbol">→</a> <a id="2841" href="Relation.Nullary.Decidable.Core.html#2458" class="Function">¬?</a> <a id="2844" href="Function.Base.html#4724" class="Function">it</a><a id="2846" class="Symbol">)</a>

<a id="∈∖[]-elim"></a><a id="2849" href="Foundation.Relation.Nullary.Discrete.List.html#2849" class="Function">∈∖[]-elim</a> <a id="2859" class="Symbol">:</a> <a id="2861" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2863" href="Data.List.Membership.Setoid.html#943" class="Function Operator">∈</a> <a id="2865" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="2868" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">∖[</a> <a id="2871" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a> <a id="2873" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">]</a> <a id="2875" class="Symbol">→</a> <a id="2877" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2879" href="Data.List.Membership.Setoid.html#943" class="Function Operator">∈</a> <a id="2881" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="2884" href="Foundation.Data.Sigma.html#154" class="Function Operator">×</a> <a id="2886" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2888" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="2890" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a>
<a id="2892" href="Foundation.Relation.Nullary.Discrete.List.html#2849" class="Function">∈∖[]-elim</a> <a id="2902" class="Symbol">=</a> <a id="2904" href="Foundation.Data.List.SetTheoretic.html#723" class="Function">∈filter-elim</a> <a id="2917" class="Symbol">(λ</a> <a id="2920" href="Foundation.Relation.Nullary.Discrete.List.html#2920" class="Bound">_</a> <a id="2922" class="Symbol">→</a> <a id="2924" href="Relation.Nullary.Decidable.Core.html#2458" class="Function">¬?</a> <a id="2927" href="Function.Base.html#4724" class="Function">it</a><a id="2929" class="Symbol">)</a>
</pre>
<p><strong><u>引理</u></strong> 移除元素后的列表包含于原列表.</p>
<pre class="Agda"><a id="∖[]⊆"></a><a id="2975" href="Foundation.Relation.Nullary.Discrete.List.html#2975" class="Function">∖[]⊆</a> <a id="2980" class="Symbol">:</a> <a id="2982" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="2985" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">∖[</a> <a id="2988" href="Foundation.Relation.Nullary.Discrete.List.html#753" class="Generalizable">x</a> <a id="2990" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">]</a> <a id="2992" href="Data.List.Relation.Binary.Subset.Setoid.html#825" class="Function Operator">⊆</a> <a id="2994" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a>
<a id="2997" href="Foundation.Relation.Nullary.Discrete.List.html#2975" class="Function">∖[]⊆</a> <a id="3002" href="Foundation.Relation.Nullary.Discrete.List.html#3002" class="Bound">x∈</a> <a id="3005" class="Symbol">=</a> <a id="3007" href="Foundation.Relation.Nullary.Discrete.List.html#2849" class="Function">∈∖[]-elim</a> <a id="3017" href="Foundation.Relation.Nullary.Discrete.List.html#3002" class="Bound">x∈</a> <a id="3020" class="Symbol">.</a><a id="3021" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a>
</pre>
<p><strong><u>引理</u></strong> <code>y ∷ xs ⊆ y ∷ xs ∖[ y ]</code>.</p>
<pre class="Agda"><a id="∷⊆∷∖[]"></a><a id="3079" href="Foundation.Relation.Nullary.Discrete.List.html#3079" class="Function">∷⊆∷∖[]</a> <a id="3086" class="Symbol">:</a> <a id="3088" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a> <a id="3090" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3092" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="3095" href="Data.List.Relation.Binary.Subset.Setoid.html#825" class="Function Operator">⊆</a> <a id="3097" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a> <a id="3099" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3101" href="Foundation.Relation.Nullary.Discrete.List.html#763" class="Generalizable">xs</a> <a id="3104" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">∖[</a> <a id="3107" href="Foundation.Relation.Nullary.Discrete.List.html#755" class="Generalizable">y</a> <a id="3109" href="Foundation.Relation.Nullary.Discrete.List.html#2656" class="Function Operator">]</a>
<a id="3111" href="Foundation.Relation.Nullary.Discrete.List.html#3079" class="Function">∷⊆∷∖[]</a> <a id="3118" class="Symbol">(</a><a id="3119" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3124" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3128" class="Symbol">)</a> <a id="3130" class="Symbol">=</a> <a id="3132" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3137" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3142" href="Foundation.Relation.Nullary.Discrete.List.html#3079" class="Function">∷⊆∷∖[]</a> <a id="3149" class="Symbol">{</a><a id="3150" href="Foundation.Relation.Nullary.Discrete.List.html#3150" class="Bound">y</a><a id="3151" class="Symbol">}</a> <a id="3153" class="Symbol">{</a><a id="3154" href="Foundation.Relation.Nullary.Discrete.List.html#3154" class="Bound">x</a><a id="3155" class="Symbol">}</a> <a id="3157" class="Symbol">(</a><a id="3158" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3164" href="Foundation.Relation.Nullary.Discrete.List.html#3164" class="Bound">x∈</a><a id="3166" class="Symbol">)</a> <a id="3168" class="Keyword">with</a> <a id="3173" href="Foundation.Relation.Nullary.Discrete.List.html#3154" class="Bound">x</a> <a id="3175" href="Foundation.Relation.Nullary.Discrete.Base.html#999" class="Function Operator">≟</a> <a id="3177" href="Foundation.Relation.Nullary.Discrete.List.html#3150" class="Bound">y</a>
<a id="3179" class="Symbol">...</a> <a id="3183" class="Symbol">|</a> <a id="3185" href="Relation.Nullary.Decidable.Core.html#1611" class="InductiveConstructor">yes</a> <a id="3189" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3194" class="Symbol">=</a> <a id="3196" href="Data.List.Relation.Unary.Any.html#1226" class="InductiveConstructor">here</a> <a id="3201" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3206" class="Symbol">...</a> <a id="3210" class="Symbol">|</a> <a id="3212" href="Relation.Nullary.Decidable.Core.html#1648" class="InductiveConstructor">no</a> <a id="3215" href="Foundation.Relation.Nullary.Discrete.List.html#3215" class="Bound">x≢y</a> <a id="3219" class="Symbol">=</a> <a id="3221" href="Data.List.Relation.Unary.Any.html#1279" class="InductiveConstructor">there</a> <a id="3227" class="Symbol">(</a><a id="3228" href="Foundation.Relation.Nullary.Discrete.List.html#2763" class="Function">∈∖[]-intro</a> <a id="3239" class="Bound">x∈</a> <a id="3242" href="Foundation.Relation.Nullary.Discrete.List.html#3215" class="Bound">x≢y</a><a id="3245" class="Symbol">)</a>
</pre>
<hr />
<blockquote>
<p>知识共享许可协议: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC-BY-NC-SA 4.0</a><br />
<a href="https://github.com/choukh/MetaLogic/blob/main/src/Foundation/Relation/Nullary/Discrete/List.lagda.md">GitHub</a> | <a href="https://choukh.github.io/MetaLogic/Foundation.Relation.Nullary.Discrete.List.html">GitHub Pages</a> | <a href="https://www.yuque.com/ocau/metalogic/foundation.discrete.list">语雀</a><br />
交流Q群: 893531731</p>
</blockquote>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
