<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Foundation.Essential</title>
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/skylighting-solarized-theme.css" />
  <script type="text/javascript" src="highlight-hover.js"></script>
</head>
<body>

<header>
<h1 class="title"></h1>
<blockquote class="metadata">
</blockquote>
</header>

<nav id="TOC" role="doc-toc">
    <strong>Contents</strong><label for="contents">⊕</label>
  <input type="checkbox" id="contents">
  <ul>
  <li><a href="#元语言" id="toc-元语言">元语言</a>
  <ul>
  <li><a href="#前言" id="toc-前言">前言</a></li>
  <li><a href="#基础概念" id="toc-基础概念">基础概念</a>
  <ul>
  <li><a href="#前奏" id="toc-前奏">前奏</a></li>
  <li><a href="#逻辑" id="toc-逻辑">逻辑</a></li>
  <li><a href="#集合" id="toc-集合">集合</a></li>
  <li><a href="#函数-1" id="toc-函数-1">函数</a></li>
  <li><a href="#数据类型" id="toc-数据类型">数据类型</a></li>
  <li><a href="#关系" id="toc-关系">关系</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>

<main>
<h1 id="元语言">元语言</h1>
<h2 id="前言">前言</h2>
<p>我们的研究对象是一阶逻辑等形式语言, 我们将其称为对象语言. 同时, 为了表达有关对象语言的命题和证明, 我们需要一个不同于对象语言的外部语言, 这个外部语言称为元语言. 传统上, 一阶逻辑等的元语言通常采用原始递归算术 (PRA) 等“低级”算术语言. 这主要是出于建立自下而上的逻辑体系以及满足有限主义哲学需求的考虑. 然而, 我们这里并不考虑这些因素, 而是采用一种称为<a href="https://www.bananaspace.org/wiki/%E5%90%8C%E4%BC%A6%E7%B1%BB%E5%9E%8B%E8%AE%BA">同伦类型论 (HoTT)</a> 的“高级”语言作为元语言. 由于 HoTT 是一种更贴近数学实践的形式语言, 我们认为它可以在一定程度上兼顾形式上的严格与表达上的自然, 从而使完全形式化的入门讲义成为可能, 这也是我们的目标.</p>
<p>需要注意的是, HoTT 实际上是一系列理论的统称, 就像“集合论”有 ZFC, NBG, MK 等等一样. 本文具体使用的 HoTT 叫做 <a href="https://agda.readthedocs.io/en/v2.6.4/language/cubical.html">Cubical Agda</a>. 它非常严格, 以至于可以通过计算机来检查证明语句的正确性. 实际上它就是一种编程语言, 只不过其生态注重于数学证明而非软件应用. 借助 <a href="https://agda.readthedocs.io/en/latest/tools/literate-programming.html">Agda 的文学编程</a> 功能, <a href="https://github.com/choukh/MetaLogic/blob/main/src/Foundation/Essential.lagda.md">本 Markdown 文件</a> 实际上就是 Agda 源码, 可以直接做类型检查, 以检验证明语句的正确性. 基于这一特性, 我们实验性地采用以下编排方式: 自然语言与代码级的形式语言并行使用, 交替排列, 构成双重元语言, 以构筑对象语言. 我们会将 Agda 语句放在代码块中, 而正文的自然语言则可以认为是对这些代码的注释. 我们希望两种元语言可以相互解释, 互为补充.</p>
<p>当然, 这要求读者对 HoTT 和 Agda 都有一定的了解. 我们不会在本文中对这些内容进行详细的介绍, 而是假设读者已经具备了一定的基础. 如果读者对 HoTT 和 Agda 还不熟悉, 我们推荐读者阅读以下资料:</p>
<ul>
<li>HoTT入门: <a href="https://homotopytypetheory.org/book/">HoTT Book</a></li>
<li>Agda + 泛等基础入门: <a href="https://www.cs.bham.ac.uk/~mhe/HoTT-UF-in-Agda-Lecture-Notes/">Introduction to Univalent Foundations of Mathematics with Agda</a></li>
<li>中文版快速参考: <a href="https://www.yuque.com/ocau/hset/ti2u9nvok36hmibm">Agda 泛等基础</a></li>
</ul>
<h2 id="基础概念">基础概念</h2>
<p>以下统一列出元语言中可以谈论的基础概念, 正篇中将直接使用它们而不再额外定义. 简单来说, 它们只不过是对 <a href="https://github.com/agda/cubical">Cubical 标准库</a> 的重新封装, 以满足我们的特殊需求: 尽可能使用命题相等 (Propositional Equality) 而不是道路 (Path), 以方便我们的形式化, 因为我们不涉及高阶同伦概念.</p>
<pre class="Agda"><a id="1610" class="Keyword">module</a> <a id="1617" href="Foundation.Essential.html" class="Module">Foundation.Essential</a> <a id="1638" class="Keyword">where</a>
</pre>
<h3 id="前奏">前奏</h3>
<p>前奏 (Prelude) 是基础中的基础, 是定义其他基础概念所必须的基础概念, 以至于有些是原始概念, 如道路类型. 这些原始概念具体涉及到 Cubical 类型论的规则, 这里不深入其细节, 而只作为一个黑盒使用.</p>
<h4 id="内置">内置</h4>
<pre class="Agda"><a id="1785" class="Keyword">open</a> <a id="1790" class="Keyword">import</a> <a id="1797" href="Foundation.Prelude.Builtin.html" class="Module">Foundation.Prelude.Builtin</a> <a id="1824" class="Keyword">public</a>
</pre>
<p>内置 (Builtin) 模块主要包括带编译器支持的一些原始概念, 如宇宙和道路类型等, 以及一些基本数据类型:</p>
<ul>
<li>宇宙: 类型宇宙 <code>𝕋</code>, 宇宙层级 <code>Level</code>, 零级宇宙 <code>0ℓ</code>, 后继宇宙 <code>_⁺</code>, 宇宙二元并 <code>_⊔_</code>, 宇宙提升 <code>Lift</code></li>
<li>同一性类型: 命题相等类型 <code>_≡_</code>, 道路类型 <code>_≡🧊_</code></li>
<li>基本数据类型: 单元类型 <code>⊤</code>, 布尔类型 <code>𝔹</code>, 自然数类型 <code>ℕ</code>, 列表 (有序不定长有限集合) 类型 <code>𝕃</code>, Σ类型 <code>Σ</code></li>
</ul>
<p>注意, 对某些相似概念的 Cubical 版本, 我们会在其名字中带上“🧊”, 以示区别. 此外, 我们对符号作如下约定:</p>
<ul>
<li>宇宙层级编号: <code>ℓ ℓ′ ℓ″ ℓ‴ ℓ⁗ ℓ₀ ℓ₁ ℓ₂ ℓ₃ ℓ₄ : Level</code></li>
<li>位于任意宇宙的类型: <code>A B C D T : 𝕋 ℓ</code></li>
<li>类型族 / 一元关系: <code>P Q : A → 𝕋 ℓ</code></li>
<li>二元关系: <code>R S : A → B → 𝕋 ℓ</code></li>
<li>依值类型族: <code>P₂ Q₂ : (x : A) → P x → 𝕋 ℓ</code></li>
</ul>
<p>注意当我们说“任意”的时候指的是 arbitrary, 而对于 forall, 我们一定会说“所有”或“对任意”. 我们保留“谓词”这个名称给可以证明是命题的一元关系. 最后, 我们约定Σ类型 <code>Σ A (λ x → P)</code>, 即满足 <code>P</code> 的 <code>A</code>, 可以简记为 <code>Σ x ꞉ A ⸴ P</code>, 或者 <code>Σ x ⸴ P</code>.</p>
<h4 id="函数">函数</h4>
<pre class="Agda"><a id="2502" class="Keyword">open</a> <a id="2507" class="Keyword">import</a> <a id="2514" href="Foundation.Prelude.Function.html" class="Module">Foundation.Prelude.Function</a> <a id="2542" class="Keyword">public</a>
</pre>
<p>前奏中的函数模块主要定义与函数有关的一些便利记法:</p>
<ul>
<li>恒等函数构造函数 <code>id = λ x → x</code></li>
<li>恒等函数一元关系 <code>isId = λ f → ∀ x y → f x ≡ f y</code></li>
<li>一元函数复合 <code>f ∘ g = λ x → f (g x)</code></li>
<li>一元-二元函数复合 <code>f ∘₂ g = λ x y → f (g x y)</code></li>
<li>一元-三元函数复合 <code>f ∘₃ g = λ x y z → f (g x y z)</code></li>
<li>二元函数参数翻转 <code>flip = λ f x y → f y x</code></li>
<li>函数应用 <code>f $ x = f x</code>, 用于当参数本身是个函数应用时省略参数外层的括号</li>
</ul>
<h4 id="命题相等">命题相等</h4>
<pre class="Agda"><a id="2872" class="Keyword">open</a> <a id="2877" class="Keyword">import</a> <a id="2884" href="Foundation.Prelude.Equality.html" class="Module">Foundation.Prelude.Equality</a> <a id="2912" class="Keyword">public</a>
</pre>
<h4 id="同伦层级">同伦层级</h4>
<pre class="Agda"><a id="2943" class="Keyword">open</a> <a id="2948" class="Keyword">import</a> <a id="2955" href="Foundation.Prelude.HLevel.html" class="Module">Foundation.Prelude.HLevel</a> <a id="2981" class="Keyword">public</a>
</pre>
<h4 id="其他">其他</h4>
<pre class="Agda"><a id="3010" class="Keyword">open</a> <a id="3015" class="Keyword">import</a> <a id="3022" href="Foundation.Prelude.Misc.html" class="Module">Foundation.Prelude.Misc</a> <a id="3046" class="Keyword">public</a>
</pre>
<h3 id="逻辑">逻辑</h3>
<pre class="Agda"><a id="3074" class="Keyword">open</a> <a id="3079" class="Keyword">import</a> <a id="3086" href="Foundation.Logic.html" class="Module">Foundation.Logic</a> <a id="3103" class="Keyword">public</a>
</pre>
<h3 id="集合">集合</h3>
<pre class="Agda"><a id="3131" class="Keyword">open</a> <a id="3136" class="Keyword">import</a> <a id="3143" href="Foundation.Set.Powerset.html" class="Module">Foundation.Set.Powerset</a> <a id="3167" class="Keyword">public</a>
</pre>
<h3 id="函数-1">函数</h3>
<pre class="Agda"><a id="3195" class="Keyword">open</a> <a id="3200" class="Keyword">import</a> <a id="3207" href="Foundation.Function.Bundles.html" class="Module">Foundation.Function.Bundles</a> <a id="3235" class="Keyword">public</a>
<a id="3242" class="Keyword">open</a> <a id="3247" class="Keyword">import</a> <a id="3254" href="Foundation.Function.Sequance.html" class="Module">Foundation.Function.Sequance</a> <a id="3283" class="Keyword">public</a>
</pre>
<h3 id="数据类型">数据类型</h3>
<pre class="Agda"><a id="3313" class="Keyword">open</a> <a id="3318" class="Keyword">import</a> <a id="3325" href="Foundation.Data.Empty.html" class="Module">Foundation.Data.Empty</a> <a id="3347" class="Keyword">public</a>
<a id="3354" class="Keyword">open</a> <a id="3359" class="Keyword">import</a> <a id="3366" href="Foundation.Data.Unit.html" class="Module">Foundation.Data.Unit</a> <a id="3387" class="Keyword">public</a>
<a id="3394" class="Keyword">open</a> <a id="3399" class="Keyword">import</a> <a id="3406" href="Foundation.Data.Bool.html" class="Module">Foundation.Data.Bool</a> <a id="3427" class="Keyword">public</a>
<a id="3434" class="Keyword">open</a> <a id="3439" class="Keyword">import</a> <a id="3446" href="Foundation.Data.Nat.html" class="Module">Foundation.Data.Nat</a> <a id="3466" class="Keyword">public</a>
<a id="3473" class="Keyword">open</a> <a id="3478" class="Keyword">import</a> <a id="3485" href="Foundation.Data.Sigma.html" class="Module">Foundation.Data.Sigma</a> <a id="3507" class="Keyword">public</a>
<a id="3514" class="Keyword">open</a> <a id="3519" class="Keyword">import</a> <a id="3526" href="Foundation.Data.Sum.html" class="Module">Foundation.Data.Sum</a> <a id="3546" class="Keyword">public</a>
<a id="3553" class="Keyword">open</a> <a id="3558" class="Keyword">import</a> <a id="3565" href="Foundation.Data.List.html" class="Module">Foundation.Data.List</a> <a id="3586" class="Keyword">public</a>
<a id="3593" class="Keyword">open</a> <a id="3598" class="Keyword">import</a> <a id="3605" href="Foundation.Data.Vec.html" class="Module">Foundation.Data.Vec</a> <a id="3625" class="Keyword">public</a>
</pre>
<h3 id="关系">关系</h3>
<pre class="Agda"><a id="3653" class="Keyword">open</a> <a id="3658" class="Keyword">import</a> <a id="3665" href="Foundation.Relation.Nullary.Negation.html" class="Module">Foundation.Relation.Nullary.Negation</a> <a id="3702" class="Keyword">public</a>
<a id="3709" class="Keyword">open</a> <a id="3714" class="Keyword">import</a> <a id="3721" href="Foundation.Relation.Nullary.Decidable.html" class="Module">Foundation.Relation.Nullary.Decidable</a> <a id="3759" class="Keyword">public</a>
<a id="3766" class="Keyword">open</a> <a id="3771" class="Keyword">import</a> <a id="3778" href="Foundation.Relation.Nullary.Discrete.html" class="Module">Foundation.Relation.Nullary.Discrete</a> <a id="3815" class="Keyword">public</a>

<a id="3823" class="Keyword">open</a> <a id="3828" class="Keyword">import</a> <a id="3835" href="Foundation.Relation.Unary.Countable.html" class="Module">Foundation.Relation.Unary.Countable</a> <a id="3871" class="Keyword">public</a>
<a id="3878" class="Keyword">open</a> <a id="3883" class="Keyword">import</a> <a id="3890" href="Foundation.Relation.Unary.Enumerable.html" class="Module">Foundation.Relation.Unary.Enumerable</a> <a id="3927" class="Symbol">as</a> <a id="3930" class="Module">E</a> <a id="3932" class="Keyword">public</a>
<a id="3939" class="Keyword">open</a> <a id="3944" href="Foundation.Relation.Unary.Enumerable.html#2015" class="Module">E.ListView</a> <a id="3955" class="Keyword">public</a>
</pre>
<blockquote>
<p>知识共享许可协议: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC-BY-NC-SA 4.0</a><br />
<a href="https://github.com/choukh/MetaLogic/blob/main/src/Foundation/Essential.lagda.md">GitHub</a> | <a href="https://choukh.github.io/MetaLogic/Foundation.Essential.html">GitHub Pages</a> | <a href="https://www.yuque.com/ocau/metalogic/foundation.essential">语雀</a><br />
交流Q群: 893531731</p>
</blockquote>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
